#!/bin/sh

#
# See setup for user tweakables.
#
. ./setup

if test "z$SYSTEM_GCC" != "z"; then
    echo "Not building gcc / binutils";
else
    # build binutils
    echo "Building $BINUTILS_VER";
    cd $BUILDDIR/$BINUTILS_VER
    ./configure --prefix=$BUILDDIR || exit 1;
    make && make install || exit 1;

    echo "Building $GCC_VER";
    cd $BUILDDIR/$GCC_VER
    ./configure --prefix=$BUILDDIR --enable-languages=c++ || exit 1;
    make && make install || exit 1;
fi

if test "z$SYSTEM_EPM" != "z"; then
    echo "Not building epm"
else
    echo "Building $EPM_VER";
    cd $BUILDDIR/$EPM_VER
    ./configure --prefix=$BUILDDIR || exit 1
    make && make install || exit 1
fi
