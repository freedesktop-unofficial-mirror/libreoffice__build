desktop/source/migration/migration.cxx
        + MigrationCompleted -> set a setting in our config ...

* need to:
        + auto-migrate
                + unless it has been migrated before [!]
                + if so, warn the user - throw up dialog etc.

* builds install_info ?

"cancelMigration"
        + dead code - never called ...

* checkMigration - hmm ! ...
        + what is that berkelydb thing we load at start each time ?
                + migration baa ?


* called from Desktop:
        + desktop/source/app/app.cxx

* unxsplash quick-starter ... [!]
        + needs migration legends throwing up ...
        + splash.cxx:setText()
                + app.cxx:SetSplashScreenText()

        + what fun - write them to the pipe (from where?) :-)

* bug:
        + first launch after migration => we get the quick-starter ...
        + most odd [!] - why !?
                + why not 2nd launch etc. ?


* bin source/deployment/gui/license_dialog.* ?
        + fun !



(gdb) bt
#0  desktop::SplashScreen::setText (this=0x8620158, rText=...) at /data/opt/OpenOffice/loffice/desktop/source/splash/splash.cxx:142
#1  0xb7dbbabc in desktop::Desktop::SetSplashScreenText (this=0xbfffebf4, rText=...) at /data/opt/OpenOffice/loffice/desktop/source/app/app.cxx:3242
#2  0xb7dca5b0 in (anonymous namespace)::SilentCommandEnv::push (this=0x86335e8, rStatus=...) at /data/opt/OpenOffice/loffice/desktop/source/app/check_ext_deps.cxx:197
#3  0xb0190e94 in dp_misc::ProgressLevel::ProgressLevel (this=0xbfffe77c, xCmdEnv=..., status=...) at ../inc/dp_interact.h:80
#4  0xb01a43e1 in dp_manager::ExtensionManager::synchronize (this=0x87b99b0, xAbortChannel=..., xCmdEnv=...)
    at /data/opt/OpenOffice/loffice/desktop/source/deployment/manager/dp_extensionmanager.cxx:1273
#5  0xb76a5b88 in dp_misc::syncRepositories (xCmdEnv=...) at /data/opt/OpenOffice/loffice/desktop/source/deployment/misc/dp_misc.cxx:610
#6  0xb7dcb79e in desktop::Desktop::SynchronizeExtensionRepositories (this=0xbfffebf4) at /data/opt/OpenOffice/loffice/desktop/source/app/check_ext_deps.cxx:431
#7  0xb7db243c in desktop::Desktop::Main (this=0xbfffebf4) at /data/opt/OpenOffice/loffice/desktop/source/app/app.cxx:1718
#8  0xb671d206 in ImplSVMain() () from /data/opt/LOInstall/program/../basis-link/program/libvclli.so
#9  0xb671d314 in SVMain() () from /data/opt/LOInstall/program/../basis-link/program/libvclli.so
#10 0xb7de3ca0 in soffice_main () at /data/opt/OpenOffice/loffice/desktop/source/app/sofficemain.cxx:50
#11 0x08048d24 in main ()

...

#0  desktop::SplashScreen::setText (this=0x8620158, rText=...) at /data/opt/OpenOffice/loffice/desktop/source/splash/splash.cxx:142
#1  0xb7dbbabc in desktop::Desktop::SetSplashScreenText (this=0xbfffebf4, rText=...) at /data/opt/OpenOffice/loffice/desktop/source/app/app.cxx:3242
#2  0xb7dca5b0 in (anonymous namespace)::SilentCommandEnv::push (this=0x86335e8, rStatus=...) at /data/opt/OpenOffice/loffice/desktop/source/app/check_ext_deps.cxx:197
#3  0xb0190e94 in dp_misc::ProgressLevel::ProgressLevel (this=0xbfffe624, xCmdEnv=..., status=...) at ../inc/dp_interact.h:80
#4  0xb01b149e in dp_registry::backend::Package::processPackage_impl (this=0x8913f00, doRegisterPackage=true, startup=true, xAbortChannel=..., xCmdEnv=...)
    at /data/opt/OpenOffice/loffice/desktop/source/deployment/registry/dp_backend.cxx:663
#5  0xb01b18cf in dp_registry::backend::Package::registerPackage (this=0x8913f00, startup=1 '\001', xAbortChannel=..., xCmdEnv=...)
    at /data/opt/OpenOffice/loffice/desktop/source/deployment/registry/dp_backend.cxx:714
#6  0xb019fa6c in dp_manager::ExtensionManager::activateExtension (this=0x87b99b0, seqExt=..., bUserDisabled=false, bStartup=true, xAbortChannel=..., xCmdEnv=...)
    at /data/opt/OpenOffice/loffice/desktop/source/deployment/manager/dp_extensionmanager.cxx:486
#7  0xb01a461d in dp_manager::ExtensionManager::synchronize (this=0x87b99b0, xAbortChannel=..., xCmdEnv=...)
    at /data/opt/OpenOffice/loffice/desktop/source/deployment/manager/dp_extensionmanager.cxx:1300
#8  0xb76a5b88 in dp_misc::syncRepositories (xCmdEnv=...) at /data/opt/OpenOffice/loffice/desktop/source/deployment/misc/dp_misc.cxx:610
#9  0xb7dcb79e in desktop::Desktop::SynchronizeExtensionRepositories (this=0xbfffebf4) at /data/opt/OpenOffice/loffice/desktop/source/app/check_ext_deps.cxx:431
#10 0xb7db243c in desktop::Desktop::Main (this=0xbfffebf4) at /data/opt/OpenOffice/loffice/desktop/source/app/app.cxx:1718
#11 0xb671d206 in ImplSVMain() () from /data/opt/LOInstall/program/../basis-link/program/libvclli.so
#12 0xb671d314 in SVMain() () from /data/opt/LOInstall/program/../basis-link/program/libvclli.so
#13 0xb7de3ca0 in soffice_main () at /data/opt/OpenOffice/loffice/desktop/source/app/sofficemain.cxx:50
#14 0x08048d24 in main ()

...

#0  desktop::SplashScreen::setText (this=0x8620158, rText=...) at /data/opt/OpenOffice/loffice/desktop/source/splash/splash.cxx:142
#1  0xb7dbbabc in desktop::Desktop::SetSplashScreenText (this=0xbfffebf4, rText=...) at /data/opt/OpenOffice/loffice/desktop/source/app/app.cxx:3242
#2  0xb7dca5b0 in (anonymous namespace)::SilentCommandEnv::push (this=0x86335e8, rStatus=...) at /data/opt/OpenOffice/loffice/desktop/source/app/check_ext_deps.cxx:197
#3  0xb0190e94 in dp_misc::ProgressLevel::ProgressLevel (this=0xbfffe624, xCmdEnv=..., status=...) at ../inc/dp_interact.h:80
#4  0xb01b149e in dp_registry::backend::Package::processPackage_impl (this=0x8823a50, doRegisterPackage=true, startup=true, xAbortChannel=..., xCmdEnv=...)
    at /data/opt/OpenOffice/loffice/desktop/source/deployment/registry/dp_backend.cxx:663
#5  0xb01b18cf in dp_registry::backend::Package::registerPackage (this=0x8823a50, startup=1 '\001', xAbortChannel=..., xCmdEnv=...)
    at /data/opt/OpenOffice/loffice/desktop/source/deployment/registry/dp_backend.cxx:714
#6  0xb019fa6c in dp_manager::ExtensionManager::activateExtension (this=0x87b99b0, seqExt=..., bUserDisabled=false, bStartup=true, xAbortChannel=..., xCmdEnv=...)
    at /data/opt/OpenOffice/loffice/desktop/source/deployment/manager/dp_extensionmanager.cxx:486
#7  0xb01a461d in dp_manager::ExtensionManager::synchronize (this=0x87b99b0, xAbortChannel=..., xCmdEnv=...)
    at /data/opt/OpenOffice/loffice/desktop/source/deployment/manager/dp_extensionmanager.cxx:1300
#8  0xb76a5b88 in dp_misc::syncRepositories (xCmdEnv=...) at /data/opt/OpenOffice/loffice/desktop/source/deployment/misc/dp_misc.cxx:610
#9  0xb7dcb79e in desktop::Desktop::SynchronizeExtensionRepositories (this=0xbfffebf4) at /data/opt/OpenOffice/loffice/desktop/source/app/check_ext_deps.cxx:431
#10 0xb7db243c in desktop::Desktop::Main (this=0xbfffebf4) at /data/opt/OpenOffice/loffice/desktop/source/app/app.cxx:1718
#11 0xb671d206 in ImplSVMain() () from /data/opt/LOInstall/program/../basis-link/program/libvclli.so
#12 0xb671d314 in SVMain() () from /data/opt/LOInstall/program/../basis-link/program/libvclli.so
#13 0xb7de3ca0 in soffice_main () at /data/opt/OpenOffice/loffice/desktop/source/app/sofficemain.cxx:50
#14 0x08048d24 in main ()


../../source/deployment/misc/dp_misc.cxx
        + requests a restart [!]

** FIXME:
        + do we -really- need to re-start if we have just modified
          / created some extensions from nothing ?
                + or not ?

        + should we endlessly re-start ourselves if an exit is
          requested ? [ no - should time-out I think ]

* TODO:
        + osl_addSignalHandler
                desktop/source/app/app.cxx: SalMainPipeExchangeSignal_impl
                        + disables the office IPC thread ...
                        + URK - this takes a mutex - from a signal handler [!]
                                + what if we crash in a pthread_mutex_lock ...

                vcl/source/app/svmain.cxx: VCLExceptionSignal_impl
                        + calls the Apps' "Exception" method with
                                EXC_SYSTEM or somesuch ...

        * We should touch the stamp file before we start migrating, so it
          will not be re-attempted if we crash during it ... [!] :-)
