Index: vcl/inc/salframe.hxx
===================================================================
RCS file: /cvs/gsl/vcl/inc/salframe.hxx,v
retrieving revision 1.9
diff -u -r1.9 salframe.hxx
--- vcl/inc/salframe.hxx	23 Nov 2001 12:16:32 -0000	1.9
+++ vcl/inc/salframe.hxx	28 Nov 2002 17:16:42 -0000
@@ -241,6 +241,8 @@
     // Callbacks (indepen in \sv\source\app\svframe.cxx)
     // for default message handling return 0
     void                    SetCallback( void* pInst, SALFRAMEPROC pProc );
+
+    void                    SetBgImage ( SalBitmap *bmp );
 };
 
 #endif // __cplusplus
Index: vcl/inc/window.hxx
===================================================================
RCS file: /cvs/gsl/vcl/inc/window.hxx,v
retrieving revision 1.17
diff -u -r1.17 window.hxx
--- vcl/inc/window.hxx	30 Oct 2001 08:27:01 -0000	1.17
+++ vcl/inc/window.hxx	28 Nov 2002 17:16:45 -0000
@@ -714,6 +714,8 @@
     void                LeaveWait();
     BOOL                IsWait() const { return (mnWaitCount != 0); }
 
+    void                SetBgImage ( Bitmap &bmp );
+
     void                SetCursor( Cursor* pCursor );
     Cursor*             GetCursor() const { return mpCursor; }
 
Index: vcl/source/window/window.cxx
===================================================================
RCS file: /cvs/gsl/vcl/source/window/window.cxx,v
retrieving revision 1.48.2.1
diff -u -r1.48.2.1 window.cxx
--- vcl/source/window/window.cxx	14 Dec 2001 13:54:14 -0000	1.48.2.1
+++ vcl/source/window/window.cxx	28 Nov 2002 17:18:02 -0000
@@ -7046,3 +7046,11 @@
 
     return static_cast < XClipboard * > (0);
 }
+
+#include <impbmp.hxx>
+
+void
+Window::SetBgImage ( Bitmap &bmp )
+{
+  mpFrame->SetBgImage ( bmp.ImplGetImpBitmap ()->ImplGetSalBitmap ());
+}

Index: vcl/unx/inc/salbmp.hxx
===================================================================
RCS file: /cvs/gsl/vcl/unx/inc/salbmp.hxx,v
retrieving revision 1.3
diff -u -r1.3 salbmp.hxx
--- vcl/unx/inc/salbmp.hxx	29 Aug 2001 16:14:00 -0000	1.3
+++ vcl/unx/inc/salbmp.hxx	28 Nov 2002 17:18:03 -0000
@@ -84,6 +84,7 @@
 
 class SalBitmap
 {
+  friend class SalFrame;
 private:
 
 	static BitmapBuffer*		ImplCreateDIB( const Size& rSize,
@@ -219,6 +220,7 @@
 
 class ImplSalBitmapCache
 {
+  friend class SalFrame;
 private:
 
 	List			maBmpList;

Index: vcl/unx/source/window/salframe.cxx
===================================================================
RCS file: /cvs/gsl/vcl/unx/source/window/salframe.cxx,v
retrieving revision 1.114.2.5
diff -u -r1.114.2.5 salframe.cxx
--- vcl/unx/source/window/salframe.cxx	27 Aug 2002 17:52:47 -0000	1.114.2.5
+++ vcl/unx/source/window/salframe.cxx	28 Nov 2002 17:18:29 -0000
@@ -3313,3 +3307,21 @@
 	return nRet;
 }
 
+#include <stdio.h>
+
+void
+SalFrame::SetBgImage ( SalBitmap *sbmp )
+{
+  XLIB_Window window;
+  SalFrameData *data = &(this->maFrameData);
+  ImplSalDDB *ddb = sbmp ? sbmp->mpDDB : NULL;
+
+  window = data->GetWindow ();
+
+  if (ddb) {
+ //    fprintf (stderr, "Set image/pixmap\n");
+    XSetWindowBackgroundPixmap (data->GetXDisplay (), window,
+				ddb->ImplGetPixmap ());
+  } else
+    fprintf (stderr, "Can't set image / get pixmap ...");
+}

Index: desktop/source/app/intro.cxx
===================================================================
RCS file: /cvs/framework/desktop/source/app/intro.cxx,v
retrieving revision 1.3
diff -u -r1.3 intro.cxx
--- desktop/source/app/intro.cxx	7 Aug 2001 11:25:00 -0000	1.3
+++ desktop/source/app/intro.cxx	28 Nov 2002 17:18:34 -0000
@@ -95,7 +95,7 @@
 // -----------------------------------------------------------------------
 
 IntroWindow_Impl::IntroWindow_Impl( const Bitmap& aIntroBitmap ) :
-	WorkWindow( NULL, (WinBits)0 ),
+    	WorkWindow( NULL, WB_CLOSEABLE),
 	m_aIntroBmp( aIntroBitmap )
 {
 	RTL_LOGFILE_CONTEXT( aLog, "desktop (cd100003) ::IntroWindow_Impl::IntroWindowImpl" );
@@ -117,6 +117,7 @@
 void IntroWindow_Impl::Paint( const Rectangle& )
 {
 	DrawBitmap( Point(), m_aIntroBmp );
+	SetBgImage( m_aIntroBmp );
 	Flush();
 }
 

