Index: oo_cvs/bitstream_vera_fonts/makefile.mk
===================================================================
RCS file: /cvs/external/addons/bitstream_vera_fonts/makefile.mk,v
retrieving revision 1.1
diff -u -3 -p -r1.1 makefile.mk
--- bitstream_vera_fonts/makefile.mk	28 May 2003 13:24:47 -0000	1.1
+++ bitstream_vera_fonts/makefile.mk	30 Jun 2003 16:07:34 -0000
@@ -92,7 +92,10 @@ all: \
 	
 .INCLUDE : set_ext.mk
 .INCLUDE : target.mk
+
+.IF "$(WITHOUT_FONTS)"!="YES"
 .INCLUDE : tg_ext.mk
+.ENDIF
 
 # Since you never know what will be in a patch (for example, it may already
 # patch at configure level), we remove the entire package directory if a patch
Index: oo_cvs/scp/source/office/files.scp
===================================================================
RCS file: /cvs/installation/scp/source/office/files.scp,v
retrieving revision 1.369.10.1
diff -u -3 -p -r1.369.10.1 files.scp
--- scp/source/office/files.scp	1 Aug 2003 12:14:45 -0000	1.369.10.1
+++ scp/source/office/files.scp	13 Aug 2003 09:24:18 -0000
@@ -2560,15 +2560,12 @@ File GID_FILE_BIN_PLUGINAPP
         Styles          = (PACKED);
 End
 
-#ifndef OSL_PRODUCT
-
-STD_FONTUNX_FILE( GID_FILE_FNT_STARSYMB, starsymb.ttf, StarSymbol)
-
-#endif
-
 #ifdef OSL_PRODUCT
 
 STD_FONTUNX_FILE( GID_FILE_FNT_OPENSYMB, opens___.ttf, OpenSymbol)
+
+#ifdef WITH_FONTS
+
 STD_FONTUNX_FILE( GID_FILE_FNT_VERABD, VeraBd.ttf, Vera Sans Bold)
 STD_FONTUNX_FILE( GID_FILE_FNT_VERABI, VeraBI.ttf, Vera Sans Bold Oblique)
 STD_FONTUNX_FILE( GID_FILE_FNT_VERAIT, VeraIt.ttf, Vera Sans Oblique)
@@ -2581,6 +2578,12 @@ STD_FONTUNX_FILE( GID_FILE_FNT_VERASEBD,
 
 #endif
 
+#else
+
+STD_FONTUNX_FILE( GID_FILE_FNT_STARSYMB, starsymb.ttf, StarSymbol)
+
+#endif // def OSL_PRODUCT
+
 File GID_FILE_EXTRA_CFGSRV_BITMAP_UNX
         Dir             = GID_DIR_CONFIG;
         ARCHIVE_TXT_FILE_BODY;
@@ -2705,15 +2708,12 @@ End
 
 #ifdef WNT                              // ACHUNG: Hier reine Windows-Dateien
 
-#ifndef OSL_PRODUCT
-
-STD_FONTWIN_FILE( GID_FILE_FNT_STARSYMB, starsymb.ttf, StarSymbol)
-
-#endif
-
 #ifdef OSL_PRODUCT
 
 STD_FONTWIN_FILE( GID_FILE_FNT_OPENSYMB, opens___.ttf, OpenSymbol)
+
+#ifdef WITH_FONTS
+
 STD_FONTWIN_FILE( GID_FILE_FNT_VERABD, VeraBd.ttf, Vera Sans Bold)
 STD_FONTWIN_FILE( GID_FILE_FNT_VERABI, VeraBI.ttf, Vera Sans Bold Italic)
 STD_FONTWIN_FILE( GID_FILE_FNT_VERAIT, VeraIt.ttf, Vera Sans Italic)
@@ -2725,6 +2725,12 @@ STD_FONTWIN_FILE( GID_FILE_FNT_VERASE, V
 STD_FONTWIN_FILE( GID_FILE_FNT_VERASEBD, VeraSeBd.ttf, Vera Serif Bold)
 
 #endif
+
+#else
+
+STD_FONTWIN_FILE( GID_FILE_FNT_STARSYMB, starsymb.ttf, StarSymbol)
+
+#endif // def OSL_PRODUCT
 
 #if defined (CLASSIC_FAT_PRODUCT) || defined (OSL_PRODUCT) || defined (FAM_PRODUCT)
 
Index: oo_cvs/scp/source/global/setupzip.scp
===================================================================
RCS file: /cvs/installation/scp/source/global/setupzip.scp,v
retrieving revision 1.114.4.1
diff -u -3 -p -r1.114.4.1 setupzip.scp
--- scp/source/global/setupzip.scp	31 Jul 2003 18:47:45 -0000	1.114.4.1
+++ scp/source/global/setupzip.scp	13 Aug 2003 09:24:18 -0000
@@ -575,7 +575,7 @@ File GID_FILE_LIB_FREETYPE
 End
 #endif
 
-#ifdef OSL_PRODUCT
+#ifdef OSL_PRODUCT && defined(WITH_FONTS)
 STD_FONTUNX_FILE( GID_FILE_FNT_VERA, Vera.ttf, Vera Sans)
 #endif
 
