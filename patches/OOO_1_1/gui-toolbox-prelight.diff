Index: vcl/source/window/toolbox.cxx
===================================================================
RCS file: /cvs/gsl/vcl/source/window/toolbox.cxx,v
retrieving revision 1.60
diff -u -p -u -r1.60 toolbox.cxx
--- vcl/source/window/toolbox.cxx	17 Apr 2003 15:19:46 -0000	1.60
+++ vcl/source/window/toolbox.cxx	2 Jun 2003 15:41:21 -0000
@@ -3043,13 +3042,16 @@ void ToolBox::ImplDrawItem( USHORT nPos,
         }
         if ( bHighlight || (pItem->meState == STATE_CHECK) )
         {
+#ifdef SELECTION_BG_LESS_UGLY
             DrawSelectionBackground( pItem->maRect, bHighlight, pItem->meState == STATE_CHECK, TRUE, pItem->mpWindow ? TRUE : FALSE );
+#endif
 
             // draw shadows
             if( bHighlight == 2 && pItem->meState != STATE_CHECK )
             {
                 nTempOffX++;
                 nTempOffY++;
+#ifdef SELECTION_BG_LESS_UGLY
                 if( pImage->HasMaskBitmap() )
                 {
                     Color aMaskCol = GetpApp()->GetSettings().GetStyleSettings().GetHighlightColor();
@@ -3060,6 +3062,7 @@ void ToolBox::ImplDrawItem( USHORT nPos,
                     aMaskCol = ImplHSBtoRGB( h, s, b );
                     DrawMask( Point( nTempOffX, nTempOffY ), pImage->GetMaskBitmap(), aMaskCol );
                 }
+#endif
                 nTempOffX-=2;
                 nTempOffY-=2;
             }
@@ -3125,9 +3133,11 @@ void ToolBox::ImplDrawItem( USHORT nPos,
             }
         }
 
+#ifdef SELECTION_BG_LESS_UGLY
         // draw selection only if not already draw during imgae output (see above)
         if ( !bLayout && !bImage && (bHighlight || (pItem->meState == STATE_CHECK) ) )
             DrawSelectionBackground( pItem->maRect, bHighlight, pItem->meState == STATE_CHECK, TRUE, pItem->mpWindow ? TRUE : FALSE );
+#endif
 
         USHORT nTextStyle = 0;
         if ( !pItem->mbEnabled )
@@ -3190,7 +3197,9 @@ void ToolBox::ImplDrawItem( USHORT nPos,
         BOOL bColTransform = FALSE;
         if( bHighlight || (pItem->meState == STATE_CHECK) )
         {
+#ifdef SELECTION_BG_LESS_UGLY
             DrawSelectionBackground( aClearRect, bHighlight, pItem->meState == STATE_CHECK, FALSE, FALSE );
+#endif
             if( bHighContrastWhite )
                 bColTransform = TRUE;
         }
 
