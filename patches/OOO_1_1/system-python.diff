** Not yet complete **
Index: python/makefile.mk
===================================================================
--- python/makefile.mk.orig	2004-08-25 21:44:18.605859776 +0200
+++ python/makefile.mk	2004-08-25 21:44:51.956789664 +0200
@@ -155,6 +155,9 @@ PYVERSIONFILE=$(MISC)$/pyversion.mk
 PYCONFIG=$(MISC)$/build$/pyconfig.h
 .ENDIF
 
+# Only build this project if there is no SYSTEM PYTHON
+.IF "$(SYSTEM_PYTHON)" == ""
+
 .INCLUDE : set_ext.mk
 .INCLUDE : target.mk
 .INCLUDE : tg_ext.mk
@@ -231,3 +234,7 @@ $(PYVERSIONFILE) : pyversion.mk $(PACKAG
 
 patch : $(MISC)$/convert_dos_flag
 
+.ELSE
+# Don't build
+dummy :
+.ENDIF
Index: pyuno/source/loader/makefile.mk
===================================================================
--- pyuno/source/loader/makefile.mk.orig	2004-08-25 21:44:18.606859624 +0200
+++ pyuno/source/loader/makefile.mk	2004-08-25 21:44:51.970787536 +0200
@@ -69,10 +69,16 @@ ENABLE_EXCEPTIONS=TRUE
 
 DLLPRE = 
 
+.IF "$(SYSTEM_PYTHON)" == ""
 .INCLUDE :  pyversion.mk
+.ENDIF
 #-------------------------------------------------------------------
 
+.IF "$(SYSTEM_PYTHON)" == ""
 CFLAGS+=-I$(SOLARINCDIR)$/python
+.ELSE
+CFLAGS+="$(PYTHON_CFLAGS)"
+.ENDIF
 
 .IF "$(OS)$(CPU)$(COMEX)" == "SOLARISS4"
 # no -Bdirect for SunWS CC
@@ -81,8 +87,12 @@ DIRECT = $(LINKFLAGSDEFS)
 
 .IF "$(GUI)" == "UNX"
 PYUNOLIB=-lpyuno
+.IF "$(SYSTEM_PYTHON)" == ""
 PYTHONLIB=-lpython
 .ELSE
+PYTHONLIB=-lpython$(PYMAJOR).$(PYMINOR)
+.ENDIF
+.ELSE
 PYUNOLIB=ipyuno.lib
 PYTHONLIB=python$(PYMAJOR)$(PYMINOR).lib
 .ENDIF
Index: pyuno/source/module/makefile.mk
===================================================================
--- pyuno/source/module/makefile.mk.orig	2004-08-25 21:44:18.607859472 +0200
+++ pyuno/source/module/makefile.mk	2004-08-25 21:44:51.971787384 +0200
@@ -66,10 +66,17 @@ ENABLE_EXCEPTIONS=TRUE
 # --- Settings -----------------------------------------------------
 
 .INCLUDE :  settings.mk
+.IF "$(SYSTEM_PYTHON)" == ""
 .INCLUDE :  pyversion.mk
+.ENDIF
 #-------------------------------------------------------------------
 
+.IF "$(SYSTEM_PYTHON)" == ""
 CFLAGS+=-I$(SOLARINCDIR)$/python
+.ELSE
+CFLAGS+="$(PYTHON_CFLAGS)"
+.ENDIF
+
 .IF "$(OS)$(CPU)$(COMEX)" == "SOLARISS4"
 # no -Bdirect for SunWS CC
 DIRECT = $(LINKFLAGSDEFS)
@@ -82,8 +89,12 @@
 # so this library cannot be checked
 SHL1NOCHECK=yes
 PYUNORC=pyunorc
 .IF "$(OS)"=="SOLARIS" || "$(OS)"=="MACOSX" || "$(OS)$(CPU)"=="LINUXR"
+.IF "$(SYSTEM_PYTHON)" == ""
 PYTHONLIB=-lpython
+.ELSE
+PYTHONLIB=-lpython$(PYMAJOR).$(PYMINOR)
+.ENDIF
 .ENDIF
 .ELSE
 # on windows, the python executable also uses the shared library,
Index: pyuno/test/makefile.mk
===================================================================
--- pyuno/test/makefile.mk.orig	2004-08-25 21:44:18.607859472 +0200
+++ pyuno/test/makefile.mk	2004-08-25 21:44:51.972787232 +0200
@@ -88,7 +88,11 @@ DOLLAR_SIGN=$$
 
 #these are temporary
 REGCOMP=$(WRAPCMD) regcomp
+.IF "$(SYSTEM_PYTHON)" != ""
+PYTHON=$(WRAPCMD) $(SYSTEM_PYTHON)
+.ELSE
 PYTHON=$(WRAPCMD) python
+.END
 
 .IF "$(GUI)"!="WNT"
 REGCOMP_ENV=\
Index: pyuno/zipcore/makefile.mk
===================================================================
--- pyuno/zipcore/makefile.mk.orig	2004-08-25 21:44:18.608859320 +0200
+++ pyuno/zipcore/makefile.mk	2004-08-25 21:44:51.972787232 +0200
@@ -2,6 +2,8 @@ PRJNAME=pyuno
 PRJ=..
 
 .INCLUDE : settings.mk
+
+.IF "$(SYSTEM_PYTHON)" == ""
 .INCLUDE : pyversion.mk
 
 PYDIRNAME=python-core-$(PYVERSION)
@@ -20,6 +22,13 @@ target: \
 	$(BIN)$/python-core-$(PYVERSION).zip \
 	$(BIN)$/python.sh
 
+.ELSE
+
+target: \
+	$(BIN)$/python.sh
+
+.ENDIF # "$(SYSTEM_PYTHON)" == ""
+
 $(BIN)$/python.sh : python.sh
 	-rm -f $@
 	cat $? > $@
@@ -27,6 +36,8 @@ $(BIN)$/python.sh : python.sh
 	chmod +x $@
 .ENDIF
 
+.IF "$(SYSTEM_PYTHON)" == ""
+
 $(BIN)$/python-core-$(PYVERSION).zip : $(FILES)
 .IF "$(GUI)" == "UNX"
 .IF "$(OS)" != "MACOSX"
@@ -51,3 +62,5 @@ $(DESTROOT)$/bin$/python$(EXECPOST) : $(
 .ENDIF
 	chmod +x $@
 .ENDIF
+
+.ENDIF # "$(SYSTEM_PYTHON)" == ""
Index: scp/source/python/python.scp
===================================================================
--- scp/source/python/python.scp.orig	2004-08-25 21:44:18.609859168 +0200
+++ scp/source/python/python.scp	2004-08-25 22:17:40.157577664 +0200
@@ -188,6 +188,7 @@ ProfileItem GID_PROFILEITEM_PYUNO_UNO_SE
     Value  = "?$PYUNO_USER_PACKAGES/services.rdb ?$PYUNO_SHARED_PACKAGES/services.rdb $ORIGIN/services.rdb";
 End
 
+#ifdef WITH_PYTHON
 File gid_File_Py_python_core
      TXT_FILE_BODY;
      ModuleID = GID_MODULE_PYUNO;
@@ -195,6 +196,7 @@ File gid_File_Py_python_core
      Name = "python-core-2.2.2.zip";
      Styles          = (ARCHIVE);
 End
+#endif
 
 Profile gid_Profile_pythonloader_uno_ini
     ModuleID = GID_MODULE_PYUNO;
@@ -213,7 +215,11 @@ ProfileItem GID_PROFILEITEM_PYTHONLOADER
     Section   = "Bootstrap";
     Order = 1;
     Key  = "PYTHONHOME";
+#ifdef WITH_PYTHON
     Value  = "$ORIGIN/python-core";
+#else
+    Value  = PYTHONHOME_URIS;
+#endif
 End
 
 ProfileItem GID_PROFILEITEM_PYTHONLOADER_PYTHONPATH
@@ -222,14 +228,19 @@ ProfileItem GID_PROFILEITEM_PYTHONLOADER
     Section   = "Bootstrap";
     Order = 1;
     Key  = "PYTHONPATH";
+#ifdef WITH_PYTHON
 #ifdef UNX
      Value  = "$ORIGIN/python-core/lib $ORIGIN/python-core/lib/lib-dynload $ORIGIN/python-core/lib/lib-tk $ORIGIN";
 #else
     Value  = "$ORIGIN/python-core-2.2.2/lib $ORIGIN";
 #endif
+#else
+    Value = PYTHONPATH_URIS;
+#endif
 End
 
 
+#ifdef WITH_PYTHON
 #ifdef WNT
 File gid_File_Python_dll
      TXT_FILE_BODY;
@@ -282,7 +293,8 @@ Shortcut gid_Shortcut_Lib_Python_2
     Name = STRING(CONCAT2(libpython,UNXSUFFIX));
     Styles = (NETWORK,RELATIVE);
 End
-
+#endif
+#endif // ifdef WITH_PYTHON
 
 File gid_File_Pyuno
     TXT_FILE_BODY;
@@ -300,4 +312,3 @@ File gid_File_python_sh
      Styles = (PACKED);
 End
 
-#endif
Index: scp/source/python/unxbasic_python.scp
===================================================================
--- scp/source/python/unxbasic_python.scp.orig	2004-08-25 21:44:18.610859016 +0200
+++ scp/source/python/unxbasic_python.scp	2004-08-25 21:44:51.973787080 +0200
@@ -70,9 +70,11 @@ Procedure GID_PROCEDURE_PYTHON_INSTALL
     ModuleID = GID_MODULE_PYUNO;
     Code = {
     Sub PythonLink
+#ifdef WITH_PYTHON
         shell("/bin/sh -c 'test -d python-core-2.2.2 && ln -s python-core-2.2.2 python-core'")
-        shell("/bin/sh -c 'test -f python.sh && ln -s python.sh python'")
         shell("/bin/sh -c 'test -f python-core-2.2.2/bin/python && chmod +x python-core-2.2.2/bin/python'")
+#endif
+        shell("/bin/sh -c 'test -f python.sh && ln -s python.sh python'")
 
 	End Sub
 	};
