Index: psprint/source/printer/jobdata.cxx
===================================================================
RCS file: /cvs/gsl/psprint/source/printer/jobdata.cxx,v
retrieving revision 1.2
retrieving revision 1.2.88.1
diff -u -p -u -r1.2 -r1.2.88.1
--- psprint/source/printer/jobdata.cxx	19 Jun 2002 10:53:34 -0000	1.2
+++ psprint/source/printer/jobdata.cxx	30 Oct 2003 17:43:00 -0000	1.2.88.1
@@ -133,7 +133,7 @@ bool JobData::getStreamBuffer( void*& pD
         aStream.Write( pContextBuffer, nBytes );
 
     // success
-    pData = rtl_allocateMemory( bytes = aStream.GetSize() );
+    pData = rtl_allocateMemory( bytes = aStream.Tell() );
     memcpy( pData, aStream.GetData(), bytes );
     return true;
 }

Index: vcl/unx/source/app/soicon.cxx
===================================================================
RCS file: /cvs/gsl/vcl/unx/source/app/soicon.cxx,v
retrieving revision 1.11
retrieving revision 1.11.160.1
diff -u -p -u -r1.11 -r1.11.160.1
--- vcl/unx/source/app/soicon.cxx	11 Apr 2003 17:32:54 -0000	1.11
+++ vcl/unx/source/app/soicon.cxx	26 Sep 2003 12:27:54 -0000	1.11.160.1
@@ -145,7 +145,7 @@ static void ConvertXpm( SalDisplay* pDis
 			}
 		}
 	}
-	nColors = nColor+1;
+	nColors = nColor;
 
 	aPixmap = XCreatePixmap( pDisplay->GetDisplay(),
 								pDisplay->GetRootWindow(),
