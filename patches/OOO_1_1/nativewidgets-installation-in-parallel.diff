--- desktop/scripts/soffice.sh
+++ desktop/scripts/soffice.sh
@@ -167,6 +167,17 @@
     fi
 fi
 
+# extend the library search path for libvcl compiled with more widgets sets
+if [ -n "$LD_LIBRARY_PATH" ] &&
+   [ -d "$sd_prog/widgets" ] ; then
+  if [ -n "$OOo_WIDGET_SET" ] && 
+     [ -f "$sd_prog/widgets/$OOo_WIDGET_SET/"libvcl* ] ; then
+    LD_LIBRARY_PATH="$sd_prog/widgets/$OOo_WIDGET_SET:$LD_LIBRARY_PATH"
+  else
+    LD_LIBRARY_PATH="$sd_prog/widgets/default:$LD_LIBRARY_PATH"
+  fi
+fi
+
 # set java environment variables
 THREADS_TYPE=native_threads
 
--- setup2/script/setup.sh
+++ setup2/script/setup.sh
@@ -150,6 +150,17 @@
     fi
 fi
 
+# extend the library search path for libvcl compiled with more widgets sets
+if [ -n "$LD_LIBRARY_PATH" ] &&
+   [ -d "$sd_archive_path/widgets" ] ; then
+  if [ -n "$OOo_WIDGET_SET" ] && 
+     [ -f "$sd_archive_path/widgets/$OOo_WIDGET_SET/"libvcl* ] ; then
+    LD_LIBRARY_PATH="$sd_archive_path/widgets/$OOo_WIDGET_SET:$LD_LIBRARY_PATH"
+  else
+    LD_LIBRARY_PATH="$sd_archive_path/widgets/default:$LD_LIBRARY_PATH"
+  fi
+fi
+
 #
 # parse command line arguments
 #
--- setup2/source/custom/jvmsetup/loader/jvmsetup.sh
+++ setup2/source/custom/jvmsetup/loader/jvmsetup.sh
@@ -134,6 +134,16 @@
     esac
 fi
 
+# extend the library search path for libvcl compiled with more widgets sets
+if [ -n "$LD_LIBRARY_PATH" ] &&
+   [ -d "$sd_inst/program/widgets" ] ; then
+  if [ -n "$OOo_WIDGET_SET" ] && 
+     [ -f "$sd_inst/program/widgets/$OOo_WIDGET_SET/"libvcl* ] ; then
+    LD_LIBRARY_PATH="$sd_inst/program/widgets/$OOo_WIDGET_SET:$LD_LIBRARY_PATH"
+  else
+    LD_LIBRARY_PATH="$sd_inst/program/widgets/default:$LD_LIBRARY_PATH"
+  fi
+fi
 
 # misc. environment variables
 SAL_FONTPATH=$sd_fonts/type1:$sd_fonts/75dpi
