--- connectivity/source/drivers/postgresql/manifest.xml.old	2010-11-26 19:01:13.000000000 +0100
+++ connectivity/source/drivers/postgresql/manifest.xml	2010-11-25 21:18:03.000000000 +0100
@@ -0,0 +1,10 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!DOCTYPE manifest:manifest PUBLIC "-//OpenOffice.org//DTD Manifest 1.0//EN" "Manifest.dtd">
+<manifest:manifest xmlns:manifest="http://openoffice.org/2001/manifest">
+  <manifest:file-entry manifest:media-type="application/vnd.sun.star.uno-component;type=native"
+                       manifest:full-path="postgresql-sdbc-impl.uno.so"/>
+  <manifest:file-entry manifest:media-type="application/vnd.sun.star.uno-component;type=native"
+                       manifest:full-path="postgresql-sdbc.uno.so"/>
+  <manifest:file-entry manifest:media-type="application/vnd.sun.star.configuration-data"
+                       manifest:full-path="postgresql.xcu"/>
+</manifest:manifest>
--- connectivity/source/drivers/postgresql/description.xml.old	2010-11-26 19:01:26.000000000 +0100
+++ connectivity/source/drivers/postgresql/description.xml	2010-11-26 18:59:36.000000000 +0100
@@ -0,0 +1,14 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<description xmlns="http://openoffice.org/extensions/description/2006" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:dep="http://openoffice.org/extensions/description/2006">
+    <version value="0.7.6b" />
+    <identifier value="postgresql-sdbc" />
+    <display-name>
+        <name lang="en-US">Postgresql-SDBC Driver</name>
+    </display-name>
+    <dependencies>
+        <OpenOffice.org-minimal-version value="3.3" dep:name="OpenOffice.org 3.3"/>
+    </dependencies>
+    <publisher>
+        <name xlink:href="http://www.oracle.com/us/products/applications/open-office" lang="en">Oracle</name>
+    </publisher>
+</description>
--- connectivity/source/drivers/postgresql/makefile.mk.old	2010-11-19 22:21:03.000000000 +0100
+++ connectivity/source/drivers/postgresql/makefile.mk	2010-11-26 19:54:38.000000000 +0100
@@ -176,7 +176,7 @@ SHL2VERSIONMAP=$(SOLARENV)$/src$/compone
 SLOFILES=       $(LIB1OBJFILES) $(LIB2OBJFILES)
 
 
-DRIVERNAME=postgresql-sdbc-$(PQ_SDBC_MAJOR).$(PQ_SDBC_MINOR).$(PQ_SDBC_MICRO).zip
+DRIVERNAME=postgresql-sdbc-$(PQ_SDBC_MAJOR).$(PQ_SDBC_MINOR).$(PQ_SDBC_MICRO).oxt
 ALLTAR : $(DLLDEST)$/$(DRIVERNAME)
 
 # --- Targets ------------------------------------------------------
@@ -191,19 +191,29 @@
 $(DLLDEST)$/$(SHL1TARGET)$(INI_EXT): $(SHL1TARGET)
     +cp $? $@
 
-
 $(DLLDEST)$/$(DRIVERNAME): \
+        $(DLLDEST)$/META-INF$/manifest.xml \
+        $(DLLDEST)$/description.xml \
         $(DLLDEST)$/postgresql.xcu \
         $(DLLDEST)$/$(SHL1TARGET)$(DLLPOST) \
         $(DLLDEST)$/$(SHL2TARGET)$(DLLPOST) \
         $(DLLDEST)$/$(SHL1TARGET)$(INI_EXT)
     +cd $(DLLDEST) && \
         zip -r  $(DRIVERNAME) \
+            META-INF$/manifest.xml \
             $(SHL1TARGET)$(DLLPOST) \
             $(SHL2TARGET)$(DLLPOST) \
             $(SHL1TARGET)$(INI_EXT) \
+            description.xml \
             postgresql.xcu
 
+$(DLLDEST)$/META-INF$/manifest.xml : manifest.xml
+    -mkdir -p $(DLLDEST)$/META-INF
+    +cp $? $@
+
+$(DLLDEST)$/description.xml : description.xml
+    +cp $? $@
+
 $(DLLDEST)$/postgresql.xcu : postgresql.xcu
     -rm -f $@
     cat postgresql.xcu > $@
