diff -rup avmedia-orig/prj/build.lst avmedia/prj/build.lst
--- avmedia-orig/prj/build.lst	2006-08-17 16:04:56.000000000 +0200
+++ avmedia/prj/build.lst	2006-08-17 16:05:01.000000000 +0200
@@ -7,4 +7,5 @@ av  avmedia\source\framework	nmake	-	all
 av  avmedia\source\win	    	nmake	-	all	av_win	            									NULL
 av	avmedia\source\java			nmake	-	all	av_java	            									NULL
 av	avmedia\source\xine			nmake	-	all	av_xine	            									NULL
-av	avmedia\util				nmake	-	all	av_util av_viewer av_framework av_win av_java av_xine	NULL
+av	avmedia\source\gstreamer		nmake	-	all	av_gstreamer           									NULL
+av	avmedia\util				nmake	-	all	av_util av_viewer av_framework av_win av_java av_xine av_gstreamer	NULL
diff -rup avmedia-orig/source/inc/mediamisc.hxx avmedia/source/inc/mediamisc.hxx
--- avmedia-orig/source/inc/mediamisc.hxx	2006-08-17 16:04:56.000000000 +0200
+++ avmedia/source/inc/mediamisc.hxx	2006-08-17 16:06:41.000000000 +0200
@@ -37,13 +37,16 @@ class ResMgr;
 
 #define AVMEDIA_RESID( nId ) ResId( nId, ::avmedia::GetResMgr() )
 
+#ifdef GSTREAMER
+#define AVMEDIA_MANAGER_SERVICE_NAME "com.sun.star.media.Manager_GStreamer"
+#else
 #ifdef WNT
 #define AVMEDIA_MANAGER_SERVICE_NAME "com.sun.star.media.Manager_DirectX"
 #else
 #define AVMEDIA_MANAGER_SERVICE_NAME "com.sun.star.media.Manager_Java"
 #endif
+#endif
 
- 
 namespace avmedia
 {
     ResMgr* GetResMgr();
Index: mediawindow_impl.cxx
===================================================================
RCS file: /cvs/graphics/avmedia/source/viewer/mediawindow_impl.cxx,v
retrieving revision 1.7
diff -u -p -r1.7 mediawindow_impl.cxx
--- avmedia/source/viewer/mediawindow_impl.cxx	19 Jun 2006 13:59:09 -0000	1.7
+++ avmedia/source/viewer/mediawindow_impl.cxx	17 Aug 2006 15:12:39 -0000
@@ -44,6 +44,11 @@
 #include <osl/mutex.hxx>
 #include <tools/time.hxx>
 #include <vcl/svapp.hxx>
+#ifdef UNX
+#ifndef _SV_SYSDATA_HXX
+#include <vcl/sysdata.hxx>
+#endif
+#endif
 
 #ifndef _COM_SUN_STAR_AWT_SYSTEMPOINTER_HDL_
 #include <com/sun/star/awt/SystemPointer.hdl>
@@ -237,14 +242,20 @@ void MediaWindowImpl::onURLChanged()
 {
     if( getPlayer().is() )
     {
-        uno::Sequence< uno::Any >              aArgs( 2 );
+        uno::Sequence< uno::Any >              aArgs( 3 );
         uno::Reference< media::XPlayerWindow > xPlayerWindow;
     	const Point                            aPoint;
 		const Size					           aSize( maChildWindow.GetSizePixel() );
         const sal_Int32                        nWndHandle = static_cast< sal_Int32 >( maChildWindow.getParentWindowHandleForJava() );
+        
 		
 		aArgs[ 0 ] = uno::makeAny( nWndHandle );
 		aArgs[ 1 ] = uno::makeAny( awt::Rectangle( aPoint.X(), aPoint.Y(), aSize.Width(), aSize.Height() ) );
+#ifdef GSTREAMER
+                const SystemEnvData *pSystemData = maChildWindow.GetSystemData();
+                OSL_TRACE( "MediaWindowImpl::onURLChanged xwindow id: %ld", pSystemData->aWindow );
+                aArgs[ 2 ] = uno::makeAny( pSystemData->aWindow );
+#endif
         
         try
         {
