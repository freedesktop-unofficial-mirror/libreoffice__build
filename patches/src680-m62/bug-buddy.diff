--- sal/osl/unx/signal.c.bak	2004-11-03 01:57:33.000000000 +0530
+++ sal/osl/unx/signal.c	2004-11-09 00:08:15.676127152 +0530
@@ -214,6 +214,10 @@
 		// WORKAROUND FOR ILLEGAL INSTRUCTION HANDLER (SEE ABOVE)
 		bSetILLHandler = sal_True;
 	}
+ 
+        if ( getenv ("GNOME_DISABLE_CRASH_DIALOG") &&
+          atoi (getenv ("GNOME_DISABLE_CRASH_DIALOG")) )
+               bSetSEGVHandler = bSetWINCHHandler = bSetILLHandler = bDoHardKill = sal_False;
 
 	SignalListMutex = osl_createMutex();
 
@@ -435,7 +439,7 @@
 				char *pStackTempName = NULL;
 				char *pChecksumTempName = NULL;
 
-#ifdef INCLUDE_BACKTRACE
+#if 0 
 				char szXMLTempNameBuffer[L_tmpnam];
 				char szChecksumTempNameBuffer[L_tmpnam];
 				char szStackTempNameBuffer[L_tmpnam];
@@ -606,8 +610,11 @@
 #endif
 
 #else /* defined INCLUDE BACKTRACE */
-				snprintf( szShellCmd, sizeof(szShellCmd)/sizeof(szShellCmd[0]),
-				"crash_report -p %d -s %d%s", getpid(), Signal, bNoUI ? " -noui" : "" );
+				 // FIXME: we quite badly need to ungrab the mouse at this stage.
+				 snprintf( szShellCmd, sizeof(szShellCmd)/sizeof(szShellCmd[0]),
+                                         "bug-buddy --appname=soffice.bin --pid=%d --package=OpenOffice.org",
+                                         getpid() );
+
 #endif /* defined INCLUDE BACKTRACE */
 
 
