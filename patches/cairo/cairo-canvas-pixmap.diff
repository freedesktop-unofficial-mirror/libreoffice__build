--- vcl/inc/bitmap.hxx	10 Mar 2005 13:12:51 -0000	1.15
+++ vcl/inc/bitmap.hxx	15 Jun 2005 18:11:32 -0000
@@ -283,7 +283,7 @@ struct BitmapSystemData
     void* pDIB; // device independent byte buffer
     void* pDDB; // if not NULL then this is actually an HBITMAP
     #else
-    void* pDummy;
+    void* aPixmap;
     #endif
 };
 
--- vcl/unx/source/gdi/salbmp.cxx.orig	2005-03-10 14:19:26.000000000 +0100
+++ vcl/unx/source/gdi/salbmp.cxx	2005-07-22 22:26:30.000000000 +0200
@@ -89,6 +89,9 @@
 #ifndef _SV_SALBMP_H
 #include <salbmp.h>
 #endif
+#ifndef _SV_BITMAP_H
+#include <bitmap.hxx>
+#endif
 #ifndef _SV_SALINST_H
 #include <salinst.h>
 #endif
@@ -850,6 +853,15 @@
 
 bool X11SalBitmap::GetSystemData( BitmapSystemData& rData )
 {
+	if( mpDDB )
+	{
+        // Rename/retype pDummy to your likings (though X11 Pixmap is
+        // prolly not a good idea, since it's accessed from
+        // non-platform aware code in vcl/bitmap.hxx)
+        rData.aPixmap = (void*)mpDDB->ImplGetPixmap();
+        return true;
+	}
+
     return false;
 }
 
