Index: canvas/source/cairo/cairo_canvashelper.cxx
===================================================================
RCS file: /cvs/gsl/canvas/source/cairo/cairo_canvashelper.cxx,v
retrieving revision 1.3
diff -u -p -u -r1.3 cairo_canvashelper.cxx
--- canvas/source/cairo/cairo_canvashelper.cxx	22 Mar 2006 10:59:35 -0000	1.3
+++ canvas/source/cairo/cairo_canvashelper.cxx	22 Dec 2006 17:37:43 -0000
@@ -308,7 +308,6 @@ namespace cairocanvas
 		} else {
 			BitmapEx aBmpEx = bitmapExFromXBitmap(xBitmap);
 			Bitmap aBitmap = aBmpEx.GetBitmap();
-			AlphaMask aAlpha = aBmpEx.GetAlpha();
 
 			// there's no pixmap for alpha bitmap. we might still
 			// use rgb pixmap and only access alpha pixels the
@@ -320,6 +319,7 @@ namespace cairocanvas
 			}
 
 			if( !pSurface ) {
+                AlphaMask aAlpha = aBmpEx.GetAlpha();
 
 				BitmapReadAccess*	pBitmapReadAcc = aBitmap.AcquireReadAccess();
 				BitmapReadAccess*	pAlphaReadAcc = NULL;
