--- berkeleydb/db-3.2.9.patch	2004-12-22 15:24:41.391731661 +0100
+++ berkeleydb/db-3.2.9.patch	2004-12-22 15:28:59.998036628 +0100
@@ -1526,3 +1526,26 @@
 ! 			$(SLO)$/xa_map.obj
 ! 
 ! .INCLUDE :  target.mk
+*** misc/db-3.2.9/java/src/com/sleepycat/db/DbEnv.java	2004-12-22 15:25:42.919098136 +0100
+--- misc/build/db-3.2.9/java/src/com/sleepycat/db/DbEnv.java	2004-12-22 15:26:05.804142962 +0100
+***************
+*** 78,86 ****
+      //
+      /*package*/ void _notify_dbs()
+      {
+!         Enumeration enum = dblist_.elements();
+!         while (enum.hasMoreElements()) {
+!             Db db = (Db)enum.nextElement();
+              db._notify_dbenv_close();
+          }
+          dblist_.removeAllElements();
+--- 78,86 ----
+      //
+      /*package*/ void _notify_dbs()
+      {
+!         Enumeration enumer = dblist_.elements();
+!         while (enumer.hasMoreElements()) {
+!             Db db = (Db)enumer.nextElement();
+              db._notify_dbenv_close();
+          }
+          dblist_.removeAllElements();
