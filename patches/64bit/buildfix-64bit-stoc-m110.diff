Index: stoc/source/javavm/javavm.cxx
===================================================================
RCS file: /cvs/udk/stoc/source/javavm/javavm.cxx,v
retrieving revision 1.67
retrieving revision 1.64.16.3
diff -u -p -u -p -r1.67 -r1.64.16.3
--- stoc/source/javavm/javavm.cxx	18 Jan 2005 16:17:00 -0000	1.67
+++ stoc/source/javavm/javavm.cxx	9 Mar 2005 16:48:58 -0000	1.64.16.3
@@ -1002,6 +1002,7 @@ JavaVirtualMachine::getJavaVM(css::uno::
     }
     else
     {
+#if 0  /* @@@ runtime check, but does not compile with 64bit pointers (cannot cast to sal_Int32) @@@ */
         if (sizeof (m_pJavaVm) <= sizeof (sal_Int32))
             return css::uno::makeAny(reinterpret_cast< sal_Int32 >(
                                          m_pJavaVm));
@@ -1009,6 +1010,8 @@ JavaVirtualMachine::getJavaVM(css::uno::
             return css::uno::makeAny(reinterpret_cast< sal_Int64 >(
                                          m_pJavaVm));
         OSL_ENSURE(false, "Pointer cannot be represented as sal_Int64");
+#endif /* @@@ */
+		return css::uno::makeAny(reinterpret_cast< sal_IntPtr >(m_pJavaVm));
     }
 
     return css::uno::Any();
