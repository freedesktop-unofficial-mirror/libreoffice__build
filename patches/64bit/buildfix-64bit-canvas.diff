--- canvas/source/vcl/textlayout.cxx	2004-12-23 15:15:56.995155285 +0100
+++ canvas/source/vcl/textlayout.cxx	2004-12-23 15:19:37.300099447 +0100
@@ -240,7 +240,7 @@ namespace vclcanvas
         rOutDev.SetLayoutMode( nLayoutMode );
 
         // TODO(P2): cache that
-        ::boost::scoped_array< long > aOffsets(new long[maLogicalAdvancements.getLength()]);
+        ::boost::scoped_array< sal_Int32 > aOffsets(new sal_Int32[maLogicalAdvancements.getLength()]);
         setupTextOffsets( aOffsets.get(), maLogicalAdvancements, viewState, renderState );
 
         rOutDev.DrawTextArray( rOutpos,
@@ -284,7 +284,7 @@ namespace vclcanvas
         };
     }
 
-    void TextLayout::setupTextOffsets( long*							outputOffsets,
+    void TextLayout::setupTextOffsets( sal_Int32*							outputOffsets,
                                        const uno::Sequence< double >& 	inputOffsets,
                                        const rendering::ViewState& 		viewState,
                                        const rendering::RenderState& 	renderState		) const
--- canvas/source/vcl/textlayout.hxx	2004-12-23 15:21:17.385810423 +0100
+++ canvas/source/vcl/textlayout.hxx	2004-12-23 15:21:28.452898667 +0100
@@ -140,7 +140,7 @@ namespace vclcanvas
         TextLayout(const TextLayout&);
         TextLayout& operator=( const TextLayout& );
 
-        void setupTextOffsets( long*													outputOffsets,
+        void setupTextOffsets( sal_Int32*													outputOffsets,
                                const ::com::sun::star::uno::Sequence< double >& 		inputOffsets,
                                const ::drafts::com::sun::star::rendering::ViewState& 	viewState, 
                                const ::drafts::com::sun::star::rendering::RenderState& 	renderState		) const;
