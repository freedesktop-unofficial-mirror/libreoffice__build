Index: solenv/bin/gccinstlib.pl
===================================================================
RCS file: /cvs/tools/solenv/bin/gccinstlib.pl,v
retrieving revision 1.5
retrieving revision 1.4.58.2
diff -u -p -r1.5 -r1.4.58.2
--- solenv/bin/gccinstlib.pl	20 Sep 2004 08:35:20 -0000	1.5
+++ solenv/bin/gccinstlib.pl	19 Oct 2004 12:26:55 -0000	1.4.58.2
@@ -84,7 +84,11 @@ foreach $File (@ARGV) {
            push (@CopySrc, $Path.$File);
            $found = 1;
            last;
-        }
+        } elsif ( -e $Path."../lib64/".$File) {
+	   push (@CopySrc, $Path."../lib64/".$File);
+	   $found = 1;
+	   last;
+	}
    }
    if (!$found) {
            die "Couldn't find file $File in path\n";
Index: solenv/inc/_tg_shl.mk
===================================================================
RCS file: /cvs/tools/solenv/inc/_tg_shl.mk,v
retrieving revision 1.83
retrieving revision 1.77.56.3
diff -u -p -r1.83 -r1.77.56.3
--- solenv/inc/_tg_shl.mk	21 Sep 2004 15:37:43 -0000	1.83
+++ solenv/inc/_tg_shl.mk	19 Oct 2004 12:50:17 -0000	1.77.56.3
@@ -330,6 +330,30 @@ $(SHL1TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL1TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL1TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL1TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL1TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL1TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL1TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
@@ -730,6 +754,30 @@ $(SHL2TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL2TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL2TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL2TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL2TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL2TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL2TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
@@ -1130,6 +1178,30 @@ $(SHL3TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL3TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL3TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL3TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL3TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL3TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL3TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
@@ -1530,6 +1602,30 @@ $(SHL4TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL4TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL4TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL4TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL4TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL4TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL4TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
@@ -1930,6 +2026,30 @@ $(SHL5TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL5TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL5TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL5TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL5TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL5TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL5TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
@@ -2330,6 +2450,30 @@ $(SHL6TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL6TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL6TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL6TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL6TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL6TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL6TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
@@ -2730,6 +2874,30 @@ $(SHL7TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL7TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL7TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL7TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL7TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL7TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL7TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
@@ -3130,6 +3298,30 @@ $(SHL8TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL8TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL8TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL8TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL8TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL8TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL8TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
@@ -3530,6 +3722,30 @@ $(SHL9TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL9TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL9TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL9TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL9TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL9TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL9TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
@@ -3930,6 +4146,30 @@ $(SHL10TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL10TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL10TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL10TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL10TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL10TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL10TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
Index: solenv/inc/tg_shl.mk
===================================================================
RCS file: /cvs/tools/solenv/inc/tg_shl.mk,v
retrieving revision 1.85
retrieving revision 1.79.56.3
diff -u -p -r1.85 -r1.79.56.3
--- solenv/inc/tg_shl.mk	21 Sep 2004 15:37:56 -0000	1.85
+++ solenv/inc/tg_shl.mk	19 Oct 2004 12:48:56 -0000	1.79.56.3
@@ -430,6 +430,30 @@ $(SHL$(TNR)TARGETN) : \
 .ENDIF			# "$(linkinc)"==""
 .ENDIF			# "$(GUI)" == "WNT"
 .IF "$(GUI)"=="UNX"
+.IF "$(UPDATER)"=="YES"
+.IF "$(OS)"=="SOLARIS"
+.IF "$(COM)"=="GCC"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL$(TNR)TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE		
+.IF "$(CPU)"=="S64B"
+		$(CC) -c -KPIC -xarch=v9 -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL$(TNR)TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ELSE
+		$(CC) -c -KPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL$(TNR)TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.ENDIF		
+.ENDIF
+.IF "$(OS)"=="MACOSX"
+		$(CC) -c -dynamic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL$(TNR)TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="LINUX" || "$(OS)"=="NETBSD" || "$(OS)"=="FREEBSD"
+		$(CC) -c -fPIC -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL$(TNR)TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+.ENDIF
+.IF "$(OS)"=="IRIX"
+		$(CC) -c -fpic -o $(SLO)$/{$(subst,$(UPD)$(DLLPOSTFIX),_dflt $(SHL$(TNR)TARGET))}_version.o -DUNX $(ENVCDEFS) -I$(INCCOM) $(SOLARENV)$/src$/version.c
+		@+if ( ! -e $(SOLARLIBDIR) ) mkdir $(SOLARLIBDIR)
+		@+if ( ! -e $(SOLARLIBDIR)/so_locations ) touch $(SOLARLIBDIR)/so_locations
+.ENDIF			# "$(OS)"=="IRIX"
+.ENDIF
 .IF "$(OS)"=="MACOSX"
 	@+-$(RM) $(MISC)$/$(@:b).list
 	@+-$(RM) $(MISC)$/$(@:b).cmd
Index: solenv/inc/unx.mk
===================================================================
RCS file: /cvs/tools/solenv/inc/unx.mk,v
retrieving revision 1.25
retrieving revision 1.23.96.3
diff -u -p -r1.25 -r1.23.96.3
--- solenv/inc/unx.mk	30 Aug 2004 17:22:07 -0000	1.25
+++ solenv/inc/unx.mk	19 Oct 2004 12:40:04 -0000	1.23.96.3
@@ -96,6 +96,10 @@ OLE2DEF=
 .INCLUDE : unxsols4.mk
 .ENDIF
 
+.IF "$(OS)$(CPU)$(COMEX)" == "SOLARISS64B1"
+.INCLUDE : unxsols64b1.mk
+.ENDIF
+
 .IF "$(OS)$(CPU)$(COMEX)" == "SOLARISI4"
 .INCLUDE : unxsoli4.mk
 .ENDIF
Index: solenv/inc/unxsols64b1.mk
===================================================================
RCS file: solenv/inc/unxsols64b1.mk
diff -N solenv/inc/unxsols64b1.mk
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ solenv/inc/unxsols64b1.mk	26 Aug 2004 09:48:36 -0000	1.1.2.2
@@ -0,0 +1,213 @@
+#*************************************************************************
+#
+#   $RCSfile$
+#
+#   $Revision$
+#
+#   last change: $Author$ $Date$
+#
+#   The Contents of this file are made available subject to the terms of
+#   either of the following licenses
+#
+#          - GNU Lesser General Public License Version 2.1
+#          - Sun Industry Standards Source License Version 1.1
+#
+#   Sun Microsystems Inc., October, 2000
+#
+#   GNU Lesser General Public License Version 2.1
+#   =============================================
+#   Copyright 2000 by Sun Microsystems, Inc.
+#   901 San Antonio Road, Palo Alto, CA 94303, USA
+#
+#   This library is free software; you can redistribute it and/or
+#   modify it under the terms of the GNU Lesser General Public
+#   License version 2.1, as published by the Free Software Foundation.
+#
+#   This library is distributed in the hope that it will be useful,
+#   but WITHOUT ANY WARRANTY; without even the implied warranty of
+#   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+#   Lesser General Public License for more details.
+#
+#   You should have received a copy of the GNU Lesser General Public
+#   License along with this library; if not, write to the Free Software
+#   Foundation, Inc., 59 Temple Place, Suite 330, Boston,
+#   MA  02111-1307  USA
+#
+#
+#   Sun Industry Standards Source License Version 1.1
+#   =================================================
+#   The contents of this file are subject to the Sun Industry Standards
+#   Source License Version 1.1 (the "License"); You may not use this file
+#   except in compliance with the License. You may obtain a copy of the
+#   License at http://www.openoffice.org/license.html.
+#
+#   Software provided under this License is provided on an "AS IS" basis,
+#   WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING,
+#   WITHOUT LIMITATION, WARRANTIES THAT THE SOFTWARE IS FREE OF DEFECTS,
+#   MERCHANTABLE, FIT FOR A PARTICULAR PURPOSE, OR NON-INFRINGING.
+#   See the License for the specific provisions governing your rights and
+#   obligations concerning the Software.
+#
+#   The Initial Developer of the Original Code is: Sun Microsystems, Inc.
+#
+#   Copyright: 2000 by Sun Microsystems, Inc.
+#
+#   All Rights Reserved.
+#
+#   Contributor(s): _______________________________________
+#
+#
+#
+#*************************************************************************
+
+
+ASM=/usr/ccs/bin/as
+AFLAGS=-P -xarch=v9
+
+
+CDEFS+=-D_PTHREADS -DSYSV -DSUN -DSUN4 -D_REENTRANT -D_POSIX_PTHREAD_SEMANTICS -DSTLPORT_VERSION=400
+
+SOLAR_JAVA*=TRUE
+.IF "$(SOLAR_JAVA)"!=""
+JAVADEF=-DSOLAR_JAVA
+JAVAFLAGSDEBUG=-g
+.IF "$(debug)"==""
+JAVA_RUNTIME=-ljava
+.ELSE
+JAVA_RUNTIME=-ljava_g
+.ENDIF
+.ENDIF
+
+CXX*=CC
+CC*=cc
+
+CFLAGS=$(PREENVCFLAGS) -c -temp=/tmp $(INCLUDE) -xarch=v9 
+CFLAGSCC=-xCC
+CFLAGSCXX=-features=no%altspell -library=no%Cstd -xport64
+
+# flags to enable build with symbols; required for crashdump feature
+CFLAGSENABLESYMBOLS=-g0 -xs
+
+CFLAGSEXCEPTIONS=
+CFLAGS_NO_EXCEPTIONS=-noex
+
+CFLAGSOBJGUIST=-KPIC
+CFLAGSOBJCUIST=-KPIC
+CFLAGSOBJGUIMT=-KPIC -mt
+CFLAGSOBJCUIMT=-KPIC -mt
+CFLAGSSLOGUIMT=-KPIC -mt
+CFLAGSSLOCUIMT=-KPIC -mt
+CFLAGSPROF=-xpg
+CFLAGSDEBUG=-g
+CFLAGSDBGUTIL=
+CFLAGSOPT=-xO3 -xspace
+CFLAGSNOOPT=
+CFLAGSOUTOBJ=-o
+
+# Enable all warnings
+CFLAGSWALL=+w2
+# Set default warn level
+CFLAGSDFLTWARN=
+
+STDOBJVCL=$(L)$/salmain.o
+
+THREADLIB=
+.IF "$(PURIFY)"!=""
+LINK=/usr/local/purify-4.2-solaris2/purify CC
+.ELSE
+LINK=CC
+.ENDIF
+
+# -z combreloc combines multiple relocation sections. Reduces overhead on startup
+# -norunpath prevents the compiler from recording his own libs in the runpath
+LINKFLAGSRUNPATH*=-R\''$$ORIGIN'\'
+LINKFLAGS=-w -mt -xarch=v9 -z combreloc -PIC -temp=/tmp $(LINKFLAGSRUNPATH) -norunpath -library=no%Cstd
+
+# -z text force fatal error if non PIC code is linked into shared library. Such code 
+#    would be expensive on startup
+CHECKFORPIC =-z text
+LINKFLAGSSHLGUI=$(CHECKFORPIC) -G
+LINKFLAGSSHLCUI=$(CHECKFORPIC) -G
+
+# switches for dynamic and static linking
+LINKFLAGSDEFS*= -z defs
+STATIC		= -Bstatic
+DIRECT		= -Bdirect $(LINKFLAGSDEFS)
+DYNAMIC		= -Bdynamic
+
+LINKFLAGSAPPGUI+=$(DIRECT)
+LINKFLAGSAPPCUI+=$(DIRECT)
+LINKFLAGSSHLGUI+=$(DIRECT)
+LINKFLAGSSHLCUI+=$(DIRECT)
+
+LINKFLAGSTACK=
+LINKFLAGSPROF=-L$(COMPATH)/WS6U1/lib/libp -xpg -z allextract
+LINKFLAGSDEBUG=
+LINKFLAGSOPT=
+LINKVERSIONMAPFLAG=-M
+
+APPLINKSTATIC=$(STATIC)
+APPLINKSHARED=$(DIRECT)
+APP_LINKTYPE=
+
+# reihenfolge der libs NICHT egal!
+STDOBJGUI=
+.IF "DBG_UTIL" != ""
+STDSLOGUI=#-lpthread
+.ELSE
+STDSLOGUI=
+.ENDIF
+STDOBJCUI=
+STDSLOCUI=
+
+STDLIBGUIST=$(DYNAMIC) -lm
+STDLIBCUIST=$(DYNAMIC) -lm
+STDLIBGUIMT=$(DYNAMIC) -lpthread -lm
+STDLIBCUIMT=$(DYNAMIC) -lpthread -lm
+STDSHLGUIST=$(DYNAMIC) -lCrun -lm -lc
+STDSHLCUIST=$(DYNAMIC) -lCrun -lm -lc
+STDSHLGUIMT=$(DYNAMIC) -lpthread -lCrun -lm -lc
+STDSHLCUIMT=$(DYNAMIC) -lpthread -lCrun -lm -lc
+
+STDLIBGUIST+=-lX11
+STDLIBGUIMT+=-lX11
+STDSHLGUIST+=-lX11
+STDSHLGUIMT+=-lX11
+
+# @@@ interposer needed for -Bdirect @@@
+# LIBSALCPPRT*=-z allextract -lsalcpprt -z defaultextract
+LIBSALCPPRT=
+
+LIBSTLPORT=$(DYNAMIC) -lstlport_sunpro
+LIBSTLPORTST=$(STATIC) -lstlport_sunpro $(DYNAMIC)
+
+
+LIBMGR=CC
+LIBFLAGS=-xar -o 
+
+IMPLIB=
+IMPLIBFLAGS=
+
+MAPSYM=
+MAPSYMFLAGS=
+
+RC=irc
+RCFLAGS=-fo$@ $(RCFILES)
+RCLINK=
+RCLINKFLAGS=
+RCSETVERSION=
+
+DLLPOSTFIX=ss64b
+
+DLLPRE=lib
+DLLPOST=.so
+
+LDUMP=cppfilt /b /n /o /p
+
+CFLAGSCXXSLO +=
+CFLAGSCXXOBJ +=
+
+LINKFLAGSAPPGUI+=
+LINKFLAGSSHLGUI+=
+LINKFLAGSAPPCUI+=
+LINKFLAGSSHLCUI+=
