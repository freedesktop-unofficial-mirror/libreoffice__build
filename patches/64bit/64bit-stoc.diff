Index: stoc/source/javavm/javavm.cxx
===================================================================
RCS file: /cvs/udk/stoc/source/javavm/javavm.cxx,v
retrieving revision 1.64
retrieving revision 1.64.16.1
diff -u -p -r1.64 -r1.64.16.1
--- stoc/source/javavm/javavm.cxx	1 Jun 2004 09:03:30 -0000	1.64
+++ stoc/source/javavm/javavm.cxx	29 Aug 2004 17:03:09 -0000	1.64.16.1
@@ -1233,6 +1233,7 @@ JavaVirtualMachine::getJavaVM(css::uno::
     }
     else
     {
+#if 0  /* @@@ runtime check, but does not compile with 64bit pointers (cannot cast to sal_Int32) @@@ */
         if (sizeof (m_pJavaVm) <= sizeof (sal_Int32))
             return css::uno::makeAny(reinterpret_cast< sal_Int32 >(
                                          m_pJavaVm));
@@ -1240,6 +1241,8 @@ JavaVirtualMachine::getJavaVM(css::uno::
             return css::uno::makeAny(reinterpret_cast< sal_Int64 >(
                                          m_pJavaVm));
         OSL_ENSURE(false, "Pointer cannot be represented as sal_Int64");
+#endif /* @@@ */
+		return css::uno::makeAny(reinterpret_cast< sal_IntPtr >(m_pJavaVm));
     }
 
     return css::uno::Any();
