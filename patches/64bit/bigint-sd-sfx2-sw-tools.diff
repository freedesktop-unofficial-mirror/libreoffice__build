Index: sw/source/core/inc/frmtool.hxx
===================================================================
RCS file: /cvs/sw/sw/source/core/inc/frmtool.hxx,v
retrieving revision 1.20
retrieving revision 1.20.84.1
diff -u -p -u -p -r1.20 -r1.20.84.1
--- sw/source/core/inc/frmtool.hxx	9 Dec 2004 16:41:01 -0000	1.20
+++ sw/source/core/inc/frmtool.hxx	21 Jan 2005 16:58:17 -0000	1.20.84.1
@@ -121,7 +121,7 @@ void SwAlignGrfRect( SwRect *pGrfRect, c
 SwFlyFrm *GetFlyFromMarked( const SdrMarkList *pLst, ViewShell *pSh );
 
 //Nicht gleich die math.lib anziehen.
-ULONG MA_FASTCALL SqRt( BigInt nX );
+sal_uInt32 MA_FASTCALL SqRt( BigInt nX );
 
 //CntntNodes besorgen, CntntFrms erzeugen und in den LayFrm haengen.
 void MA_FASTCALL _InsertCnt( SwLayoutFrm *pLay, SwDoc *pDoc, ULONG nIndex,
Index: sw/source/core/layout/frmtool.cxx
===================================================================
RCS file: /cvs/sw/sw/source/core/layout/frmtool.cxx,v
retrieving revision 1.74
retrieving revision 1.72.48.2
diff -u -p -u -p -r1.74 -r1.72.48.2
--- sw/source/core/layout/frmtool.cxx	27 Jan 2005 11:11:28 -0000	1.74
+++ sw/source/core/layout/frmtool.cxx	10 Mar 2005 01:55:20 -0000	1.72.48.2
@@ -2720,7 +2720,7 @@ void RestoreCntnt( SwFrm *pSav, SwLayout
 |*
 |*************************************************************************/
 
-ULONG MA_FASTCALL SqRt( BigInt nX )
+sal_uInt32 MA_FASTCALL SqRt( BigInt nX )
 {
 	BigInt nErg = 1;
 
@@ -2733,7 +2733,7 @@ ULONG MA_FASTCALL SqRt( BigInt nX )
 			nOldErg = nErg;
 		}
 	}
-	return nErg >= BigInt((ULONG)ULONG_MAX) ? ULONG_MAX : (ULONG)nErg;
+	return nErg >= BigInt(SAL_MAX_UINT32) ? SAL_MAX_UINT32 : (sal_uInt32)nErg;
 }
 
 /*************************************************************************
Index: tools/source/generic/bigint.cxx
===================================================================
RCS file: /cvs/util/tools/source/generic/bigint.cxx,v
retrieving revision 1.3
retrieving revision 1.3.4.1
diff -u -p -u -p -r1.3 -r1.3.4.1
--- tools/source/generic/bigint.cxx	17 Jun 2004 13:11:15 -0000	1.3
+++ tools/source/generic/bigint.cxx	21 Jan 2005 17:23:10 -0000	1.3.4.1
@@ -686,10 +686,25 @@ BigInt::BigInt( sal_uInt32 nValue )
 }
 
 // -----------------------------------------------------------------------
-
+#if SAL_TYPE_SIZEOFLONG == 8
 BigInt::operator ULONG() const
 {
     if ( !bIsBig )
+        return nVal;
+    else if ( nLen == 2 )
+    {
+        ULONG nRet;
+        nRet  = (nNum[1]) << 16;
+        nRet += nNum[0];
+        return nRet;
+    }
+    return 0;
+}
+#endif
+// -----------------------------------------------------------------------
+BigInt::operator sal_uInt32() const
+{
+    if ( !bIsBig )
         return (sal_uInt32)nVal;
     else if ( nLen == 2 )
     {
Index: sfx2/source/explorer/exptypes.cxx
===================================================================
RCS file: /cvs/framework/sfx2/source/explorer/exptypes.cxx,v
retrieving revision 1.5
retrieving revision 1.5.80.1
diff -u -p -u -p -r1.5 -r1.5.80.1
--- sfx2/source/explorer/exptypes.cxx	21 Apr 2004 13:17:08 -0000	1.5
+++ sfx2/source/explorer/exptypes.cxx	21 Jan 2005 17:11:02 -0000	1.5.80.1
@@ -188,8 +188,8 @@ String ExtendedCreateSizeText( const Big
 	BigInt nSize2 = nSize1;
 	String aSecondUnitStr( ' ' );
 	BOOL bGB = FALSE;
-	ULONG nMega = 1024 * 1024;
-	ULONG nGiga = nMega * 1024;
+	sal_uInt32 nMega = 1024 * 1024;
+	sal_uInt32 nGiga = nMega * 1024;
 
 	static const BigInt nTenKB( 10000 );
 	static const BigInt nOneMB( nMega );
@@ -417,8 +417,8 @@ String CreateExactSizeText( const BigInt
 	BigInt nSize = rSize;
 	double fSize = nSize;
 
-	ULONG nMega = 1024 * 1024;
-	ULONG nGiga = nMega * 1024;
+	sal_uInt32 nMega = 1024 * 1024;
+	sal_uInt32 nGiga = nMega * 1024;
 	static const BigInt nTenKB( 10000 );
 	static const BigInt nOneMB( nMega );
 	static const BigInt nOneGB( nGiga );
