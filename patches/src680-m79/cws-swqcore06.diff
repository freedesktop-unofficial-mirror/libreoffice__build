Index: xmloff/inc/txtimp.hxx
===================================================================
RCS file: /cvs/xml/xmloff/inc/txtimp.hxx,v
retrieving revision 1.85
retrieving revision 1.84.22.2
diff -u -p -u -p -r1.85 -r1.84.22.2
--- xmloff/inc/txtimp.hxx	27 Jan 2005 11:24:59 -0000	1.85
+++ xmloff/inc/txtimp.hxx	10 Feb 2005 12:59:30 -0000	1.84.22.2
@@ -298,6 +298,7 @@ enum XMLTextPAttrTokens
 	XML_TOK_TEXT_P_LEVEL,
 	XML_TOK_TEXT_P_CLASS_NAMES,
 	XML_TOK_TEXT_P_ID,
+    XML_TOK_TEXT_P_IS_LIST_HEADER,
 	XML_TOK_TEXT_P_END=XML_TOK_UNKNOWN
 };
 
Index: xmloff/inc/xmltoken.hxx
===================================================================
RCS file: /cvs/xml/xmloff/inc/xmltoken.hxx,v
retrieving revision 1.82
retrieving revision 1.81.20.2
diff -u -p -u -p -r1.82 -r1.81.20.2
--- xmloff/inc/xmltoken.hxx	28 Jan 2005 15:35:08 -0000	1.82
+++ xmloff/inc/xmltoken.hxx	10 Feb 2005 13:00:28 -0000	1.81.20.2
@@ -2865,6 +2865,9 @@ namespace xmloff { namespace token {
 		XML_URN_OASIS_NAMES_TC,
 		XML_OPENDOCUMENT,
 		XML_1_0,
+
+        XML_IS_LIST_HEADER,
+
 		XML_TOKEN_END
     };
 
Index: xmloff/source/core/xmltoken.cxx
===================================================================
RCS file: /cvs/xml/xmloff/source/core/xmltoken.cxx,v
retrieving revision 1.87
retrieving revision 1.85.16.2
diff -u -p -u -p -r1.87 -r1.85.16.2
--- xmloff/source/core/xmltoken.cxx	28 Jan 2005 15:35:26 -0000	1.87
+++ xmloff/source/core/xmltoken.cxx	10 Feb 2005 13:01:08 -0000	1.85.16.2
@@ -2864,6 +2864,8 @@ namespace xmloff { namespace token {
         TOKEN( "opendocument",          XML_OPENDOCUMENT),
         TOKEN( "1.0", XML_1_0 ),
 
+        TOKEN( "is-list-header",     XML_IS_LIST_HEADER ),
+
 #if OSL_DEBUG_LEVEL > 0
         { 0, NULL, NULL,                       XML_TOKEN_END }
 #else
Index: xmloff/source/text/txtimp.cxx
===================================================================
RCS file: /cvs/xml/xmloff/source/text/txtimp.cxx,v
retrieving revision 1.112
retrieving revision 1.111.20.2
diff -u -p -u -p -r1.112 -r1.111.20.2
--- xmloff/source/text/txtimp.cxx	27 Jan 2005 11:27:01 -0000	1.112
+++ xmloff/source/text/txtimp.cxx	10 Feb 2005 13:03:40 -0000	1.111.20.2
@@ -448,6 +448,7 @@ static __FAR_DATA SvXMLTokenMapEntry aTe
 											XML_TOK_TEXT_P_COND_STYLE_NAME },
 	{ XML_NAMESPACE_TEXT, XML_OUTLINE_LEVEL,XML_TOK_TEXT_P_LEVEL },
 	{ XML_NAMESPACE_TEXT, XML_ID,			XML_TOK_TEXT_P_ID },
+	{ XML_NAMESPACE_TEXT, XML_IS_LIST_HEADER,XML_TOK_TEXT_P_IS_LIST_HEADER },
 	XML_TOKEN_MAP_END
 };
 
Index: xmloff/source/text/txtparae.cxx
===================================================================
RCS file: /cvs/xml/xmloff/source/text/txtparae.cxx,v
retrieving revision 1.119
retrieving revision 1.117.54.2
diff -u -p -u -p -r1.119 -r1.117.54.2
--- xmloff/source/text/txtparae.cxx	27 Jan 2005 11:31:05 -0000	1.119
+++ xmloff/source/text/txtparae.cxx	10 Feb 2005 13:03:49 -0000	1.117.54.2
@@ -304,6 +304,7 @@ static int txtparae_bContainsIllegalChar
 // NumberingRules				if style exists		always
 // TextSection					always				always
 // ParaChapterNumberingLevel	never				always
+// NumberingIsNumber            never               always
 
 // The conclusion is that for auto styles the first three properties
 // should be queried using a multi property set if, and only if, an
@@ -332,6 +333,7 @@ enum eParagraphPropertyNamesEnumAuto
 
 static const sal_Char* aParagraphPropertyNames[] =
 {
+    "NumberingIsNumber",
 	"ParaChapterNumberingLevel",
 	"ParaConditionalStyleName",
 	"ParaStyleName",
@@ -341,10 +343,11 @@ static const sal_Char* aParagraphPropert
 
 enum eParagraphPropertyNamesEnum
 {
-	PARA_CHAPTER_NUMERBING_LEVEL = 0,
-	PARA_CONDITIONAL_STYLE_NAME = 1,
-	PARA_STYLE_NAME = 2,
-	TEXT_SECTION = 3
+	NUMBERING_IS_NUMBER = 0,
+	PARA_CHAPTER_NUMERBING_LEVEL = 1,
+	PARA_CONDITIONAL_STYLE_NAME = 2,
+	PARA_STYLE_NAME = 3,
+	TEXT_SECTION = 4
 };
 
 
@@ -1768,6 +1771,23 @@ void XMLTextParagraphExport::exportParag
 					GetExport().AddAttribute( XML_NAMESPACE_TEXT,
 											  XML_OUTLINE_LEVEL,
 								  sTmp.makeStringAndClear() );
+
+                    if( rPropSetHelper.hasProperty( NUMBERING_IS_NUMBER ) )
+                    {
+                        if( xMultiPropSet.is() )
+                            aAny = rPropSetHelper.getValue( 
+                                       NUMBERING_IS_NUMBER, xMultiPropSet );
+                        else
+                            aAny = rPropSetHelper.getValue( 
+                                       NUMBERING_IS_NUMBER, xPropSet );
+
+                        bool bIsNumber;
+                        aAny >>= bIsNumber;
+                        if( ! bIsNumber )
+                            GetExport().AddAttribute( XML_NAMESPACE_TEXT,
+                                                      XML_IS_LIST_HEADER,
+                                                      XML_TRUE );
+                    }
 				}
 			}
 		}
Index: xmloff/source/text/txtparai.cxx
===================================================================
RCS file: /cvs/xml/xmloff/source/text/txtparai.cxx,v
retrieving revision 1.47
retrieving revision 1.46.56.1
diff -u -p -u -p -r1.47 -r1.46.56.1
--- xmloff/source/text/txtparai.cxx	27 Jan 2005 12:35:23 -0000	1.47
+++ xmloff/source/text/txtparai.cxx	7 Feb 2005 21:05:47 -0000	1.46.56.1
@@ -1656,7 +1656,8 @@ XMLParaContext::XMLParaContext(
 	nOutlineLevel( IsXMLToken( rLName, XML_H ) ? 1 : -1 ),
 	pHints( 0 ),
 	bIgnoreLeadingSpace( sal_True ),
-	bHeading( bHead )
+	bHeading( bHead ),
+    bIsListHeader( false )
 #ifdef CONV_STAR_FONTS
 	,nStarFontsConvFlags( 0 )
 #endif
@@ -1697,7 +1698,16 @@ XMLParaContext::XMLParaContext(
 					nOutlineLevel = (sal_Int8)nTmp;
 				}
 			}
-			break;
+            break;
+		case XML_TOK_TEXT_P_IS_LIST_HEADER:
+			{
+                sal_Bool bBool;
+                if( SvXMLUnitConverter::convertBool( bBool, rValue ) )
+                {
+                    bIsListHeader = bBool;
+                }
+			}
+            break;
 		case XML_TOK_TEXT_P_ID:
 			sId = rValue;
 			break;
@@ -1734,6 +1744,19 @@ XMLParaContext::~XMLParaContext()
 	// set style and hard attributes at the previous paragraph
 	sStyleName = xTxtImport->SetStyleAndAttrs( GetImport(), xAttrCursor, sStyleName, sal_True, bHeading ? nOutlineLevel : -1 );
 
+    // handle list style header
+    if( bHeading && bIsListHeader )
+    {
+        Reference<XPropertySet> xPropSet( xAttrCursor, UNO_QUERY );
+        OUString sNumberingIsNumber( 
+            RTL_CONSTASCII_USTRINGPARAM("NumberingIsNumber") );
+        if( xPropSet.is() &&
+            xPropSet->getPropertySetInfo()->hasPropertyByName( sNumberingIsNumber ) )
+        {
+            xPropSet->setPropertyValue( sNumberingIsNumber, makeAny( false ) );
+        }
+    }
+
 	if( pHints && pHints->Count() )
 	{
 		for( sal_uInt16 i=0; i<pHints->Count(); i++ )
Index: xmloff/source/text/txtparai.hxx
===================================================================
RCS file: /cvs/xml/xmloff/source/text/txtparai.hxx,v
retrieving revision 1.4
retrieving revision 1.4.58.1
diff -u -p -u -p -r1.4 -r1.4.58.1
--- xmloff/source/text/txtparai.hxx	26 Nov 2004 19:35:21 -0000	1.4
+++ xmloff/source/text/txtparai.hxx	7 Feb 2005 21:05:48 -0000	1.4.58.1
@@ -92,6 +92,7 @@ class XMLParaContext : public SvXMLImpor
 	XMLHints_Impl			*pHints;
 	sal_Bool				bIgnoreLeadingSpace;
 	sal_Bool				bHeading;
+    sal_Bool                bIsListHeader;
 #ifdef CONV_STAR_FONTS
 	sal_uInt8				nStarFontsConvFlags;
 #endif
Index: sw/inc/dbgoutsw.hxx
===================================================================
RCS file: /cvs/sw/sw/inc/dbgoutsw.hxx,v
retrieving revision 1.10
retrieving revision 1.9.60.2
diff -u -p -u -p -r1.10 -r1.9.60.2
--- sw/inc/dbgoutsw.hxx	25 Jan 2005 13:58:12 -0000	1.10
+++ sw/inc/dbgoutsw.hxx	10 Feb 2005 13:07:20 -0000	1.9.60.2
@@ -79,6 +79,7 @@ class SwUndo;
 class SwUndos;
 class SwRect;
 class SwFrmFmt;
+class SwFrmFmts;
 class SwNodes;
 class SwRewriter;
 class SwNumRuleTbl;
Index: sw/inc/numrule.hxx
===================================================================
RCS file: /cvs/sw/sw/inc/numrule.hxx,v
retrieving revision 1.21
retrieving revision 1.21.114.1
diff -u -p -u -p -r1.21 -r1.21.114.1
--- sw/inc/numrule.hxx	27 Nov 2004 11:39:41 -0000	1.21
+++ sw/inc/numrule.hxx	3 Feb 2005 15:22:24 -0000	1.21.114.1
@@ -388,4 +388,6 @@ public:
         
 };
 
+sal_Unicode GetBulletChar(BYTE nLevel);
+
 #endif	// _NUMRULE_HXX
Index: sw/source/core/doc/docnum.cxx
===================================================================
RCS file: /cvs/sw/sw/source/core/doc/docnum.cxx,v
retrieving revision 1.44
retrieving revision 1.42.102.2
diff -u -p -u -p -r1.44 -r1.42.102.2
--- sw/source/core/doc/docnum.cxx	4 Feb 2005 11:14:52 -0000	1.44
+++ sw/source/core/doc/docnum.cxx	10 Feb 2005 13:11:34 -0000	1.42.102.2
@@ -952,6 +952,7 @@ void lcl_ChgNumRule( SwDoc& rDoc, const 
 	{
 		pOld->CheckCharFmts( &rDoc );
 		pOld->SetContinusNum( rRule.IsContinusNum() );
+    	pOld->SetRuleType( rRule.GetRuleType() );
 		return ;
 	}
 
@@ -999,6 +1000,7 @@ void lcl_ChgNumRule( SwDoc& rDoc, const 
 	pOld->CheckCharFmts( &rDoc );
 	pOld->SetInvalidRule( TRUE );
 	pOld->SetContinusNum( rRule.IsContinusNum() );
+	pOld->SetRuleType( rRule.GetRuleType() );
 
 	if( !pRuleInfo )
 		delete pUpd;
Index: sw/source/core/doc/number.cxx
===================================================================
RCS file: /cvs/sw/sw/source/core/doc/number.cxx,v
retrieving revision 1.26
retrieving revision 1.26.102.2
diff -u -p -u -p -r1.26 -r1.26.102.2
--- sw/source/core/doc/number.cxx	8 Dec 2004 17:41:17 -0000	1.26
+++ sw/source/core/doc/number.cxx	4 Feb 2005 11:10:30 -0000	1.26.102.2
@@ -614,6 +614,7 @@ SwNumRule::SwNumRule( const String& rNm,
 			pFmt->SetAbsLSpace( lNumIndent + SwNumRule::GetNumIndent( n ) );
 			pFmt->SetFirstLineOffset( lNumFirstLineOffset );
 			pFmt->SetSuffix( aDotStr );
+            pFmt->SetBulletChar( GetBulletChar(n));
 			SwNumRule::aBaseFmts[ NUM_RULE ][ n ] = pFmt;
 		}
 
@@ -627,6 +628,7 @@ SwNumRule::SwNumRule( const String& rNm,
 			pFmt->SetIncludeUpperLevels( MAXLEVEL );
 //            pFmt->eType = ARABIC;
 			pFmt->SetStart( 1 );
+            pFmt->SetBulletChar( GetBulletChar(n));
 			SwNumRule::aBaseFmts[ OUTLINE_RULE ][ n ] = pFmt;
 		}
 	}
@@ -782,6 +784,7 @@ void SwNumRule::Set( USHORT i, const SwN
 		delete aFmts[ i ];
 		aFmts[ i ] = new SwNumFmt( rNumFmt );
 		bInvalidRuleFlag = TRUE;
+
 	}
 }
 
@@ -1030,3 +1033,15 @@ void SwNumRule::Indent(short nAmount, in
     if (bGotInvalid)
         SetInvalidRule(bGotInvalid);
 }
+
+sal_Unicode GetBulletChar(BYTE nLevel)
+{
+    static sal_Unicode nLevelChars[MAXLEVEL] = 
+        { 0x25cf, 0x25cb, 0x25a0, 0x25cf, 0x25cb, 
+          0x25a0, 0x25cf, 0x25cb, 0x25a0, 0x25cf };
+
+    if (nLevel > MAXLEVEL)
+        nLevel = MAXLEVEL;
+
+    return nLevelChars[nLevel]; 
+}
Index: sw/source/core/undo/docundo.cxx
===================================================================
RCS file: /cvs/sw/sw/source/core/undo/docundo.cxx,v
retrieving revision 1.15
retrieving revision 1.14.60.1
diff -u -p -u -p -r1.15 -r1.14.60.1
--- sw/source/core/undo/docundo.cxx	25 Jan 2005 13:59:49 -0000	1.15
+++ sw/source/core/undo/docundo.cxx	31 Jan 2005 15:39:17 -0000	1.14.60.1
@@ -598,7 +598,7 @@ String SwDoc::GetUndoIdsStr( String* pSt
     }
     else
         GetUndoIds( &aTmpStr, pUndoIds);        
-    
+
     return aTmpStr;
 }
 
@@ -925,20 +925,16 @@ BOOL SwDoc::Redo( SwUndoIter& rUndoIter 
 String SwDoc::GetRedoIdsStr( String* pStr, SwUndoIds *pRedoIds ) const
 {
     String aTmpStr;
-    USHORT nId;
 
     if (pStr != NULL)
     {
-        nId = GetRedoIds( pStr, pRedoIds );
+        GetRedoIds( pStr, pRedoIds );
         aTmpStr = *pStr;
     }
     else
-        nId = GetRedoIds( &aTmpStr, pRedoIds );
+        GetRedoIds( &aTmpStr, pRedoIds );
        
 
-    if (nId <= UNDO_END)
-        return String();
-
     return aTmpStr;
 }
 
Index: sw/source/core/unocore/unoobj.cxx
===================================================================
RCS file: /cvs/sw/sw/source/core/unocore/unoobj.cxx,v
retrieving revision 1.83
retrieving revision 1.82.38.2
diff -u -p -u -p -r1.83 -r1.82.38.2
--- sw/source/core/unocore/unoobj.cxx	25 Jan 2005 14:00:20 -0000	1.83
+++ sw/source/core/unocore/unoobj.cxx	10 Feb 2005 13:15:17 -0000	1.82.38.2
@@ -760,9 +760,10 @@ sal_Bool lcl_setCrsrPropertyValue(const 
 				SwTxtNode* pTxtNd = rPam.GetNode()->GetTxtNode();
 				const SwNumRule* pRule = pTxtNd->GetNumRule();
 				// hier wird Multiselektion nicht beruecksichtigt
-				if( pRule && pTxtNd->GetNum())
+
+				if( pTxtNd->GetNum() )
 				{
-					if( FN_UNO_NUM_LEVEL == pMap->nWID)
+					if( FN_UNO_NUM_LEVEL == pMap->nWID  &&  pRule != NULL )
 					{
 						sal_Int16 nLevel;
 						aValue >>= nLevel;
@@ -788,7 +789,7 @@ sal_Bool lcl_setCrsrPropertyValue(const 
 						}
 #endif
 					}
-					else
+					else if( FN_UNO_IS_NUMBER == pMap->nWID )
 					{
 						BOOL bIsNumber = *(sal_Bool*) aValue.getValue();
 						SwNodeNum aNum = *pTxtNd->GetNum();
Index: sw/source/filter/basflt/shellio.cxx
===================================================================
RCS file: /cvs/sw/sw/source/filter/basflt/shellio.cxx,v
retrieving revision 1.36
retrieving revision 1.33.38.2
diff -u -p -u -p -r1.36 -r1.33.38.2
--- sw/source/filter/basflt/shellio.cxx	7 Feb 2005 14:05:16 -0000	1.36
+++ sw/source/filter/basflt/shellio.cxx	10 Feb 2005 13:16:35 -0000	1.33.38.2
@@ -468,8 +468,6 @@ ULONG SwReader::Read( const Reader& rOpt
 
 	pDoc->bInReading = FALSE;
 
-    pDoc->PropagateOutlineRule();
-
     pDoc->InvalidateNumRules();
     pDoc->UpdateNumRule();
 	pDoc->SetAllUniqueFlyNames();
Index: sw/source/filter/ww8/ww8par.cxx
===================================================================
RCS file: /cvs/sw/sw/source/filter/ww8/ww8par.cxx,v
retrieving revision 1.150
retrieving revision 1.150.2.1
diff -u -p -u -p -r1.150 -r1.150.2.1
--- sw/source/filter/ww8/ww8par.cxx	21 Jan 2005 10:43:37 -0000	1.150
+++ sw/source/filter/ww8/ww8par.cxx	8 Feb 2005 10:02:25 -0000	1.150.2.1
@@ -1096,6 +1096,7 @@ void SwWW8FltControlStack::SetAttrInDoc(
                                 pNd->GetAttr(RES_LR_SPACE);
 
                         SwTxtNode *pTxtNode = (SwTxtNode*)pNode;
+
                         const SwNumFmt *pNum = 0;
                         pNum = GetNumFmtFromStack(*aRegion.GetPoint(),
                             *pTxtNode);
@@ -4609,6 +4610,8 @@ ULONG SwWW8ImplReader::LoadDoc( SwPaM& r
     if (!nErrRet)
         nErrRet = LoadThroughDecryption(rPaM ,pGloss);
 
+    rDoc.PropagateOutlineRule();
+
     return nErrRet;
 }
 
Index: sw/source/ui/shells/basesh.cxx
===================================================================
RCS file: /cvs/sw/sw/source/ui/shells/basesh.cxx,v
retrieving revision 1.64
retrieving revision 1.64.22.1
diff -u -p -u -p -r1.64 -r1.64.22.1
--- sw/source/ui/shells/basesh.cxx	18 Jan 2005 14:30:21 -0000	1.64
+++ sw/source/ui/shells/basesh.cxx	31 Jan 2005 17:21:29 -0000	1.64.22.1
@@ -580,11 +580,11 @@ void SwBaseShell::ExecClpbrd(SfxRequest 
                     int nRet = SwTransferable::PasteSpecial( rSh, aDataHelper, nFormatId );
                     if(nRet)// && rReq.IsRecording() )
                     {
-		                SfxViewFrame* pViewFrame = GetView().GetViewFrame();
+		                SfxViewFrame* pViewFrame = pView->GetViewFrame();
 						com::sun::star::uno::Reference< com::sun::star::frame::XDispatchRecorder > xRecorder =
 								pViewFrame->GetBindings().GetRecorder();
 						if(xRecorder.is()) {
-							SfxRequest aReq( pView->GetViewFrame(), SID_CLIPBOARD_FORMAT_ITEMS );
+							SfxRequest aReq( pViewFrame, SID_CLIPBOARD_FORMAT_ITEMS );
 							aReq.AppendItem( SfxUInt32Item( SID_CLIPBOARD_FORMAT_ITEMS, nFormatId ) );
 							aReq.Done();
 						}
Index: sfx2/sdi/sfx.sdi
===================================================================
RCS file: /cvs/framework/sfx2/sdi/sfx.sdi,v
retrieving revision 1.65
retrieving revision 1.65.124.1
diff -u -p -u -p -r1.65 -r1.65.124.1
--- sfx2/sdi/sfx.sdi	26 Nov 2004 15:06:23 -0000	1.65
+++ sfx2/sdi/sfx.sdi	7 Feb 2005 21:34:00 -0000	1.65.124.1
@@ -8242,10 +8242,10 @@ SfxVoidItem NewXForms FN_XFORMS_INIT
 	Asynchron;
 
 	/* config: */
-	AccelConfig = TRUE,
-	MenuConfig = TRUE,
+	AccelConfig = FALSE,
+	MenuConfig = FALSE,
 	StatusBarConfig = FALSE,
-	ToolBoxConfig = TRUE,
+	ToolBoxConfig = FALSE,
 	GroupId = GID_INSERT;
 ]
 
Index: sax/source/expatwrap/xml2utf.cxx
===================================================================
RCS file: /cvs/xml/sax/source/expatwrap/xml2utf.cxx,v
retrieving revision 1.6
retrieving revision 1.6.26.1
diff -u -p -u -p -r1.6 -r1.6.26.1
--- sax/source/expatwrap/xml2utf.cxx	4 Feb 2004 13:40:37 -0000	1.6
+++ sax/source/expatwrap/xml2utf.cxx	4 Feb 2005 17:52:41 -0000	1.6.26.1
@@ -257,7 +257,7 @@ sal_Bool XMLFile2UTFConverter::isEncodin
 
 sal_Bool XMLFile2UTFConverter::scanForEncoding( Sequence< sal_Int8 > &seq )
 {
-	const sal_Int8 *pSource = seq.getConstArray();
+	const sal_uInt8 *pSource = reinterpret_cast<const sal_uInt8*>( seq.getConstArray() );
 	sal_Bool bReturn = sal_True;
 
 	if( seq.getLength() < 4 ) {
@@ -299,14 +299,14 @@ sal_Bool XMLFile2UTFConverter::scanForEn
 			}
 		}
 	}
-	else if( 0xFE == static_cast<unsigned char> (pSource[0]) &&
-	         0xFF == static_cast<unsigned char> (pSource[1]) ) {
+	else if( 0xFE == pSource[0] &&
+	         0xFF == pSource[1] ) {
 		// UTF-16 big endian
 		// conversion is done so that encoding information can be easily extracted
 		m_sEncoding = "utf-16";
 	}
-	else if( 0xFF == static_cast<unsigned char> (pSource[0]) &&
-	         0xFE == static_cast<unsigned char> (pSource[1]) ) {
+	else if( 0xFF == pSource[0] &&
+	         0xFE == pSource[1] ) {
 		// UTF-16 little endian
 		// conversion is done so that encoding information can be easily extracted
 		m_sEncoding = "utf-16";
@@ -334,6 +334,16 @@ sal_Bool XMLFile2UTFConverter::scanForEn
 
 		m_sEncoding = "utf-16";
 	}
+    else if( 0xEF == pSource[0] && 
+             0xBB == pSource[1] &&
+             0xBF == pSource[2] )
+    {
+        // UTF-8 BOM (byte order mark); signifies utf-8, and not byte order
+        // The BOM is removed.
+        memmove( seq.getArray(), &( seq.getArray()[3] ), seq.getLength()-3 );
+        seq.realloc( seq.getLength() - 3 );
+        m_sEncoding = "utf-8";
+    }
 	else if( 0x00 == pSource[0] && 0x00 == pSource[1]  && 0x00 == pSource[2] && 0x3c == pSource[3] ) {
 		// UCS-4 big endian
 		m_sEncoding = "ucs-4";

