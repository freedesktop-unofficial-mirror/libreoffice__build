--- officecfg/data/org/openoffice/Office/Common.xcd	Tue Mar  5 07:51:34 2002
+++ officecfg/data/org/openoffice/Office/Common.xcd	Fri Dec 20 13:41:09 2002
@@ -3993,19 +3993,19 @@
 			<!-- OldLocation: -->
 			<!--UI hints: Not yet available -->
 			<default:value cfg:name="http" cfg:type="string">
-				<default:data/>
+				<default:data>galeon-helper</default:data>
 			</default:value>
 			<default:value cfg:name="https" cfg:type="string">
-				<default:data/>
+				<default:data>galeon-helper</default:data>
 			</default:value>
 			<default:value cfg:name="ftp" cfg:type="string">
-				<default:data/>
+				<default:data>galeon-helper</default:data>
 			</default:value>
 			<default:value cfg:name="file" cfg:type="string">
-				<default:data/>
+				<default:data>nautilus</default:data>
 			</default:value>
 			<default:value cfg:name="mailto" cfg:type="string">
-				<default:data/>
+				<default:data>evolution-1.3</default:data>
 			</default:value>
 		</schema:set>
 		<schema:group cfg:name="ExternalMailer">
--- scp/source/office/files.scp	Fri Dec 20 13:58:10 2002
+++ scp/source/office/files.scp	Fri Dec 20 13:17:39 2002
@@ -2489,6 +2489,13 @@
                Styles                  = (PACKED);
 End
 
+File GID_FILE_BIN_GALEONHELPER
+	BIN_FILE_BODY;
+	Dir		= GID_DIR_PROGRAM;
+	Name		= "galeon-helper";
+	Styles		= (PACKED);
+End
+
 #ifndef OSL_PRODUCT
 
 STD_FONTUNX_FILE( GID_FILE_FNT_STARSYMB, starsymb.ttf, StarSymbol)
--- officecfg/data/galeon-helper	Thu Apr 11 09:25:15 2002
+++ officecfg/data/galeon-helper	Fri Dec 20 14:00:33 2002
@@ -0,0 +1,26 @@
+#!/bin/sh
+
+# Most of this is copied from /usr/bin/galeon, but it is tweaked to make it
+# work with the Ximian OpenOffice.org packages.
+
+MOZILLA_HOME=/usr/lib/mozilla-1.3b
+
+# FIXME: this will ignore existing items in LD_LIBRARY_PATH, but we definitely don't want
+# the $OO_INSTALL_DIR/program directory here, as it will cause linking errors for Galeon.
+LD_LIBRARY_PATH=$MOZILLA_HOME
+export LD_LIBRARY_PATH
+
+MOZILLA_FIVE_HOME=$MOZILLA_HOME
+export MOZILLA_FIVE_HOME
+
+MOZ_PLUGIN_PATH=/usr/lib/mozilla/plugins:/usr/libexec/plugins/mozilla
+export MOZ_PLUGIN_PATH
+
+# for some reason this lets Galeon start properly on Red Hat 7.1 systems
+if [ -f /etc/redhat-release ]; then
+	if [ "`cat /etc/redhat-release`" = "Red Hat Linux release 7.1 (Seawolf)"  ]; then
+   	 export LD_ASSUME_KERNEL=2.2.5
+	fi
+fi
+
+exec gnome-url-show "$@"
--- officecfg/data/makefile.mk	Wed Dec  5 07:21:13 2001
+++ officecfg/data/makefile.mk	Fri Dec 20 14:01:43 2002
@@ -105,4 +105,9 @@
 	$(XMLTRANSFORM) \
 	$(UNIXTEXT)
 
+ALLTAR: $(BIN)$/galeon-helper
+
+$(BIN)$/galeon-helper:
+	cp galeon-helper $(BIN)$/galeon-helper
+
 .INCLUDE :  target.mk
--- officecfg/prj/d.lst	Mon Feb 18 12:11:36 2002
+++ officecfg/prj/d.lst	Fri Dec 20 14:05:57 2002
@@ -21,6 +21,8 @@
 ..\%__SRC%\class\schema.jar %_DEST%\bin%_EXT%\schema.jar
 ..\%__SRC%\class\cfgimport.jar %_DEST%\bin%_EXT%\cfgimport.jar
 
+..\data\galeon-helper %_DEST%\bin%_EXT%\galeon-helper
+
 ..\schema\schema.description.dtd %_DEST%\xml%_EXT%\office\schema\schema.description.dtd
 ..\schema\schema.description2.dtd %_DEST%\xml%_EXT%\office\schema\schema.description2.dtd
 ..\%__SRC%\misc\oo-mapping-schema.conf %_DEST%\xml%_EXT%\office\ldap\oo-mapping-schema.conf
