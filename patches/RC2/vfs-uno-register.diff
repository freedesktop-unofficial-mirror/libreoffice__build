Index: ucb/prj/d.lst
===================================================================
RCS file: /cvs/oo/ucb/ucb/prj/d.lst,v
retrieving revision 1.10
diff -u -p -u -r1.10 d.lst
--- ucb/prj/d.lst	2 Aug 2001 16:18:32 -0000	1.10
+++ ucb/prj/d.lst	1 Apr 2003 15:21:28 -0000
@@ -27,6 +27,7 @@
 ..\source\ucp\package\ucppkg.xml %_DEST%\xml%_EXT%\ucppkg.xml
 ..\source\ucp\remote\ucprmt.xml %_DEST%\xml%_EXT%\ucprmt.xml
 ..\source\ucp\webdav\ucpdav.xml %_DEST%\xml%_EXT%\ucpdav.xml
+..\source\ucp\gvfs\ucpgvfs.xml %_DEST%\xml%_EXT%\ucpgvfs.xml
 
 ..\%__SRC%\bin\ucb.exe %_DEST%\bin%_EXT%\ucb.exe
 ..\%__SRC%\bin\ucb %_DEST%\bin%_EXT%\ucb.bin
--- ucb/source/ucp/gvfs/ucpgvfs.xml	2003-04-01 16:22:25.000000000 +0100
+++ ucb/source/ucp/gvfs/ucpgvfs.xml	2003-04-01 16:22:25.000000000 +0100
@@ -0,0 +1,116 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!DOCTYPE module-description PUBLIC "-//StarOffice//DTD ComponentDescription 1.0//EN" "module-description.dtd">
+<module-description xmlns:xlink="http://www.w3.org/1999/xlink">
+
+    <module-name>
+	ucpgvfs
+    </module-name>
+
+    <component-description>
+        <author>
+	    Michael Meeks
+        </author>
+        <name>
+            com.sun.star.comp.ucb.GnomeVFSProvider
+        </name>
+        <description>
+	    This component implements a Content Provider for the Universal
+            Content Broker. It provides access to the Gnome VFS Virtual
+	    file system
+        </description>
+        <loader-name>
+            com.sun.star.loader.SharedLibrary
+        </loader-name>
+        <language>
+            c++
+        </language>
+        <status value="final"/>
+        <supported-service>
+            com.sun.star.ucb.GnomeVFSContentProvider
+        </supported-service>
+
+        <service-dependency>
+            com.sun.star.config.SpecialConfigManager
+        </service-dependency>
+        <service-dependency>
+            com.sun.star.configuration.ConfigurationAccess
+        </service-dependency>
+        <service-dependency>
+            com.sun.star.configuration.ConfigurationProvider
+        </service-dependency>
+        <service-dependency>
+            com.sun.star.script.Converter
+        </service-dependency>
+        <service-dependency>
+            com.sun.star.ucb.CachedDynamicResultSetStubFactory
+        </service-dependency>
+        <service-dependency>
+            com.sun.star.ucb.Store
+        </service-dependency>
+    </component-description>
+
+    <project-build-dependency> sal                </project-build-dependency>
+    <project-build-dependency> cppu               </project-build-dependency>
+    <project-build-dependency> cppuhelper         </project-build-dependency>
+    <project-build-dependency> vos                </project-build-dependency>
+    <project-build-dependency> ucbhelper          </project-build-dependency>
+
+    <runtime-module-dependency>	sal3			  </runtime-module-dependency>
+    <runtime-module-dependency>	cppu3			  </runtime-module-dependency>
+    <runtime-module-dependency>	cppuhelper3$(COM) </runtime-module-dependency>
+    <runtime-module-dependency>	vos2$(COM)        </runtime-module-dependency>
+    <runtime-module-dependency>	ucbhelper1$(COM)  </runtime-module-dependency>
+
+    <type> com.sun.star.beans.Property                         </type>
+    <type> com.sun.star.beans.PropertyAttribute                </type>
+    <type> com.sun.star.beans.PropertySetInfoChange            </type>
+    <type> com.sun.star.beans.PropertyState                    </type>
+    <type> com.sun.star.beans.PropertyValue                    </type>
+    <type> com.sun.star.beans.XPropertiesChangeNotifier        </type>
+    <type> com.sun.star.beans.XPropertyAccess                  </type>
+    <type> com.sun.star.beans.XPropertyContainer               </type>
+    <type> com.sun.star.beans.XPropertySetInfo                 </type>
+    <type> com.sun.star.beans.XPropertySetInfoChangeNotifier   </type>
+    <type> com.sun.star.container.XChild                       </type>
+    <type> com.sun.star.container.XHierarchicalNameAccess      </type>
+    <type> com.sun.star.frame.ConfigManager                    </type>
+    <type> com.sun.star.io.XActiveDataSink                     </type>
+    <type> com.sun.star.io.XActiveDataStreamer                 </type>
+    <type> com.sun.star.io.XSeekable                           </type>
+    <type> com.sun.star.io.XStream                             </type>
+    <type> com.sun.star.lang.XMultiServiceFactory              </type>
+    <type> com.sun.star.lang.XServiceInfo                      </type>
+    <type> com.sun.star.lang.XSingleServiceFactory             </type>
+    <type> com.sun.star.lang.XTypeProvider                     </type>
+    <type> com.sun.star.registry.XRegistryKey                  </type>
+    <type> com.sun.star.script.XTypeConverter                  </type>
+    <type> com/sun/star/sdbc/ColumnValue                       </type>
+    <type> com.sun.star.sdbc.XCloseable                        </type>
+    <type> com.sun.star.sdbc.XResultSetMetaDataSupplier        </type>
+    <type> com.sun.star.sdbc.XRow                              </type>
+    <type> com.sun.star.ucb.ContentAction                      </type>
+    <type> com.sun.star.ucb.ContentInfoAttribute               </type>
+    <type> com.sun.star.ucb.FileSystemNotation                 </type>
+    <type> com.sun.star.ucb.InsertCommandArgument              </type>
+    <type> com.sun.star.ucb.InteractiveBadTransferURLException </type>
+    <type> com.sun.star.ucb.ListAction                         </type>
+    <type> com.sun.star.ucb.NameClash                          </type>
+    <type> com.sun.star.ucb.NumberedSortingInfo                </type>
+    <type> com.sun.star.ucb.OpenCommandArgument2               </type>
+    <type> com.sun.star.ucb.OpenMode                           </type>
+    <type> com.sun.star.ucb.TransferInfo                       </type>
+    <type> com.sun.star.ucb.WelcomeDynamicResultSetStruct      </type>
+    <type> com.sun.star.ucb.XCachedDynamicResultSetStubFactory </type>
+    <type> com.sun.star.ucb.XCommandInfo                       </type>
+    <type> com.sun.star.ucb.XCommandProcessor                  </type>
+    <type> com.sun.star.ucb.XContentAccess                     </type>
+    <type> com.sun.star.ucb.XContentCreator                    </type>
+    <type> com.sun.star.ucb.XContentIdentifier                 </type>
+    <type> com.sun.star.ucb.XContentIdentifierFactory          </type>
+    <type> com.sun.star.ucb.XContentProvider                   </type>
+    <type> com.sun.star.ucb.XDynamicResultSet                  </type>
+    <type> com.sun.star.ucb.XFileIdentifierConverter           </type>
+    <type> com.sun.star.ucb.XPropertySetRegistryFactory        </type>
+    <type> com.sun.star.ucb.XSourceInitialization              </type>
+    <type> com.sun.star.uno.XWeak                              </type>
+</module-description>
Index: scp/source/player/player.scp
===================================================================
RCS file: /cvs/oo/installation/scp/source/player/player.scp,v
retrieving revision 1.38
diff -u -p -u -r1.38 player.scp
--- scp/source/player/player.scp	12 Nov 2001 18:47:25 -0000	1.38
+++ scp/source/player/player.scp	1 Apr 2003 15:32:18 -0000
@@ -517,6 +517,16 @@ File GID_FILE_LIB_UCPFILE1
         #endif
 End
 
+#ifdef UNX
+File GID_FILE_LIB_UCPGVFS1
+        BIN_FILE_BODY;
+        Styles          = (PACKED,UNO_COMPONENT);
+        RegistryID      = GID_STARREGISTRY_APPLICAT_RDB;
+        Dir             = GCFG_BINARY_DIR;
+        Name            = "libucpgvfs1.so";
+End
+#endif
+
 File GID_FILE_LIB_UCPDAV1
         BIN_FILE_BODY;
         Styles          = (PACKED,UNO_COMPONENT);
Index: officecfg/registry/data/org/openoffice/ucb/Configuration.xcu
===================================================================
RCS file: /cvs/util/officecfg/registry/data/org/openoffice/ucb/Configuration.xcu,v
retrieving revision 1.4
diff -u -p -u -r1.4 Configuration.xcu
--- officecfg/registry/data/org/openoffice/ucb/Configuration.xcu	8 Nov 2002 16:50:28 -0000	1.4
+++ officecfg/registry/data/org/openoffice/ucb/Configuration.xcu	13 May 2003 20:52:35 -0000
@@ -154,6 +154,17 @@
                 <value/>
               </prop>
             </node>
+            <node oor:name="Provider9" oor:op="replace">
+              <prop oor:name="ServiceName">
+                <value>com.sun.star.ucb.GnomeVFSContentProvider</value>
+              </prop>
+              <prop oor:name="URLTemplate">
+                <value>.*</value>
+              </prop>
+              <prop oor:name="Arguments">
+                <value/>
+              </prop>
+            </node>
           </node>
         </node>
       </node>
Index: scp/source/office/files.scp
===================================================================
RCS file: /cvs/installation/scp/source/office/files.scp,v
retrieving revision 1.344
diff -u -p -u -r1.344 files.scp
--- scp/source/office/files.scp	24 Apr 2003 11:14:15 -0000	1.344
+++ scp/source/office/files.scp	13 May 2003 20:55:39 -0000
@@ -817,6 +794,9 @@ STD_RES_FILE( GID_FILE_RES_LNN, lnn)
 
 STD_UNO_LIB_FILE( GID_FILE_LIB_BIB , bib)
 SPECIAL_UNO_LIB_FILE(GID_FILE_LIB_UCPFILE1,ucpfile1)
+#ifdef UNX
+SPECIAL_UNO_LIB_FILE(GID_FILE_LIB_UCPGVFS1,ucpgvfs1)
+#endif
 SPECIAL_UNO_LIB_FILE(GID_FILE_LIB_UCPFTP1,ucpftp1)
 SPECIAL_UNO_LIB_FILE(GID_FILE_LIB_UCPPKG1,ucppkg1)
 SPECIAL_UNO_LIB_FILE(GID_FILE_LIB_PACKAGE2,package2)
