Index: setup2/mow/source/loader/loader.c
===================================================================
RCS file: /cvs/installation/setup2/mow/source/loader/loader.c,v
retrieving revision 1.49
diff -u -p -u -r1.49 loader.c
--- setup2/mow/source/loader/loader.c	16 Jul 2003 17:59:07 -0000	1.49
+++ setup2/mow/source/loader/loader.c	8 Sep 2003 15:22:40 -0000
@@ -796,6 +796,8 @@ void check_system()
 #endif
         if( pLDPath )
         {
+            pLDPath = strdup( pLDPath );
+
             char* pToken = strtok( pLDPath, ":" );
             while( pToken != NULL )
             {
@@ -819,6 +821,8 @@ void check_system()
                 }
                 pToken = strtok( NULL, ":" );
             }
+
+            free( pLDPath );
         }
 
         for( i = 0; i < MAX_FILENAMES; ++i )
Index: setup2/script/setup.sh
===================================================================
RCS file: /cvs/installation/setup2/script/setup.sh,v
retrieving revision 1.19
diff -u -p -u -r1.19 setup.sh
--- setup2/script/setup.sh	16 Jul 2003 17:59:43 -0000	1.19
+++ setup2/script/setup.sh	8 Sep 2003 15:25:41 -0000
@@ -115,19 +115,19 @@ case $sd_platform in
      # 2) link against 'libcppuhelper$(COMID).so.$(UDK_MAJOR)'
      #    instead of obsolete 'libcppuhelper$(UDK_MAJOR)$(COMID).so'
      # @@@ </NOTE> @@@
-	 LD_LIBRARY_PATH=${sd_archive_path}:.
+	 LD_LIBRARY_PATH=${sd_archive_path}:.:$LD_LIBRARY_PATH
 	 export LD_LIBRARY_PATH
 	 ;;
   Darwin)
-	 DYLD_LIBRARY_PATH=${sd_archive_path}:.
+	 DYLD_LIBRARY_PATH=${sd_archive_path}:.:$DYLD_LIBRARY_PATH
 	 export DYLD_LIBRARY_PATH
 	 ;;
   IRIX*)
-	 LD_LIBRARYN32_PATH=${sd_archive_path}
+	 LD_LIBRARYN32_PATH=${sd_archive_path}:$LD_LIBRARY32_PATH
 	 export LD_LIBRARYN32_PATH
 	 ;;
   *)
-	 LD_LIBRARY_PATH=${sd_archive_path}
+	 LD_LIBRARY_PATH=${sd_archive_path}:$LD_LIBRARY_PATH
 	 export LD_LIBRARY_PATH
 	 ;;
 esac
