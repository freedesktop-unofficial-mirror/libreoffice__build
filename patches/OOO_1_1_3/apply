#
# The format of this file is:
#

# -------- Options --------

PATCHPATH=.:../OOO_1_1:../evo2:../wpd

# -------- Functional sub-sets --------

Minimal : MinimalOnly, BuildBits
Common : BuildBits, IconRender, Misc, MenuFixes, CalcFixes, WordPerfect, DBFixes
LinuxCommon : Common, VCLPlug, FilePickers, FontBits, i18n, SystemBits, LinuxOnly, ODKFixes
DebianBase : DebianOnly, LinuxCommon
Debian : DebianBase, XineramaPIC
DebianWoody: DebianBase, OldLibArt

NonDebianCommon : VBABits, Lotus
RedHatBase : LinuxCommon, GlobalDesktopFiles, NonDebianCommon, Evo2, RedHatOnly
RHFedora : RedHatBase, RHFedoraOnly
RHEL3    : RedHatBase, RHEL3Only, OldLibArt
RHL9     : RedHatBase, RHL9Only, OldLibArt

NovellBase : LinuxCommon, GlobalDesktopFiles, NonDebianCommon, Evo2, NovellOnly
SUSE : NovellBase, SUSEOnly
NLD  : NovellBase, NLDOnly
PLD  : PLDOnly, LinuxCommon, KDECommon, GlobalDesktopFiles, NonDebianCommon
KDE  : LinuxCommon, KDEOnly

# Odd one, very few patches:
Ark : ArkOnly, LinuxCommon, GlobalDesktopFiles, ODKFixes, VBABits
# somewhat odder:
Win32 : VCLPlug, Common, ODKFixes, VBABits, Win32Only

# -------- [ Tag ], patch sets --------

[ FilePickers ]

#
# Common part
#

# Back-port from HEAD. Current context's getValueByName() can return value of
# the "system.desktop-environment".
fpicker-desktop-environment.diff

# Search for GtkFilePicker or KDEFilePicker service when running in one of
# the environments to allow both file pickers to be installed at the same time.
fpicker-svtools-gtk-or-kde.diff

# Enable the folder picker to be launched from svtools
fpicker-gnome-svtools-folderpicker.diff

# Build bits
fpicker-gnome-build.diff

# Copying & registering stuff
fpicker-gnome-scp.diff

# Allow enabling/disabling of the native file picker in
# Tools->Options...->OpenOffice.org->General
fpicker-show-checkbox.diff

# fix for the csv import filter bug #62833
sfx2-fpicker-gnome-filter-fix.diff

#
# KDE file picker implementation
#

# Common code for out-of-process file picker implementation
fpicker-common.diff

# KDE specific code
fpicker-kde.diff

#######################################################

[ BuildBits ]

# do an optimizing link
build-optimized-link.diff

# do not build extras for icu, workaround for http://bugs.debian.org/210608
icu-build-no-extras.diff

# Use $ARCH_FLAGS env. var instead of hard-coded -mcpu=pentiumpro, #29537
build-arch-flags.diff

# Make NAS use $ARCH_FLAGS
nas-use-arch-flags.diff

# Blacklist some of the dirs during parallel dmake
build-pl-parallel-dmake-blacklist.diff

[ Misc ]
# Fix double-free in rsc caused by fclose()-ing the same file stream
# --- HACK ---
rsc-double-free-fix.diff

# don't do hundreds of sched_yields; each taking 100ms on RH 9.0 #9277: dafter fix
thread-yield.diff

# Insert symbol defaults to the Symbol font - not a random one #15512
gui-sw-insert-symbol.diff

# Use nicer colors for the charts X#64359
sc-default-color-modify.diff

# Make cursor two lines
gui-sc-cursor.diff

# speedup object movement
speed-lang-cache.diff

# speedup status notifications
speed-status-bar.diff

# Fix mind-mangled evo. addressbook path #26309
evo-addrbook.diff

# Fix disable java problem #27746
disable-java.diff

# If Java is enabled, ship the XSLT (docbook etc.) bits
java-use-xslt-filters.diff

# The blackdown .debs put the JDK in /usr/lib/j2se/1.4
java-path-blackdown.diff

# this is so brain damaged - guess a number/bitfield ...
doc-defaults.diff

# be a bit helpful ... #8581
debug-appinit.diff

# Add an ooo-build version in ProductExtension
version-strike.diff

# Make officecfg parallel-build safe
officecfg-parallel-build-fix.diff

# do not pack any potential .orig files with ppds
psprint_config-no-orig.diff

# prompt for save options - X#62182, #33686
gui-interop-warnings.diff

# fix updating symlinks; the symlink must be removed before it is replaced [X#66902]
setup2-update-symlink.diff

[ ODKFixes ]

# Fix ODK Java bits
odk-java-wizpanel.diff

[ IconRender ]

# Make insensitive icons look pleasant
gui-insensitive.diff
# high quality interpolate for tbx button selector
gui-tbxcust.diff
# fix some broken icon compositing foo #20470
icon-masks.diff
# Compositing fixes for alpha bg's - some (functional) hacks
gui-icon-composite.diff
gui-tbx-ctrl-bg.diff
# Fix htmltoolbar image alpha
gui-alpha-hypertoolbar.diff

# make the toolbox separators look saner, mouseover triangles
# resize & make set large icons as the default.
# Make tri-states look un-pressed - don't confuse the clients
# Don't draw uber-ugly prelight mess
gui-toolbox.diff
gui-toolbox-tristate.diff
gui-toolbox-prelight.diff

[ FontBits ]

# Don't bloat the ruler et. al. at larger font sizes #22098
gui-scale-ruler.diff

# Fully destroy resolution adaptive DPI scaling
gui-font-scale.diff

gui-font-antialias-size.diff
# undo some horrible mistake #16682
gui-font-size-unbreak.diff

# Default font size of 8pt is too small
gui-font-default-size.diff

# Get KDE font weight and size, and use menuFont for menus
gui-fonts-kde.diff

# These are not included in the OOO_STABLE_1 build
# - Use the new Freetype API
# - Use the hinting parameters that we use in the rest of the desktop
gui-ft-21-compat.patch
gui-ft-set-hint.patch

[ Misc ]

# fallback to the lang used for menu if we don't have the language
# requested by LC_MESSAGES; utlimate fallback to the English help, #32505
help-fallback.diff

# Fix some keybindings
gui-keybindings.diff

# Don't clutter us with dialogs at startup
gui-startup-declutter.diff

# Try and make the installer slightly wise to [OO]DESTDIR # 12781
inst-destdir.diff

# Dramatically improve MS import / export cf. #8276 et. al.
ms-filter-convert.diff

[ Misc ]
# Some of the new help & other icons we need
gui-new-icons.diff

[ MenuFixes ]

# Fix menu bloat / icon rendering / layout issues #17937
gui-menu-fixes.diff
# Use rendered images for check boxes instead of ugly symbols
gui-menu-check-images.diff
gui-menu-check-render.diff
# Fix menu checkitems, disable rendering of icons when the items unchecked #17937
gui-menu-checkitems.diff

[ Misc ]
# fix 'new' button sizing #15208
gui-tbx-new-size.diff

# Dialog remembers file save path, type & stores type right #17967
print-dialog.diff

[ FontBits ]

# Disable X font usage (and horrific aliasing) completely
gui-font-fontconfig-only.diff

# disable font management dialog in padmin
padmin-nofontconfig.diff

# fix some brokenness with font sync settings #15507, #16683
gui-ft-use-system-font.diff

[ GlobalDesktopFiles ]
# DebianOnly: we use the generated desktop files by moving them to
#         the right place in the filesystem
# RH: we also use generated KDE desktop files and mime-types
# don't install duff / ugly KDE/Gnome integration bits
user-desktop-install.diff

# still install the wrapper "fromtemplate", it is needed for SUSE at least
fromtemplate-wrapper-install.diff

[ Misc ]

# warn the user about printer errors #17966
print-error.diff

# Replace the Zoom icon with a Combo box in toolbars #11354
zoom-combobox.diff

# Make the delete key happy again in starcalc #17965 - wontfix [!]
gui-sc-delete.diff

# Don't build simply huge language specific sets
build-lang-no-pack.diff

# Try to get the font mapping right
gui-metric-fonts.diff
# Describe the metric compatible fonts for export mappings
gui-metric-fonts-descr.diff
# Use 'Andy' after comicsansms, before kidprint
font-andy.diff

# use 'OOO_MS_DEFAULTS' to turn on MS compatible export as default
app-compatible.diff

[ NovellOnly, MinimalOnly, RedHatOnly, PLDOnly ]
# This needs binning in favour of the debian version I think.
build-instsetoo-lang.diff

[ DebianOnly ]
# Temporary until above patch adapted for DebianOnly's needs
build-instsetoo-langext.diff

[ i18n ]

# add translations to sysui and remove bogus ones, #28201
sysui-translations.diff

# shrink exported ISO_8859_2 & MS_1250 html
# most people will use UTF-8 and never see this, #19514
html-8bit-export-shrink.diff

# fix calc .lng file encoding for lang 03, #29504
i18n-calc-encoding.diff

# Fix silly brokenness in langtab lists - #18826
translation-shift.diff

[ SystemBits ]

# use system db. 23779 
system-db.diff
# use system sane.h, 23779
system-sane.diff
# use system myspell, 23779
system-myspell.diff
# use system altlinuxhyph, 23779
system-altlinuxhyph.diff
# use system xrender
system-xrender.diff
# use system unixODBC headers, 23779
system-unixodbc.diff

[ BuildBits ]
# add --without-fonts, --with-python, --disable-rpath,
# --enable-mozilla, --enable-fontconfig, --with-system-{zlib,nas,db,freetype}
# config switches #21920, #23779
config-switches.diff

# add --without-myspell-dictionaries, #29937
disable-myspell-dicts.diff

# update aclocal, for AM_PATH_PYTHON
config-aclocal.diff

# Disable old installation language comparison when upgrading
setup-no-langcheck.diff

# do not extract vera fonts when we don't want them :-)
disable-vera-extraction.diff

# Fix the splash to not screwup on redraw #19646
gui-splash-redraw.diff

# Don't let the splash screen take over #23609
no-splash-takeover.patch

[ Misc ]

# Icu was patched to include rpath - remove it.
icu-no-rpath.diff

# Improve the web bullet export / export to png not gif. #23353
sd-export-html-theme.diff
sd-export-html.diff
sd-export-html-translations.diff
sd-export-html-descr.diff

# Fix the nasty default palette sizing #19158
gui-tbx-palette.diff

# Fix impress spellcheck #32320
crash-sd-spellcheck.diff

# Fix doc load crasher X#59375
sw-crash-fix.diff

# Fix doc load crasher X#64030
sw-import-crash.diff

# Make valgrinding easier
valgrind-alloc.diff

# Make the scroll-wheel / page popup more sane #20826
gui-sw-scroll.diff

# Disable style-list popup on first startup
gui-startup-style.diff

# Use 'utility' type for floaters - fixes click-on-panel-task-switch bug
wm-dialog-utility.diff

# Fix some incorrect assumptions about registers (x86-only)
asm-fixes.patch

# File->New->Spreadsheet freezes on some versions of GCC
svx-freeze-fix.patch

# fix pyuno for pythons which were compiled with ucs-4 support
pyuno-ucs-4-fixes.diff

# update pyuno docs from www.oo.o
pyuno-update-docs.diff

# Make the GUI installer less painful
setup-license.diff

# Address data source ordering X#62860
addrbk-datasrc-ordering.diff

[ LinuxOnly ]

# do not pack .orig and .bak files to the english help content
helpcontent-no-bak.diff

# Optimize linkage of some xmlhelp libraries
xmlhelp-optimize-linkage.patch

# Fix silly security problem - #33357, X#60965 (CAN-2004-0752)
security-tmp-dir.diff

[ DBFixes ]
# enlarge the mail-merge database view pane - #34297
db-mail-merge-size.diff
# don't create duplicate table names in SQL - #34306
db-duplicate-tables.diff

[ CalcFixes ]
TODO: Grab a snapshot of: cws_src680_csvio (sc, tools) instead of this:
# csv importing copes with embedded new-lines - X#62446, #32966
sc-csv-newline.diff
sc-csv-gui.diff

# Precision improvements - #22811
sc-precision-var.diff
sc-precision-skew.diff

[ VBABits ]

# Don't split macro files up gratuitously - #26345
vba-scanner-fix.diff

# Do a better job of importing Excel macros - #26402, X#64115
vba-not-comments.diff
vba-sc-import.diff
vba-sc-export.diff

# Parse (but ignore) VBA attribute statements
vba-attribute.diff

# Be VBA compatible always at the expense of StarBasic compatibility
vba-compatible.diff

# Alt-F11 does something useful - #29138
vba-keybinding-f11.diff

# Add foreach - #33807
vba-foreach.diff

# Add bit-shift - #<tocome>
vba-bitshift.diff

# Export VBA macros - but only to office XP, and that unconditionally
# vba-export.diff
# vba-export-dir.diff

#######################################################
# Patches applied in limited cases

[ XineramaPIC ]
# use libXinerama_pic.a on all archs
xinerama-pic-on-all-archs.diff

[ MinimalOnly ]
# disable odk build since we removed it from the tarball
disable-odk-build.diff

[ NovellOnly, RedHatOnly ]

# Use bug buddy
bug-buddy.diff

[ DebianOnly, NovellOnly ]
# Bin nasty bitstream fonts from most (English) mappings
font-de-bitstreamize-en.diff

# save everything to ~/Documents by default
path-home-documents.diff

[ OldLibArt ]
# add missing libart functions for older backports
build-use-old-libart.diff

#######################################################

[ DebianOnly ]

# Don't statically link setup to libstlport
stlport-dynamic-link.diff

# set OOO_DEBUG to strace or gdb soffice.bin
debug-ooo.diff

# compile msgbox-gnome every time (we have to support ppc, s390, ... too)
# #28798
compile-msgbox-gnome.diff

# Debian splashscreen
debian-splash.diff

# use sensible-browser
sensible-browser.diff

# Blackdown JDK doesn't have _01 version suffix
java-blackdown-ver.diff

# do not try to deliver non-free documentation; removed
odk-remove-non-free.diff
sdk-remove-non-free.diff

#######################################################

[ RedHatOnly ]
# Munge default fonts to match Red Hat-shipped ones
#redhat-default-fonts.patch

# Patch to point gnome-vfs to correct RH OOo icons
redhat-nautilus-icons.patch

# Red Hat splash screen
redhat-splash.diff

# Use gnome-open to open URIs
helper-programs-redhat.diff

# Fix up IIIMF support (RH #124538)
iiimf-multilingual-extension-2-enable.diff

# Use -Os rather than -O1/-O2 for compiles
build-opt-size.diff

#######################################################

[ NLDOnly ]

# Some branding action
nld-splash.diff

#######################################################

[ SUSEOnly ]

# some branding
suse-splash.diff

#######################################################

[ NovellOnly ]

# Integrate external programs; an attempt to propose a vendor independent solution
# Preset Tools->Options->OpenOffice.org->External
# programs->(HTTP|HTTPS|FTP|MAILTO) to "desktop-launch"
helper-programs.diff

# Help -> support X65554
help-support.diff

# hackish system-libstdc++ patch
system-libstdcpp.diff

# FIXME: ooo-res seems to be needed only for "Local Installation"
# which is not well supported with multiple localizations anyway
# ooo-res is copied to the really used iso-res by gid_Procedure_Copy_Iso_Res
# this patch updates the procedure to delete the unused ooo-res
# won't be needed with OOo, version 2.0, #28285
scp-no-ooo-res.diff

# configure some Japanese fonts used on Novell products
# (patch by Mike Fabian mfabian@suse.de)
# FIXME: We should rename this one to novell-cjk-fonts.diff
novell-japanese-fonts.diff

#######################################################

[ NovellOnly, PLDOnly ]

# mark the files in share/template/<lang>/wizard/bitmap as lang specific
build-wizard-bitmap-scp.diff

# An hack to install KDE amd Ximian's icons in paralel
# 1) search also the path defined by the variable OOO_PREFERRED_RESOURCE_PATH
# for resource files. This path is preferred over the default one.
# Allows to switch between two versions of resource files at runtime.
# 2) add one more default path for resources (program/resource.default)
# This allows to make a symlink to the default resource path which is different
# from the original resource path. It is needed to allow update of RPM packages.
# RPM is not able to replace a directory with the symlink within an update.
resmgr-resource-path.diff

# Push fonts into the ps stream always
print-type42.diff

# resolution independant printing bits, #29483
print-resolution-generic.diff

# in case the system is panicing; registry/data/org/openoffice/VCL.xcu is
# not installed or broken; used for example if OOo is installed from an
# installation set by ./install --interactive
gui-font-paranoid-fallback.diff

#######################################################

[ PLDOnly ]

# splash
pld-splash.diff

#######################################################
[ ArkOnly ]

# splash / branding
ark-splash.diff

# hackish system-libstdc++ patch
system-libstdcpp.diff

#######################################################
[ Win32Only ]

# Build berkeleydb with dmake not crack-rock-make #27400
win32-berkeleydb-toplevel.diff
win32-berkeleydb-make-patch.diff

# Odd sj2 / sjlib behavior on Win32 - badly fitted for no-java too.
win32-sjlib.diff

# libart on win32 hack - needs scp support
win32-libart-build.diff
win32-internal-libart.diff

# Disable odk build
disable-odk-build.diff

# Novell splash - prolly belongs in a NovellWin32Only section but ...
novell-splash.diff

# A number of nasty MSVC6 fixes
win32-sd-vc6.diff

# This is a pretty nasty IE problem #19510
win32-activex-disable.diff

# Misc. fixes for java disabled on win32
win32-nojava.diff

# ODMA support, back-ported from HEAD
win32-odma.diff
win32-odma-build.diff

# Scott Clayton's fixes for recent G/W development #32741
win32-odma-gw-fix.diff

# Novell internal support / file-bug page
novell-filebug.diff

# Try to trace some strange bug in this
win32-stlport-build.diff

# Fix alpha cut/paste problem
win32-transfer-alpha.diff

# Work around stupidity in GW #34264
win32-gw-send-mail.diff

#######################################################

[ TestGtkIntegration ]
# Glib / gtk+ integration
glib-integration.diff
gtk-integration-salinst.diff
gtk-integration-saldata.diff
gtk-integration-saldisp.diff

#######################################################

[ Evo2 ]
# evolution addressbook driver version 2
connectivity-source-drivers-evoab1-5-dataaccess-xcu.diff
connectivity-source-drivers-evoab1-5-evoab1-5-map.diff
connectivity-source-drivers-evoab1-5-evoab-xml.diff
connectivity-source-drivers-evoab1-5-makefile-mk.diff
connectivity-source-drivers-evoab1-5-nconnection-cxx.diff
connectivity-source-drivers-evoab1-5-nconnection-hxx.diff
connectivity-source-drivers-evoab1-5-ndatabasemetadata-cxx.diff
connectivity-source-drivers-evoab1-5-ndatabasemetadata-hxx.diff
connectivity-source-drivers-evoab1-5-ndebug-cxx.diff
connectivity-source-drivers-evoab1-5-ndebug-hxx.diff
connectivity-source-drivers-evoab1-5-ndriver-cxx.diff
connectivity-source-drivers-evoab1-5-ndriver-hxx.diff
connectivity-source-drivers-evoab1-5-npreparedstatement-cxx.diff
connectivity-source-drivers-evoab1-5-npreparedstatement-hxx.diff
connectivity-source-drivers-evoab1-5-nresultset-cxx.diff
connectivity-source-drivers-evoab1-5-nresultset-hxx.diff
connectivity-source-drivers-evoab1-5-nresultsetmetadata-cxx.diff
connectivity-source-drivers-evoab1-5-nresultsetmetadata-hxx.diff
connectivity-source-drivers-evoab1-5-nservices-cxx.diff
connectivity-source-drivers-evoab1-5-nstatement-cxx.diff
connectivity-source-drivers-evoab1-5-nstatement-hxx.diff
connectivity-source-drivers-evoab1-5-ncatalog-cxx.diff
connectivity-source-drivers-evoab1-5-ncatalog-hxx.diff
connectivity-source-drivers-evoab1-5-ntables-cxx.diff
connectivity-source-drivers-evoab1-5-ntables-hxx.diff
evoab2_default.diff
evoab2_prj.diff
evoab2_scp.diff

#######################################################

[ Lotus ]
# TODO: extract the lotus123import01 (sc,filter) cws

# detect SmartSuite97 files
sc-lotus-filter.diff
# read basics from SmartSuite97 files
sc-lotus-code.diff

#######################################################

[ WordPerfect ]
wpd-scp.diff
wpd-win32.diff
wpd-sw-prj.diff
wpd-sw-iodetect.diff
wpd-officecfg-typedetection.diff
libwpd-makefile-mk.diff
libwpd-prj-d-lst.diff
libwpd-prj-build-lst.diff
writerperfect-prj-d-lst.diff
writerperfect-prj-build-lst.diff
writerperfect-source-filter-documentelement-cxx.diff
writerperfect-source-filter-documentelement-hxx.diff
writerperfect-source-filter-filterinternal-hxx.diff
writerperfect-source-filter-fontmap-cxx.diff
writerperfect-source-filter-fontmap-hxx.diff
writerperfect-source-filter-fontstyle-cxx.diff
writerperfect-source-filter-fontstyle-hxx.diff
writerperfect-source-filter-genericfilter-cxx.diff
writerperfect-source-filter-liststyle-cxx.diff
writerperfect-source-filter-liststyle-hxx.diff
writerperfect-source-filter-makefile-mk.diff
writerperfect-source-filter-pagespan-cxx.diff
writerperfect-source-filter-pagespan-hxx.diff
writerperfect-source-filter-sectionstyle-cxx.diff
writerperfect-source-filter-sectionstyle-hxx.diff
writerperfect-source-filter-style-hxx.diff
writerperfect-source-filter-tablestyle-cxx.diff
writerperfect-source-filter-tablestyle-hxx.diff
writerperfect-source-filter-textrunstyle-cxx.diff
writerperfect-source-filter-textrunstyle-hxx.diff
writerperfect-source-filter-wordperfectcollector-cxx.diff
writerperfect-source-filter-wordperfectcollector-hxx.diff
writerperfect-source-filter-wordperfectimportfilter-cxx.diff
writerperfect-source-filter-wordperfectimportfilter-hxx.diff
writerperfect-source-filter-writerproperties-hxx.diff
writerperfect-source-stream-makefile-mk.diff
writerperfect-source-stream-wpxsvstream-cxx.diff
writerperfect-source-stream-wpxsvstream-h.diff
writerperfect-util-makefile-mk.diff
writerperfect-util-wpft-map.diff

########################################################

[ KDEOnly ]
# Some "branding"
kde-splash.diff

########################################################

[ KDEOnly, PLDOnly ]
# Preset Tools->Options->OpenOffice.org->External
# programs->(HTTP|HTTPS|FTP|MAILTO) to "kfmclient exec"
helper-programs-kde.diff

########################################################

[ TestLayout ]
# the beginnings of layout
gui-window-layout.diff
gui-control-layout.diff
# the ends of layout
layout-ids.diff
layout-rsc.diff
layout-vcl-layout.diff
layout-vcl-window.diff
layout-test.diff
