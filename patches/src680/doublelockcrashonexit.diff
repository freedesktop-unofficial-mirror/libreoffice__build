Index: rtl/source/uuid.cxx
===================================================================
RCS file: /cvs/porting/sal/rtl/source/uuid.cxx,v
retrieving revision 1.4
diff -u -p -r1.4 uuid.cxx
--- sal/rtl/source/uuid.cxx	17 Jun 2004 13:28:50 -0000	1.4
+++ sal/rtl/source/uuid.cxx	2 Feb 2005 13:15:48 -0000
@@ -70,6 +70,7 @@
 #include <osl/process.h>
 #include <osl/diagnose.h>
 
+#include <rtl/instance.hxx>
 #include <rtl/random.h>
 #include <rtl/uuid.h>
 #include <rtl/digest.h>
@@ -196,11 +197,17 @@ UuidRandomPoolHolder::~UuidRandomPoolHol
         rtl_random_destroyPool( pool );
 }
 
+namespace
+{
+    struct ImplUuidRandomPoolHolder : 
+		public rtl::Static<UuidRandomPoolHolder, ImplUuidRandomPoolHolder> {};
+}
+
 static sal_uInt16 getInt16RandomValue( sal_uInt64 nSystemTime )
 {
 	sal_uInt16 n;
+	UuidRandomPoolHolder &pool = ImplUuidRandomPoolHolder::get();
 
-    static UuidRandomPoolHolder pool;
     OSL_VERIFY( rtl_Random_E_None == pool.addBytes( &nSystemTime, sizeof( nSystemTime ) ) );
 	OSL_VERIFY( rtl_Random_E_None == pool.getBytes( &n, 2 ) );
 	return n;
