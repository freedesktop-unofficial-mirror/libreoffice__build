--- config_office/configure.in.old	2006-10-10 21:48:52.000000000 +0200
+++ config_office/configure.in	2006-10-11 22:43:50.000000000 +0200
@@ -417,6 +417,17 @@
                           or XML filters. Use --with-java=gij to enable gij/gcj
                           as java/javac replacements
 ], if test "$withval" = "yes"; then WITH_JAVA=java; else WITH_JAVA=$withval; fi, WITH_JAVA=java)
+AC_ARG_WITH(java_target_version,
+[  --with-java-target-version   Generate class files that will work on JVMs with
+			  the specified version. For example, use
+			  --with-java-target-version=1.4 to make sure that the
+			  application will work with JVM 1.4 even when compiled
+			  with JDK 1.5.
+			  
+			  This option is ignored when you compile with gcj/gij.
+ 
+                          Usage: --with-java-target-version=<jvm version>
+],,)
 AC_ARG_ENABLE(gcjaot,
 [  --enable-gcjaot        Build with[[out]] using Ahead of Time java compilation support. 
                           If you have gcj installed then --enable-gcjaot will enable gcj ahead of time
@@ -2308,6 +2319,43 @@
    JAVA_HOME=NO_JAVA_HOME ; export JAVA_HOME
 fi
 
+_java_target_ver=""
+dnl ===================================================================
+dnl Check for target java bytecode version
+dnl ===================================================================
+if test "$SOLAR_JAVA" != ""; then
+    AC_MSG_CHECKING([for target java bytecode version])
+    if test "$JDK" = "gcj" -o "$JDK" = "kaffe"; then
+	AC_MSG_RESULT([default by $JDK])
+	if test -n "$with_java_target_version" -a "$with_java_target_version" != "no" ; then
+	    AC_MSG_WARN([Value defined by --with-java-target-version is ignored!])
+	fi
+    else
+	if test -n "$with_java_target_version" -a "$with_java_target_version" != "no" ; then
+	    _java_target_ver="$with_java_target_version"
+	    AC_MSG_RESULT([$_java_target_ver])
+	elif test $_jdk_ver -gt 10000 ; then
+	    _java_target_ver=`echo "$_jdk_ver" | $AWK '{ maj=substr($0,1,1); min=substr($0,2,2); print int(maj)"."int(min) }'`
+	    AC_MSG_RESULT([$_java_target_ver])
+	else
+    	    AC_MSG_ERROR([Unable to guess java bytecode version from java version!])
+	fi
+    fi
+
+    if ! test -z "$_java_target_ver" -o \
+	    "$_java_target_ver" = "1.1" -o \
+            "$_java_target_ver" = "1.2" -o \
+	    "$_java_target_ver" = "1.3" -o \
+	    "$_java_target_ver" = "1.4" -o \
+	    "$_java_target_ver" = "1.5" -o \
+	    "$_java_target_ver" = "5" ; then
+    	AC_MSG_ERROR([$_java_target_ver is not supported java bytecode version!])
+    fi
+
+    JAVA_SOURCE_VER="$_java_target_ver"
+    JAVA_TARGET_VER="$_java_target_ver"
+fi
+
 dnl ===================================================================
 dnl Checks for javac
 dnl ===================================================================
@@ -2349,6 +2397,17 @@
 fi
 AC_SUBST(JAVACISGCJ)
 
+JAVACISKAFFE=""
+dnl ===================================================================
+dnl Checks that javac is kaffe
+dnl ===================================================================
+if test "$SOLAR_JAVA" != ""; then
+    if test `$JAVACOMPILER -version 2>&1 | grep -c "Kaffe"` -gt 0; then
+        JAVACISKAFFE="yes"
+    fi
+fi
+AC_SUBST(JAVACISKAFFE)
+
 dnl ===================================================================
 dnl Checks for javadoc
 dnl ===================================================================
@@ -2465,6 +2524,8 @@
 
 AC_SUBST(JAVA_HOME)
 AC_SUBST(JDK)
+AC_SUBST(JAVA_SOURCE_VER)
+AC_SUBST(JAVA_TARGET_VER)
 AC_SUBST(JAVAINTERPRETER)
 AC_SUBST(JAVACOMPILER)
 AC_SUBST(JAVAAOTCOMPILER)
--- config_office/set_soenv.in.old	2006-10-11 22:21:28.000000000 +0200
+++ config_office/set_soenv.in	2006-10-11 22:21:34.000000000 +0200
@@ -1694,6 +1694,7 @@
 if ( $JDK ne "gcj" ) {
    ToFile( "CLASSPATH",         $CLASSPATH,         "e" );
    ToFile( "XCLASSPATH",        $XCLASSPATH,        "e" );
+   ToFile( "JAVACISKAFFE",     '@JAVACISKAFFE@',    "e" );
 }
 else {
    ToFile( "JAVACISGCJ",       '@JAVACISGCJ@',      "e" );
@@ -1702,6 +1703,8 @@
 if ( '@JDK@' ne '' )
 { 
    ToFile( "JDK",             "@JDK@",           "e" );
+   ToFile( "JAVA_SOURCE_VER", "@JAVA_SOURCE_VER@","e" );
+   ToFile( "JAVA_TARGET_VER", "@JAVA_TARGET_VER@","e" );
    ToFile( "JAVAINTERPRETER", "@JAVAINTERPRETER@","e" );
    ToFile( "JAVACOMPILER",    "@JAVACOMPILER@",  "e" );
    ToFile( "JAVAAOTCOMPILER", "@JAVAAOTCOMPILER@","e" );
--- solenv/inc/antsettings.mk.old	2006-07-05 22:59:17.000000000 +0200
+++ solenv/inc/antsettings.mk	2006-10-11 15:07:05.000000000 +0200
@@ -53,6 +53,18 @@
 ANT*:=$(ANT_HOME)$/bin$/ant
 ANT_BUILDFILE*=build.xml
 
+.IF "$(ANT_COMPILER_FLAGS)"==""
+.IF "$(JAVACISGCJ)" == "yes"
+ANT_COMPILER_FLAGS=-Dbuild.compiler=gcj
+.ENDIF
+.ENDIF
+
+.IF "$(ANT_JAVA_VER_FLAGS)"==""
+.IF "$(JAVACISGCJ)" != "yes" && $(JAVACISKAFFE) != "yes"
+ANT_JAVA_VER_FLAGS=-Djava.source.ver=$(JAVA_SOURCE_VER) -Djava.target.ver=$(JAVA_TARGET_VER)
+.ENDIF
+.ENDIF
+
 .IF "$(ANT_DEBUG)"==""
 .IF "$(debug)"==""
 ANT_DEBUG=off
@@ -74,24 +86,14 @@
 .EXPORT : JAVA_HOME
 .ENDIF
 
-.IF "$(JAVACISGCJ)" == "yes"
-ANT_FLAGS!:=-Dbuild.compiler=gcj -Dprj=$(PRJ) -Dprjname=$(PRJNAME) -Ddebug=$(ANT_DEBUG) \
- -Doptimize=$(ANT_OPT) -Dtarget=$(TARGET) -Dsolar.update=on -Dout=$(OUT) -Dinpath=$(INPATH) \
- -Dproext="$(PROEXT)" -Dsolar.bin=$(SOLARBINDIR) -Dsolar.jar=$(SOLARBINDIR) \
- -Dsolar.doc=$(SOLARDOCDIR) -Dcommon.jar=$(SOLARCOMMONBINDIR) \
+ANT_FLAGS!:=$(ANT_COMPILER_FLAGS) -Dprj=$(PRJ) -Dprjname=$(PRJNAME) $(ANT_JAVA_VER_FLAGS) \
+ -Ddebug=$(ANT_DEBUG) -Doptimize=$(ANT_OPT) -Dtarget=$(TARGET) -Dsolar.update=on \
+ -Dout=$(OUT) -Dinpath=$(INPATH) -Dproext="$(PROEXT)" -Dsolar.bin=$(SOLARBINDIR) \
+ -Dsolar.jar=$(SOLARBINDIR) -Dsolar.doc=$(SOLARDOCDIR) -Dcommon.jar=$(SOLARCOMMONBINDIR) \
  -Dcommon.doc=$(SOLARCOMMONDOCDIR) -Dsolar.sourceversion=$(SOURCEVERSION) \
  -Dsolar.lastminor=$(LAST_MINOR) -Dsolar.build=$(BUILD) -f $(ANT_BUILDFILE) $(ANT_FLAGS) -emacs
-.ELSE
-ANT_FLAGS!:=-Dprj=$(PRJ) -Dprjname=$(PRJNAME) -Ddebug=$(ANT_DEBUG) -Doptimize=$(ANT_OPT) \
- -Dtarget=$(TARGET) -Dsolar.update=on -Dout=$(OUT) -Dinpath=$(INPATH) -Dproext="$(PROEXT)" \
- -Dsolar.bin=$(SOLARBINDIR) -Dsolar.jar=$(SOLARBINDIR) -Dsolar.doc=$(SOLARDOCDIR) \
- -Dcommon.jar=$(SOLARCOMMONBINDIR) -Dcommon.doc=$(SOLARCOMMONDOCDIR) \
- -Dsolar.sourceversion=$(SOURCEVERSION) -Dsolar.lastminor=$(LAST_MINOR) \
- -Dsolar.build=$(BUILD) -f $(ANT_BUILDFILE) $(ANT_FLAGS) -emacs
-.ENDIF
+
 .ELSE # No java
 ANT=
 ANT_FLAGS=
 .ENDIF
- 
- 
--- solenv/inc/settings.mk.old	2006-10-11 19:08:41.000000000 +0200
+++ solenv/inc/settings.mk	2006-10-11 19:11:35.000000000 +0200
@@ -169,6 +169,9 @@
 .IF "$(JAVACISGCJ)" == "yes"
 JAVAC+=--encoding=UTF-8 -O2 -fno-assert -Wno-deprecated -C
 .ENDIF
+.IF "$(JAVACISGCJ)" != "yes" && $(JAVACISKAFFE) != "yes"
+JAVAC+=-source $(JAVA_SOURCE_VER) -target $(JAVA_TARGET_VER)
+.ENDIF
 
 #classpath and response
 .IF "$(JDK)" == "J++"
--- beanshell/bsh-2.0b1-src.patch.old	2005-12-21 12:36:35.000000000 +0100
+++ beanshell/bsh-2.0b1-src.patch	2006-10-11 15:49:48.000000000 +0200
@@ -1,5 +1,5 @@
-*** misc/BeanShell/build.xml	Fri Dec 19 17:14:27 2003
---- misc/build/BeanShell/build.xml	Mon May 30 15:47:00 2005
+*** misc/BeanShell/build.xml	2003-12-19 17:14:27.000000000 +0100
+--- misc/build/BeanShell/build.xml	2006-10-11 15:46:05.000000000 +0200
 ***************
 *** 17,23 ****
   		up the build dir!  It has to be done manually the first time (or put
@@ -41,6 +41,17 @@
   	<!-- Legacy excludes.  Comment this *out* to build these legacy items -->
   	<property name="legacy-excludes" 
   		value="bsh/JThis.java"/>
+***************
+*** 165,170 ****
+--- 171,178 ----
+  			deprecation="${deprecation}"
+  			optimize="on"
+  			debug="off"
++ 			source="${java.source.ver}"
++ 			target="${java.target.ver}"
+  			includes="**/*.java"
+  			excludes="${excludes},**/bak/**"
+  		>
 *** misc/BeanShell/makefile.mk	Mon May 30 15:55:35 2005
 --- misc/build/BeanShell/makefile.mk	Mon May 30 15:47:00 2005
 ***************
--- hsqldb/makefile.mk.old	2006-07-10 21:01:25.000000000 +0200
+++ hsqldb/makefile.mk	2006-10-11 20:42:14.000000000 +0200
@@ -38,18 +38,12 @@
 PRJNAME=so_hsqldb
 TARGET=so_hsqldb
 
+.IF "$(SOLAR_JAVA)" != ""
 # --- Settings -----------------------------------------------------
 
 .INCLUDE :	settings.mk
-
-# override buildfile
-ANT_BUILDFILE=build$/build.xml
-
-.INCLUDE : antsettings.mk
-
 .INCLUDE :  version.mk
 
-.IF "$(SOLAR_JAVA)" != ""
 # --- Files --------------------------------------------------------
 
 TARFILE_NAME=hsqldb_$(HSQLDB_VERSION)
@@ -57,28 +55,23 @@
 		src/org/hsqldb/resources/sql-error-messages.properties
 PATCH_FILE_NAME=hsqldb_1_8_0
 
+ADDITIONAL_FILES=makefile.mk
+
 # ADDITIONAL_FILES=   src$/org$/hsqldb$/Collation.java \
 #                     src$/org$/hsqldb$/TxManager.java \
 #                     src$/org$/hsqldb$/lib$/LongKeyIntValueHashMap.java \
 #                     src$/org$/hsqldb$/persist$/ScaledRAFileInJar.java \
 #                     src$/org$/hsqldb$/test$/TestCollation.java
 
-.IF "$(JAVACISGCJ)"=="yes"
-JAVA_HOME=
-.EXPORT : JAVA_HOME
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
-.ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
-.ENDIF
-
-.ENDIF # $(SOLAR_JAVA)!= ""
+BUILD_ACTION=dmake $(MFLAGS) $(CALLMACROS)
 
 # --- Targets ------------------------------------------------------
 
 .INCLUDE : set_ext.mk
 .INCLUDE : target.mk
-
-.IF "$(SOLAR_JAVA)" != ""
 .INCLUDE : tg_ext.mk
-.ENDIF
 
+.ELSE
+all:
+        @echo java disabled
+.ENDIF
dummy line to avoid confusing diff-mode
--- hsqldb/hsqldb_1_8_0.old	2006-11-28 12:51:27.000000000 +0100
+++ hsqldb/hsqldb_1_8_0	2006-11-28 12:46:41.000000000 +0100
@@ -1,5 +1,179 @@
-*** misc/hsqldb/src/org/hsqldb/Constraint.java	Tue Apr 11 16:40:53 2006
---- misc/build/hsqldb/src/org/hsqldb/Constraint.java	Mon Aug  7 10:48:26 2006
+diff -crN misc/hsqldb/makefile.mk misc/build/hsqldb/makefile.mk
+*** misc/hsqldb/makefile.mk	2006-11-28 12:45:49.000000000 +0100
+--- misc/build/hsqldb/makefile.mk	2006-11-28 12:31:12.000000000 +0100
+***************
+*** 1 ****
+! dummy
+--- 1,47 ----
+! #*************************************************************************
+! #
+! #   OpenOffice.org - a multi-platform office productivity suite
+! #
+! #   $RCSfile$
+! #
+! #   $Revision$
+! #
+! #   last change: $Author$ $Date$
+! #
+! #   The Contents of this file are made available subject to
+! #   the terms of GNU Lesser General Public License Version 2.1.
+! #
+! #
+! #     GNU Lesser General Public License Version 2.1
+! #     =============================================
+! #     Copyright 2005 by Sun Microsystems, Inc.
+! #     901 San Antonio Road, Palo Alto, CA 94303, USA
+! #
+! #     This library is free software; you can redistribute it and/or
+! #     modify it under the terms of the GNU Lesser General Public
+! #     License version 2.1, as published by the Free Software Foundation.
+! #
+! #     This library is distributed in the hope that it will be useful,
+! #     but WITHOUT ANY WARRANTY; without even the implied warranty of
+! #     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+! #     Lesser General Public License for more details.
+! #
+! #     You should have received a copy of the GNU Lesser General Public
+! #     License along with this library; if not, write to the Free Software
+! #     Foundation, Inc., 59 Temple Place, Suite 330, Boston,
+! #     MA  02111-1307  USA
+! #
+! #*************************************************************************
+! 
+! PRJ=..$/..$/..$/..
+! PRJNAME=so_hsqldb
+! TARGET=so_hsqldb
+! 
+! # buildfile is in a subdirectory
+! ANT_BUILDFILE=build$/build.xml
+! 
+! .INCLUDE : ant.mk
+! 
+! ANT_FLAGS+=-Dbuild.label="build-$(RSCREVISION)" jar
+! 
+! ALLTAR : ANTBUILD
+diff -crN misc/hsqldb/build/build.xml misc/build/hsqldb/build/build.xml
+*** misc/hsqldb/build/build.xml	2006-11-28 12:27:49.000000000 +0100
+--- misc/build/hsqldb/build/build.xml	2006-11-28 12:37:10.000000000 +0100
+***************
+*** 135,141 ****
+  
+      <target name="codeswitcher" depends="-prepare"
+              description="uses +-JDBC2 +-JDBC2 +-JAVA2">
+!       <javac destdir="classes">
+           <src path="${src}"/>
+           <include name="org/hsqldb/util/CodeSwitcher.java"/>
+         </javac>
+--- 135,141 ----
+  
+      <target name="codeswitcher" depends="-prepare"
+              description="uses +-JDBC2 +-JDBC2 +-JAVA2">
+!       <javac destdir="classes" source="${java.source.ver}" target="${java.target.ver}">
+           <src path="${src}"/>
+           <include name="org/hsqldb/util/CodeSwitcher.java"/>
+         </javac>
+***************
+*** 268,273 ****
+--- 268,275 ----
+               destdir="classes"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
++              source="${java.source.ver}"
++ 	     target="${java.target.ver}"
+        >
+           <include name="org/hsqldb/store/**"/>
+        </javac>
+***************
+*** 279,284 ****
+--- 281,288 ----
+               destdir="classes"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
++              source="${java.source.ver}"
++ 	     target="${java.target.ver}"
+        >
+           <include name="org/hsqldb/lib/**"/>
+           <include name="org/hsqldb/lib/java/**"/>
+***************
+*** 291,296 ****
+--- 295,302 ----
+               destdir="classes"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
++              source="${java.source.ver}"
++ 	     target="${java.target.ver}"
+         >
+           <classpath>
+              <pathelement location="lib/servlet.jar"/>
+***************
+*** 326,331 ****
+--- 332,339 ----
+               destdir="classes"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
++              source="${java.source.ver}"
++ 	     target="${java.target.ver}"
+         >
+           <include name="org/hsqldb/jdbc/jdbcBlob.java"/>
+           <include name="org/hsqldb/jdbc/jdbcClob.java"/>
+***************
+*** 338,343 ****
+--- 346,353 ----
+               destdir="classes"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
++              source="${java.source.ver}"
++ 	     target="${java.target.ver}"
+         >
+        <include name="org/hsqldb/jdbc/jdbcDataSource*.java"/>
+        <include name="org/hsqldb/jdbc/jdbcParameterMetaData.java"/>
+***************
+*** 359,364 ****
+--- 369,376 ----
+               destdir="classes"
+               debug="${build.debug}"
+               optimize="${build.optimize}"
++              source="${java.source.ver}"
++ 	     target="${java.target.ver}"
+               classpath="lib/junit.jar"
+         >
+            <include name="org/hsqldb/test/TestJDBCSavepoints.java"/>
+***************
+*** 373,378 ****
+--- 385,392 ----
+               destdir="classes"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
++              source="${java.source.ver}"
++ 	     target="${java.target.ver}"
+        >
+           <include name="org/hsqldb/util/**"/>
+           <exclude name="org/hsqldb/util/*Swing.java"/>
+***************
+*** 389,394 ****
+--- 403,410 ----
+               destdir="classes"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
++              source="${java.source.ver}"
++ 	     target="${java.target.ver}"
+         >
+        <include name="org/hsqldb/util/*Swing.java"/>
+        <include name="org/hsqldb/util/TableSorter.java"/>
+***************
+*** 404,409 ****
+--- 420,427 ----
+               destdir="classes"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
++              source="${java.source.ver}"
++ 	     target="${java.target.ver}"
+           >
+           <classpath>
+              <pathelement location="lib/junit.jar"/>
+diff -crN misc/hsqldb/src/org/hsqldb/Constraint.java misc/build/hsqldb/src/org/hsqldb/Constraint.java
+*** misc/hsqldb/src/org/hsqldb/Constraint.java	2006-04-11 16:40:53.000000000 +0200
+--- misc/build/hsqldb/src/org/hsqldb/Constraint.java	2006-11-28 12:31:12.000000000 +0100
 ***************
 *** 111,123 ****
       int              constType;
--- qadevOOo/build.xml.old	2006-10-10 21:48:45.000000000 +0200
+++ qadevOOo/build.xml	2006-10-11 15:58:25.000000000 +0200
@@ -19,7 +19,9 @@
 
   <!-- target for building the runner -->
   <target name="qadevOOo_runner_build">
-    <javac srcdir="${qadevOOo.runner}" destdir="${qadevOOo.class}" includes="**/*.java" debug="${debug}" encoding="utf-8" fork="true">
+    <javac srcdir="${qadevOOo.runner}" destdir="${qadevOOo.class}"
+		includes="**/*.java" debug="${debug}" encoding="utf-8" fork="true"
+		source="${java.source.ver}" target="${java.target.ver}">
 		<classpath>
 		    <pathelement location="${qadevOOo.class}"/>
 			<fileset dir="${qadevOOo.office_jars}">
@@ -31,7 +33,9 @@
   
   <!-- target for building the tests -->
   <target name="qadevOOo_tests_build" depends="qadevOOo_runner_build">
-    <javac srcdir="${qadevOOo.tests}" destdir="${qadevOOo.class}" includes="**/*.java" debug="${debug}">
+    <javac srcdir="${qadevOOo.tests}" destdir="${qadevOOo.class}"
+		includes="**/*.java" debug="${debug}"
+		source="${java.source.ver}" target="${java.target.ver}">
 		<classpath>
 		    <pathelement location="${qadevOOo.class}"/>
 			<fileset dir="${qadevOOo.office_jars}">
--- rhino/rhino1_5R4.patch.old	2006-08-17 09:09:37.000000000 +0200
+++ rhino/rhino1_5R4.patch	2006-10-11 18:54:27.000000000 +0200
@@ -2731,3 +2731,45 @@
           PermissionCollection pc = Policy.getPolicy().getPermissions(cs);
           return new ProtectionDomain(cs, pc);
       }
+*** misc/rhino1_5R4/src/build.xml	2005-03-22 13:23:46.000000000 +0100
+--- misc/build/rhino1_5R4/src/build.xml	2006-10-11 18:45:53.000000000 +0200
+***************
+*** 15,21 ****
+             destdir="${nest}/${build.dest}"
+             includes="org/**/*.java"
+             deprecation="on"
+!            debug="${debug}">
+      </javac>
+    </target>
+  
+--- 15,23 ----
+             destdir="${nest}/${build.dest}"
+             includes="org/**/*.java"
+             deprecation="on"
+!            debug="${debug}"
+!            source="${java.source.ver}"
+!            target="${java.target.ver}">
+      </javac>
+    </target>
+  
+*** misc/rhino1_5R4/toolsrc/build.xml	2005-03-22 13:23:46.000000000 +0100
+--- misc/build/rhino1_5R4/toolsrc/build.xml	2006-10-11 18:44:33.000000000 +0200
+***************
+*** 65,71 ****
+             destdir="${nest}/${build.dest}"
+             includes="org/**/*.java"
+             deprecation="on"
+!            debug="${debug}">
+      </javac>
+    </target>
+  
+--- 65,73 ----
+             destdir="${nest}/${build.dest}"
+             includes="org/**/*.java"
+             deprecation="on"
+!            debug="${debug}"
+!            source="${java.source.ver}"
+!            target="${java.target.ver}">
+      </javac>
+    </target>
+  
--- scripting/examples/java/build.xml.old	2005-09-09 03:53:51.000000000 +0200
+++ scripting/examples/java/build.xml	2006-10-11 15:30:17.000000000 +0200
@@ -55,7 +55,8 @@
 
     <javac srcdir="HelloWorld" destdir="${outdir}/HelloWorld"
            includes="**/*.java" classpathref="idlclasspath"
-           debug="${debug}" optimize="${optimize}" deprecation="on"/>
+           debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy file="HelloWorld/HelloWorld.java" todir="${outdir}/HelloWorld"/>
     <copy file="HelloWorld/parcel-descriptor.xml" todir="${outdir}/HelloWorld"/>
@@ -77,7 +78,8 @@
 
     <javac srcdir="Highlight" destdir="${outdir}/Highlight"
            includes="**/*.java" classpathref="idlclasspath"
-           debug="${debug}" optimize="${optimize}" deprecation="on"/>
+           debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy file="Highlight/HighlightText.java" todir="${outdir}/Highlight"/>
     <copy file="Highlight/parcel-descriptor.xml" todir="${outdir}/Highlight"/>
@@ -99,7 +101,8 @@
 
     <javac srcdir="MemoryUsage" destdir="${outdir}/MemoryUsage"
            includes="**/*.java" classpathref="idlclasspath"
-           debug="${debug}" optimize="${optimize}" deprecation="on"/>
+           debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy file="MemoryUsage/MemoryUsage.java" todir="${outdir}/MemoryUsage"/>
     <copy file="MemoryUsage/parcel-descriptor.xml" todir="${outdir}/MemoryUsage"/>
@@ -121,7 +124,8 @@
 
     <javac srcdir="selector" destdir="${outdir}/selector"
        	   includes="**/*.java" classpathref="idlclasspath"
-	       debug="${debug}" optimize="${optimize}" deprecation="on"/>
+       	   debug="${debug}" optimize="${optimize}" deprecation="on"
+       	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy todir="${outdir}/selector">
         <fileset dir="selector">
--- scripting/java/build.xml.old	2006-04-19 17:06:54.000000000 +0200
+++ scripting/java/build.xml	2006-10-11 15:32:20.000000000 +0200
@@ -89,16 +89,19 @@
   <target name="compile" depends="prepare">
     <javac srcdir="com" destdir="${jardir}"
          includes="**/*.java" classpathref="idlclasspath"
-         debug="${debug}" optimize="${optimize}" deprecation="off"/>
+         debug="${debug}" optimize="${optimize}" deprecation="off"
+	 source="${java.source.ver}" target="${java.target.ver}"/>
     <javac srcdir="Framework/" destdir="${jardir}"
          includes="**/*.java" classpathref="idlclasspath" debug="${debug}" 
-         optimize="${optimize}" deprecation="off">
+         optimize="${optimize}" deprecation="off"
+	 source="${java.source.ver}" target="${java.target.ver}">
     </javac>
   </target>
 
   <target name="idesupport.compile" depends="compile, prepare">
     <javac srcdir="." destdir="${jardir}"
-           debug="${debug}" deprecation="on">
+           debug="${debug}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}">
       <classpath refid="idesupport.class.path"/>
       <exclude name="${idesupport.dir}/**/.*/*"/>
       <exclude name="${idesupport.dir}/localoffice/**/*"/>
@@ -110,7 +113,8 @@
 
   <target name="localoffice.compile" depends="prepare">
     <javac srcdir="." destdir="${jardir}"
-           debug="${debug}" deprecation="on">
+           debug="${debug}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}">
       <classpath refid="idlclasspath"/>
       <exclude name="${idesupport.dir}/localoffice/.*/*"/>
       <include name="${idesupport.dir}/localoffice/*.java"/>
@@ -119,7 +123,8 @@
 
   <target name="netbeans.compile" depends="idesupport.compile, prepare">
     <javac srcdir="." destdir="${jardir}"
-           debug="${debug}" deprecation="on">
+           debug="${debug}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}">
       <classpath refid="openide.class.path"/>
       <exclude name="${netbeans.dir}/**/.*/*"/>
       <include name="${netbeans.dir}/**/*.java"/>
@@ -128,7 +133,8 @@
 
   <target name="netbeans.editor.support" depends="prepare">
     <javac srcdir="." destdir="${jardir}"
-           debug="${debug}" deprecation="on">
+           debug="${debug}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}">
       <classpath refid="netbeans.editor.support.classpath"/>
       <include name="org/openoffice/netbeans/editor/*.java"/>
     </javac>
--- scripting/workben/build.xml.old	2005-09-09 04:41:02.000000000 +0200
+++ scripting/workben/build.xml	2006-10-11 15:18:44.000000000 +0200
@@ -117,7 +117,8 @@
            destdir="${out}/class/examples/java/debugger"
        	   includes="*.java"
            classpathref="debuggerclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy todir="${out}/class/examples/java/debugger">
         <fileset dir="${prj}/examples/java/debugger">
@@ -141,7 +142,8 @@
     <mkdir dir="${out}/class/examples/java/Highlight"/>
     <javac srcdir="${prj}/examples/java/" destdir="${out}/class/examples/java/Highlight/"
        	   includes="**/Highlight*.java" classpathref="idlclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
     <copy todir="${out}/class/examples/java/Highlight/">
         <fileset dir="${prj}/examples/java/">
             <include name="**/Highlight*.java"/>
@@ -160,7 +162,8 @@
     <mkdir dir="${out}/class/examples/java/MemoryUsage"/>
     <javac srcdir="${prj}/examples/java/" destdir="${out}/class/examples/java/MemoryUsage/"
        	   includes="**/MemoryUsage.java" classpathref="idlclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
     <copy file="${prj}/examples/java/MemoryUsage.java" todir="${out}/class/examples/java/MemoryUsage/"/>
     <copy file="${prj}/examples/java/MemoryUsageParcel.xml" tofile="${out}/class/examples/java/MemoryUsage/parcel-descriptor.xml"/>
     <copy file="${prj}/examples/java/MemoryUsage.java" todir="${out}/class/examples/java/MemoryUsage/"/>
@@ -169,7 +172,8 @@
     <mkdir dir="${out}/class/examples/java/ScriptFrmwrkHelper"/>
     <javac srcdir="${prj}/examples/java/" destdir="${out}/class/examples/java/ScriptFrmwrkHelper/"
        	   includes="**/ScriptFrmwrkHelper.java" classpathref="scriptexampleclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
     <copy todir="${out}/class/examples/java/ScriptFrmwrkHelper/">
         <fileset dir="${prj}/examples/java/">
             <include name="**/ScriptFrmwrkHelper.java"/>
@@ -319,7 +323,8 @@
     <javac srcdir="${prj}/examples/java/debugger"
            destdir="${out}/class/jsruntimetmp"
        	   includes="rhino/Main.java" classpathref="debuggerclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <zip destfile="${out}/class/jsruntime/skip_registration/js.jar"
         basedir="${out}/class/jsruntimetmp" includes="**"/>
@@ -377,7 +382,8 @@
     <mkdir dir="${installerclasses}"/>
     <javac srcdir="installer/" destdir="${installerclasses}"
        	   includes="**/*.java" classpathref="idlclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
     <copy file="installer/sidebar.jpg" todir="${out}/class/sframeworkinstall/installer"/>
   </target>
 
--- xmerge/java/org/openoffice/xmerge/build.xml.old	2005-09-09 12:22:56.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/build.xml	2006-10-11 16:08:54.000000000 +0200
@@ -113,7 +113,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/Convert.java"/>
             <include name="${package}/ConverterCapabilities.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/dom/build.xml.old	2005-09-09 12:24:04.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/dom/build.xml	2006-10-11 17:04:03.000000000 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DOMDocument.java"/>
         </javac>
--- xmerge/java/org/openoffice/xmerge/converter/palm/build.xml.old	2005-09-09 12:26:39.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/palm/build.xml	2006-10-11 16:47:21.000000000 +0200
@@ -111,7 +111,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/PalmDB.java"/>
             <include name="${package}/PdbDecoder.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/build.xml.old	2005-09-09 12:45:07.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/build.xml	2006-10-11 16:47:58.000000000 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
                         <include name="${package}/EmbeddedObject.java"/>
                         <include name="${package}/EmbeddedBinaryObject.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/build.xml.old	2005-09-09 12:49:55.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/build.xml	2006-10-11 16:50:37.000000000 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/CellStyle.java"/>
             <include name="${package}/ColumnStyle.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/minicalc/build.xml.old	2005-09-09 12:52:54.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/minicalc/build.xml	2006-10-11 16:52:07.000000000 +0200
@@ -115,7 +115,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/MinicalcConstants.java"/>
             <include name="${package}/MinicalcDecoder.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/build.xml.old	2005-09-09 12:55:41.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/build.xml	2006-10-11 16:51:12.000000000 +0200
@@ -113,7 +113,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/PocketExcelConstants.java"/>
             <include name="${package}/PocketExcelDecoder.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/records/build.xml.old	2005-09-09 13:04:31.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/records/build.xml	2006-10-11 16:51:28.000000000 +0200
@@ -113,7 +113,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
 			<include name="${package}/BIFFRecord.java"/>
 			<include name="${package}/CellValue.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/records/formula/build.xml.old	2005-09-09 13:09:59.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/records/formula/build.xml	2006-10-11 16:51:45.000000000 +0200
@@ -113,7 +113,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
 			<include name="${package}/FormulaCompiler.java"/>
 			<include name="${package}/FormulaHelper.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxw/aportisdoc/build.xml.old	2005-09-09 13:14:23.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxw/aportisdoc/build.xml	2006-10-11 16:50:03.000000000 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DocConstants.java"/>
             <include name="${package}/DocDecoder.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxw/build.xml.old	2005-09-09 13:11:24.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxw/build.xml	2006-10-11 16:48:59.000000000 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
 			<include name="${package}/SxwDocument.java"/>
 			<include name="${package}/SxwPluginFactory.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxw/pocketword/build.xml.old	2005-09-09 13:18:18.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxw/pocketword/build.xml	2006-10-11 16:49:16.000000000 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
 			<include name="${package}/DocumentDescriptor.java"/>
                         <include name="${package}/DocumentDeserializerImpl.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxw/wordsmith/build.xml.old	2005-09-09 13:23:06.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxw/wordsmith/build.xml	2006-10-11 16:49:34.000000000 +0200
@@ -113,7 +113,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DOCConstants.java"/>
             <include name="${package}/textRecord.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/xslt/build.xml.old	2005-09-09 13:26:09.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/xslt/build.xml	2006-10-11 16:48:23.000000000 +0200
@@ -115,7 +115,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DocumentDeserializerImpl.java"/>
             <include name="${package}/DocumentSerializerImpl.java"/>
--- xmerge/java/org/openoffice/xmerge/merger/build.xml.old	2005-09-09 13:30:36.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/merger/build.xml	2006-10-11 16:44:04.000000000 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DiffAlgorithm.java"/>
             <include name="${package}/Difference.java"/>
--- xmerge/java/org/openoffice/xmerge/merger/diff/build.xml.old	2005-09-09 13:34:42.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/merger/diff/build.xml	2006-10-11 16:46:49.000000000 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/CharacterParser.java"/>
             <include name="${package}/CharArrayLCSAlgorithm.java"/>
--- xmerge/java/org/openoffice/xmerge/merger/merge/build.xml.old	2005-09-09 13:37:05.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/merger/merge/build.xml	2006-10-11 16:46:28.000000000 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/CharacterBaseParagraphMerge.java"/>
             <include name="${package}/PositionBaseRowMerge.java"/>
--- xmerge/java/org/openoffice/xmerge/test/build.xml.old	2005-09-09 13:38:44.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/test/build.xml	2006-10-11 17:07:59.000000000 +0200
@@ -113,7 +113,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/ConverterInfoList.java"/>
             <include name="${package}/Driver.java"/>
--- xmerge/java/org/openoffice/xmerge/util/build.xml.old	2005-09-09 13:42:14.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/util/build.xml	2006-10-11 17:07:04.000000000 +0200
@@ -113,7 +113,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/IntArrayList.java"/>
             <include name="${package}/Resources.java"/>
--- xmerge/java/org/openoffice/xmerge/util/registry/build.xml.old	2005-09-09 13:44:35.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/util/registry/build.xml	2006-10-11 17:07:18.000000000 +0200
@@ -113,7 +113,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/ConverterInfo.java"/>
             <include name="${package}/ConverterInfoMgr.java"/>
--- xmerge/source/aportisdoc/build.xml.old	2006-08-01 14:39:04.000000000 +0200
+++ xmerge/source/aportisdoc/build.xml	2006-10-11 16:07:08.000000000 +0200
@@ -55,7 +55,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/bridge/build.xml.old	2006-08-01 14:41:36.000000000 +0200
+++ xmerge/source/bridge/build.xml	2006-10-11 16:05:56.000000000 +0200
@@ -62,7 +62,9 @@
                destdir="${target.dir}"
 			   debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/minicalc/build.xml.old	2006-08-01 14:43:30.000000000 +0200
+++ xmerge/source/minicalc/build.xml	2006-10-11 16:05:30.000000000 +0200
@@ -55,7 +55,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/pexcel/build.xml.old	2006-08-01 14:56:54.000000000 +0200
+++ xmerge/source/pexcel/build.xml	2006-10-11 16:05:04.000000000 +0200
@@ -55,7 +55,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/pocketword/build.xml.old	2006-08-01 15:09:21.000000000 +0200
+++ xmerge/source/pocketword/build.xml	2006-10-11 16:02:43.000000000 +0200
@@ -55,7 +55,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/wordsmith/build.xml.old	2006-08-01 15:12:23.000000000 +0200
+++ xmerge/source/wordsmith/build.xml	2006-10-11 16:06:21.000000000 +0200
@@ -55,7 +55,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/writer2latex/build.xml.old	2006-07-13 11:16:05.000000000 +0200
+++ xmerge/source/writer2latex/build.xml	2006-10-11 16:06:43.000000000 +0200
@@ -85,7 +85,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/xmerge/build.xml.old	2006-08-01 15:16:55.000000000 +0200
+++ xmerge/source/xmerge/build.xml	2006-10-11 16:03:09.000000000 +0200
@@ -64,7 +64,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/xmerge/java/org/openoffice/xmerge/util/registry/build.xml.old	2006-08-01 15:43:18.000000000 +0200
+++ xmerge/source/xmerge/java/org/openoffice/xmerge/util/registry/build.xml	2006-10-11 16:03:48.000000000 +0200
@@ -118,7 +118,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/ConverterInfo.java"/>
             <include name="${package}/ConverterInfoMgr.java"/>
--- xmerge/workben/build.xml.old	2006-04-19 17:11:40.000000000 +0200
+++ xmerge/workben/build.xml	2006-10-11 16:01:22.000000000 +0200
@@ -116,7 +116,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="XmlDiff.java"/>
         </javac>
--- xt/xt-20051206.patch.old	2006-11-22 16:33:12.000000000 +0100
+++ xt/xt-20051206.patch	2007-06-12 12:08:42.000000000 +0200
@@ -207,3 +207,15 @@
           
           RootNodeImpl(String systemId, int documentIndex, NamespacePrefixMap nsMap) {
               super(nsMap);
+diff -rc misc/xt-20051206/build.xml misc/build/xt-20051206/build.xml
+*** misc/xt-20051206/build.xml.old	2007-06-12 11:49:24.000000000 +0200
+--- misc/build/xt-20051206/build.xml	2007-06-12 12:04:51.000000000 +0200
+@@ -301,6 +301,8 @@
+ 
+     <!-- compile java code -->
+     <javac debug="on"
++           source="${java.source.ver}"
++           target="${java.target.ver}"
+            srcdir="${xtJsrc}"
+            destdir="${stage}/xt" >
+       
