? a
Index: NativeLibraryLoader.java
===================================================================
RCS file: /cvs/udk/jurt/com/sun/star/lib/util/NativeLibraryLoader.java,v
retrieving revision 1.9
diff -u -u -r1.9 NativeLibraryLoader.java
--- jurt/com/sun/star/lib/util/NativeLibraryLoader.java	7 Sep 2005 19:05:02 -0000	1.9
+++ jurt/com/sun/star/lib/util/NativeLibraryLoader.java	5 Dec 2005 01:13:26 -0000
@@ -69,6 +69,13 @@
         if (path == null) {
             // If the library cannot be found as a class loader resource, try
             // the global System.loadLibrary as a last resort:
+	    // Yes, this *is* a crude hack...
+	    if(!libname.substring(0,2).equals("lib")) {
+		libname = "lib" + libname;
+	    }
+	    if(!libname.endsWith(".so")) {
+		libname = libname + ".so";
+	    }
             System.loadLibrary(libname);
         } else {
             System.load(path.getAbsolutePath());
