--- config_office/configure.in.old	2007-03-12 17:57:08.000000000 +0100
+++ config_office/configure.in	2007-03-12 19:57:39.000000000 +0100
@@ -584,6 +584,12 @@
 
                           Usage: --with-about-bitmaps=/path/my_ooo_about.bmp
 ],,)
+AC_ARG_WITH(unix-wrapper,
+[  --with-unix-wrapper    Redefines the name of the UNIX wrapper that will be used
+                          in the desktop files and in the desktop-integration RPMs.
+
+                          Usage: --with-unix-wrapper=ooffice
+],,)
 AC_ARG_WITH(vendor,
 [  --with-vendor           Set vendor of the build.
 
@@ -5439,6 +5445,16 @@
 AC_SUBST(ABOUT_BITMAPS)
 AC_SUBST(ABOUT_BITMAP_NAMES)
 
+UNIXFILENAME=
+AC_MSG_CHECKING([for UNIX wrapper name])
+if test -z "$with_unix_wrapper" -o "$with_unix_wrapper" = "no"  -o "$with_unix_wrapper" = "yes" ; then
+   AC_MSG_RESULT([not set])
+else
+   UNIXFILENAME="$with_unix_wrapper"
+   AC_MSG_RESULT([$UNIXFILENAME])
+fi
+AC_SUBST(UNIXFILENAME)
+
 OOO_VENDOR=
 AC_MSG_CHECKING([for vendor])
 if test -z "$with_vendor" -o "$with_vendor" = "no" ; then
--- config_office/set_soenv.in.old	2007-03-12 17:57:08.000000000 +0100
+++ config_office/set_soenv.in	2007-03-13 17:16:02.000000000 +0100
@@ -1503,6 +1503,7 @@
 ToFile( "INTRO_BITMAP_NAMES","@INTRO_BITMAP_NAMES@","e" );
 ToFile( "ABOUT_BITMAPS",     "@ABOUT_BITMAPS@",  "e" );
 ToFile( "ABOUT_BITMAP_NAMES","@ABOUT_BITMAP_NAMES@","e" );
+ToFile( "UNIXFILENAME",      "@UNIXFILENAME@",   "e" );
 ToFile( "OOO_VENDOR",        "@OOO_VENDOR@",     "e" );
 
 ToFile( "CALL_CDECL",        $CALL_CDECL,        "e" );
--- sysui/desktop/productversion.mk.old	2006-11-17 10:25:46.000000000 +0100
+++ sysui/desktop/productversion.mk	2007-03-12 19:25:04.000000000 +0100
@@ -36,7 +36,7 @@
 PRODUCTNAME     = OpenOffice.org
 PRODUCTVERSION  = 2.3
 LONGPRODUCTNAME = OpenOffice.org 2.3
-UNIXFILENAME    = openoffice.org2.3
+UNIXFILENAME    *= openoffice.org2.3
 PKGVERSION      = 2.3
 .IF "$(OS)"=="LINUX"
 PKGREV          = $(BUILD)
