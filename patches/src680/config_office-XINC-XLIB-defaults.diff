--- config_office/configure.in.orig	2007-07-20 00:26:36.000000000 +0200
+++ config_office/configure.in	2007-07-20 01:34:54.000000000 +0200
@@ -4143,17 +4143,9 @@
 if test -z "$x_libraries"; then
    x_libraries="no_x_libraries"
 fi
-if test "$x_includes" = "default_x_includes"; then
-   XINC="/usr/include"
-else
-   XINC="$x_includes"
-fi
+XINC="$x_includes"
+XLIB="$x_libraries"
 AC_SUBST(XINC)
-if test "$x_libraries" = "default_x_libraries"; then
-   XLIB="/usr/lib"
-else
-   XLIB="$x_libraries"
-fi
 AC_SUBST(XLIB)
 AC_SUBST(DISABLE_XAW)
 AC_SUBST(XAU_LIBS)
@@ -5477,7 +5469,8 @@
    XINERAMA_LINK=dynamic
    AC_MSG_RESULT([yes])
 elif test "$_os" = "Linux" -o "$_os" = "FreeBSD"; then
-   if test -e "$XLIB/libXinerama.so" -a -e "$XLIB/libXinerama.a"; then
+  for path in "$XLIB" /usr/lib; do
+   if test -e "$path/libXinerama.so" -a -e "$path/libXinerama.a"; then
       # we have both versions, let the user decide but use the static one
       # per default
       USE_XINERAMA=YES
@@ -5486,11 +5479,11 @@
       else
          XINERAMA_LINK=static
       fi
-   elif test -e "$XLIB/libXinerama.so" -a ! -e "$XLIB/libXinerama.a"; then
+   elif test -e "$path/libXinerama.so" -a ! -e "$path/libXinerama.a"; then
       # we have only the dynamic version
       USE_XINERAMA=YES
       XINERAMA_LINK=dynamic
-   elif test -e "$XLIB/libXinerama.a"; then
+   elif test -e "$path/libXinerama.a"; then
       # static version
       if echo $build_cpu | grep -E 'i[[3456]]86' 2>/dev/null >/dev/null; then
          USE_XINERAMA=YES
@@ -5505,6 +5498,10 @@
       XINERAMA_LINK=none
    fi
    if test "$USE_XINERAMA" = "YES"; then
+      break
+   fi
+  done
+   if test "$USE_XINERAMA" = "YES"; then
       AC_MSG_RESULT([yes, with $XINERAMA_LINK linking])
       AC_CHECK_HEADER(X11/extensions/Xinerama.h, [],
           [AC_MSG_ERROR(Xinerama header not found.)], [])
