--- libwpd/makefile.mk	23 Jan 2007 12:10:32 -0000	1.14
+++ libwpd/makefile.mk	15 Jun 2007 11:04:20 -0000
@@ -49,7 +49,7 @@
 	@echo "Using system libwpd..."
 .ENDIF
 
-TARFILE_NAME=libwpd-0.8.8
+TARFILE_NAME=libwpd-0.8.13
 PATCH_FILE_NAME=$(TARFILE_NAME).diff
 BUILD_ACTION=dmake $(MFLAGS) $(CALLMACROS)
 BUILD_DIR=src$/lib
--- /dev/null	2007-12-17 14:57:10.000000000 +0100
+++ libwpd/libwpd-0.8.13.diff	2008-01-10 21:21:51.000000000 +0100
@@ -0,0 +1,155 @@
+*** misc/libwpd-0.8.13/src/lib/WP1ContentListener.cpp	Sun Sep 23 12:12:27 2007
+--- misc/build/libwpd-0.8.13/src/lib/WP1ContentListener.cpp	Thu Jan 10 21:21:38 2008
+***************
+*** 219,231 ****
+  	}
+  }
+  
+! void WP1ContentListener::fontId(const uint16_t fontId)
+  {
+  	if (!isUndoOn())
+  	{
+  		_closeSpan();
+  		
+! 		switch (fontId)
+  		{
+  		case 0x0002:
+  		case 0xFF02:
+--- 219,231 ----
+  	}
+  }
+  
+! void WP1ContentListener::fontId(const uint16_t id)
+  {
+  	if (!isUndoOn())
+  	{
+  		_closeSpan();
+  		
+! 		switch (id)
+  		{
+  		case 0x0002:
+  		case 0xFF02:
+*** misc/libwpd-0.8.13/src/lib/WP1ContentListener.h	Mon Sep 17 13:16:26 2007
+--- misc/build/libwpd-0.8.13/src/lib/WP1ContentListener.h	Thu Jan 10 21:21:38 2008
+***************
+*** 60,66 ****
+  	void insertNote(const WPXNoteType noteType, WP1SubDocument *subDocument);
+  	void attributeChange(const bool isOn, const uint8_t attribute);
+  	void fontPointSize(const uint8_t pointSize);
+! 	void fontId(const uint16_t fontId);
+  	void marginReset(const uint16_t leftMargin, const uint16_t rightMargin);
+  	void topMarginSet(const uint16_t /* topMargin */) {}
+  	void bottomMarginSet(const uint16_t /* bottomMargin */) {}
+--- 60,66 ----
+  	void insertNote(const WPXNoteType noteType, WP1SubDocument *subDocument);
+  	void attributeChange(const bool isOn, const uint8_t attribute);
+  	void fontPointSize(const uint8_t pointSize);
+! 	void fontId(const uint16_t id);
+  	void marginReset(const uint16_t leftMargin, const uint16_t rightMargin);
+  	void topMarginSet(const uint16_t /* topMargin */) {}
+  	void bottomMarginSet(const uint16_t /* bottomMargin */) {}
+*** misc/libwpd-0.8.13/src/lib/WP1Listener.h	Mon Sep 17 13:16:26 2007
+--- misc/build/libwpd-0.8.13/src/lib/WP1Listener.h	Thu Jan 10 21:21:38 2008
+***************
+*** 47,53 ****
+  	virtual void insertNote(const WPXNoteType noteType, WP1SubDocument *subDocument) = 0;
+  	virtual void attributeChange(const bool isOn, const uint8_t attribute) = 0;
+  	virtual void fontPointSize(const uint8_t pointSize) = 0;
+! 	virtual void fontId(const uint16_t fontId) = 0;
+  	virtual void marginReset(const uint16_t leftMargin, const uint16_t rightMargin) = 0;
+  	virtual void topMarginSet(const uint16_t topMargin) = 0;
+  	virtual void bottomMarginSet(const uint16_t bottomMargin) = 0;
+--- 47,53 ----
+  	virtual void insertNote(const WPXNoteType noteType, WP1SubDocument *subDocument) = 0;
+  	virtual void attributeChange(const bool isOn, const uint8_t attribute) = 0;
+  	virtual void fontPointSize(const uint8_t pointSize) = 0;
+! 	virtual void fontId(const uint16_t id) = 0;
+  	virtual void marginReset(const uint16_t leftMargin, const uint16_t rightMargin) = 0;
+  	virtual void topMarginSet(const uint16_t topMargin) = 0;
+  	virtual void bottomMarginSet(const uint16_t bottomMargin) = 0;
+*** misc/libwpd-0.8.13/src/lib/WP1StylesListener.h	Mon Sep 17 13:16:26 2007
+--- misc/build/libwpd-0.8.13/src/lib/WP1StylesListener.h	Thu Jan 10 21:21:38 2008
+***************
+*** 49,55 ****
+  	void insertNote(const WPXNoteType /* noteType */, WP1SubDocument * /* subDocument */) {}
+  	void attributeChange(const bool /* isOn */, const uint8_t /* attribute */) {}
+  	void fontPointSize(const uint8_t /* pointSize */) {}
+! 	void fontId(const uint16_t /* fontId */) {}
+  	void marginReset(const uint16_t leftMargin, const uint16_t rightMargin);
+  	void topMarginSet(const uint16_t topMargin);
+  	void bottomMarginSet(const uint16_t bottomMargin);
+--- 49,55 ----
+  	void insertNote(const WPXNoteType /* noteType */, WP1SubDocument * /* subDocument */) {}
+  	void attributeChange(const bool /* isOn */, const uint8_t /* attribute */) {}
+  	void fontPointSize(const uint8_t /* pointSize */) {}
+! 	void fontId(const uint16_t /* id */) {}
+  	void marginReset(const uint16_t leftMargin, const uint16_t rightMargin);
+  	void topMarginSet(const uint16_t topMargin);
+  	void bottomMarginSet(const uint16_t bottomMargin);
+*** misc/libwpd-0.8.13/src/lib/WP5StylesListener.h	Fri Oct 12 19:16:09 2007
+--- misc/build/libwpd-0.8.13/src/lib/WP5StylesListener.h	Thu Jan 10 21:21:38 2008
+***************
+*** 46,52 ****
+  	void setTabs(const std::vector<WPXTabStop>& /* tabStops */, const uint16_t /* tabOffset */) {} 
+  	void insertCharacter(const uint16_t /* character */) { /*if (!isUndoOn())*/ m_currentPageHasContent = true; }
+  	void insertTab(const uint8_t /* tabType */, const float /* tabPosition */) { /*if (!isUndoOn())*/ m_currentPageHasContent = true; }
+! 	virtual void insertIndent(const uint8_t indentType, const float indentPosition) { /*if (!isUndoOn())*/ m_currentPageHasContent = true; }
+  	void characterColorChange(const uint8_t /* red */, const uint8_t /* green */, const uint8_t /* blue */) {};
+  	void insertEOL() { /*if (!isUndoOn())*/ m_currentPageHasContent = true; }
+   	void insertBreak(const uint8_t breakType);
+--- 46,52 ----
+  	void setTabs(const std::vector<WPXTabStop>& /* tabStops */, const uint16_t /* tabOffset */) {} 
+  	void insertCharacter(const uint16_t /* character */) { /*if (!isUndoOn())*/ m_currentPageHasContent = true; }
+  	void insertTab(const uint8_t /* tabType */, const float /* tabPosition */) { /*if (!isUndoOn())*/ m_currentPageHasContent = true; }
+! 	virtual void insertIndent(const uint8_t /* indentType */, const float /* indentPosition */) { /*if (!isUndoOn())*/ m_currentPageHasContent = true; }
+  	void characterColorChange(const uint8_t /* red */, const uint8_t /* green */, const uint8_t /* blue */) {};
+  	void insertEOL() { /*if (!isUndoOn())*/ m_currentPageHasContent = true; }
+   	void insertBreak(const uint8_t breakType);
+*** misc/libwpd-0.8.13/src/lib/WP6ContentListener.cpp	Sat Dec  8 13:12:37 2007
+--- misc/build/libwpd-0.8.13/src/lib/WP6ContentListener.cpp	Thu Jan 10 21:21:38 2008
+***************
+*** 169,175 ****
+  				 const uint8_t month, const uint8_t day, 
+  				 const uint8_t hour, const uint8_t minute, 
+  				 const uint8_t second, const uint8_t dayOfWeek, 
+! 				 const uint8_t timeZone, const uint8_t unused)
+  {
+          #define DATEBUFLEN 100  // length of buffer allocated for strftime()
+          #define WPMONDAYOFFSET  1       // WP week starts Monday, tm_wday on Sunday
+--- 169,175 ----
+  				 const uint8_t month, const uint8_t day, 
+  				 const uint8_t hour, const uint8_t minute, 
+  				 const uint8_t second, const uint8_t dayOfWeek, 
+! 				 const uint8_t /* timeZone */, const uint8_t /* unused */)
+  {
+          #define DATEBUFLEN 100  // length of buffer allocated for strftime()
+          #define WPMONDAYOFFSET  1       // WP week starts Monday, tm_wday on Sunday
+*** misc/libwpd-0.8.13/src/lib/WP6StylesListener.h	Thu May 17 15:06:21 2007
+--- misc/build/libwpd-0.8.13/src/lib/WP6StylesListener.h	Thu Jan 10 21:21:38 2008
+***************
+*** 44,55 ****
+  public:
+  	WP6StylesListener(std::list<WPXPageSpan> &pageList, WPXTableList tableList);
+  
+! 	void setDate(const uint16_t type, const uint16_t year, 
+!                      const uint8_t month, const uint8_t day, 
+!                      const uint8_t hour, const uint8_t minute, 
+!                      const uint8_t second, const uint8_t dayOfWeek, 
+!                      const uint8_t timeZone, const uint8_t unused) {}
+! 	void setExtendedInformation(const uint16_t type, const WPXString &data) {}
+  	void startDocument() {}
+  	void setAlignmentCharacter(const uint16_t /* character */) {}
+  	void setLeaderCharacter(const uint16_t /* character */, const uint8_t /* numberOfSpaces */) {}
+--- 44,55 ----
+  public:
+  	WP6StylesListener(std::list<WPXPageSpan> &pageList, WPXTableList tableList);
+  
+! 	void setDate(const uint16_t /* type */, const uint16_t /* year */, 
+!                      const uint8_t /* month */, const uint8_t /* day */, 
+!                      const uint8_t /* hour */, const uint8_t /* minute */, 
+!                      const uint8_t /* second */, const uint8_t /* dayOfWeek */, 
+!                      const uint8_t /* timeZone */, const uint8_t /* unused */) {}
+! 	void setExtendedInformation(const uint16_t /* type */, const WPXString & /* data */) {}
+  	void startDocument() {}
+  	void setAlignmentCharacter(const uint16_t /* character */) {}
+  	void setLeaderCharacter(const uint16_t /* character */, const uint8_t /* numberOfSpaces */) {}
