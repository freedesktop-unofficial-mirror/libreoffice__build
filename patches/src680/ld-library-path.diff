--- configmgr/source/cmdtools/configimport.sh	2005-10-10 17:00:52.000000000 +0200
+++ configmgr/source/cmdtools/configimport.sh	2005-10-10 17:03:39.000000000 +0200
@@ -91,27 +91,57 @@ fi
 sd_platform=`uname -s`
 case $sd_platform in
   AIX)
-    LIBPATH="$sd_prog":$LIBPATH
+    if [ $LIBPATH ]; then
+      SYSTEM_LIBPATH=$LIBPATH
+      export SYSTEM_LIBPATH
+      LIBPATH="$sd_prog":$LIBPATH
+    else
+      LIBPATH="$sd_prog"
+    fi
     export LIBPATH
     ;;
 
   Darwin)
-    DYLD_LIBRARY_PATH="$sd_prog":$DYLD_LIBRARY_PATH
+    if [ $DYLD_LIBRARY_PATH ]; then 
+      SYSTEM_DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH
+      export SYSTEM_DYLD_LIBRARY_PATH
+      DYLD_LIBRARY_PATH="$sd_prog":$DYLD_LIBRARY_PATH
+    else
+      DYLD_LIBRARY_PATH="$sd_prog"
+    fi
     export DYLD_LIBRARY_PATH
     ;;
 
   HP-UX)
-    SHLIB_PATH="$sd_prog":/usr/openwin/lib:$SHLIB_PATH
+    if [ $SHLIB_PATH ]; then
+      SYSTEM_SHLIB_PATH=$SHLIB_PATH
+      export SYSTEM_SHLIB_PATH
+      SHLIB_PATH="$sd_prog":/usr/openwin/lib:$SHLIB_PATH
+    else
+      SHLIB_PATH="$sd_prog":/usr/openwin/lib
+    fi
     export SHLIB_PATH
     ;;
 
   IRIX*)
-    LD_LIBRARYN32_PATH=:"$sd_prog":$LD_LIBRARYN32_PATH
+    if [ $LD_LIBRARYN32_PATH ]; then
+       SYSTEM_LD_LIBRARYN32_PATH=$LD_LIBRARYN32_PATH
+       export SYSTEM_LD_LIBRARYN32_PATH
+       LD_LIBRARYN32_PATH=:"$sd_prog":$LD_LIBRARYN32_PATH
+    else
+       LD_LIBRARYN32_PATH=:"$sd_prog"
+    fi
     export LD_LIBRARYN32_PATH
     ;;
 
   *)
-    LD_LIBRARY_PATH="$sd_prog":$LD_LIBRARY_PATH
+    if [ $LD_LIBRARY_PATH ]; then
+      SYSTEM_LD_LIBRARY_PATH=$LD_LIBRARY_PATH
+      export SYSTEM_LD_LIBRARY_PATH
+      LD_LIBRARY_PATH="$sd_prog":$LD_LIBRARY_PATH
+    else
+      LD_LIBRARY_PATH="$sd_prog"
+    fi
     export LD_LIBRARY_PATH
     ;;
 esac
--- desktop/scripts/unopkg.sh	2005-10-10 17:00:52.000000000 +0200
+++ desktop/scripts/unopkg.sh	2005-10-10 17:03:39.000000000 +0200
@@ -91,27 +91,57 @@ fi
 sd_platform=`uname -s`
 case $sd_platform in
   AIX)
-    LIBPATH="$sd_prog":$LIBPATH
+    if [ $LIBPATH ]; then
+      SYSTEM_LIBPATH=$LIBPATH
+      export SYSTEM_LIBPATH
+      LIBPATH="$sd_prog":$LIBPATH
+    else
+      LIBPATH="$sd_prog"
+    fi
     export LIBPATH
     ;;
 
   Darwin)
-    DYLD_LIBRARY_PATH="$sd_prog":$DYLD_LIBRARY_PATH
+    if [ $DYLD_LIBRARY_PATH ]; then 
+      SYSTEM_DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH
+      export SYSTEM_DYLD_LIBRARY_PATH
+      DYLD_LIBRARY_PATH="$sd_prog":$DYLD_LIBRARY_PATH
+    else
+      DYLD_LIBRARY_PATH="$sd_prog"
+    fi
     export DYLD_LIBRARY_PATH
     ;;
 
   HP-UX)
-    SHLIB_PATH="$sd_prog":/usr/openwin/lib:$SHLIB_PATH
+    if [ $SHLIB_PATH ]; then
+      SYSTEM_SHLIB_PATH=$SHLIB_PATH
+      export SYSTEM_SHLIB_PATH
+      SHLIB_PATH="$sd_prog":/usr/openwin/lib:$SHLIB_PATH
+    else
+      SHLIB_PATH="$sd_prog":/usr/openwin/lib
+    fi
     export SHLIB_PATH
     ;;
 
   IRIX*)
-    LD_LIBRARYN32_PATH=:"$sd_prog":$LD_LIBRARYN32_PATH
+    if [ $LD_LIBRARYN32_PATH ]; then
+       SYSTEM_LD_LIBRARYN32_PATH=$LD_LIBRARYN32_PATH
+       export SYSTEM_LD_LIBRARYN32_PATH
+       LD_LIBRARYN32_PATH=:"$sd_prog":$LD_LIBRARYN32_PATH
+    else
+       LD_LIBRARYN32_PATH=:"$sd_prog"
+    fi
     export LD_LIBRARYN32_PATH
     ;;
 
   *)
-    LD_LIBRARY_PATH="$sd_prog":$LD_LIBRARY_PATH
+    if [ $LD_LIBRARY_PATH ]; then
+      SYSTEM_LD_LIBRARY_PATH=$LD_LIBRARY_PATH
+      export SYSTEM_LD_LIBRARY_PATH
+      LD_LIBRARY_PATH="$sd_prog":$LD_LIBRARY_PATH
+    else
+      LD_LIBRARY_PATH="$sd_prog"
+    fi
     export LD_LIBRARY_PATH
     ;;
 esac
