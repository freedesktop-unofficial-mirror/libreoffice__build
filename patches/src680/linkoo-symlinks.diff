Index: solenv/bin/linkoo
===================================================================
RCS file: /cvs/tools/solenv/bin/linkoo,v
retrieving revision 1.5
diff -u -r1.5 linkoo
--- solenv/bin/linkoo	11 Feb 2005 15:23:57 -0000	1.5
+++ solenv/bin/linkoo	4 May 2005 14:41:56 -0000
@@ -215,13 +215,18 @@
 	my $dest = $installed_files->{$file};
 
 	if (-l "$dest/$file") {
-	    if (!$dry_run) {
-		# re-write the link
-		unlink ("$dest/$file");
-		symlink ("$src/$file", "$dest/$file") || die "Failed to symlink: $!";
-		print " [$file]";
-	    } else {
-		print "re-make link $src/$file => $dest/$file\n";
+	    my $link = readlink ("$dest/$file");
+	    if ($link =~ /^\//) { # Absolute path
+		if (!$dry_run) {
+		    # re-write the link
+		    unlink ("$dest/$file");
+		    symlink ("$src/$file", "$dest/$file") || die "Failed to symlink: $!";
+		    print " [$file]";
+		} else {
+		    print "re-make link $src/$file => $dest/$file\n";
+		}
+	    } elsif ($dry_run) {
+		print "skipping symbolic link $dest/$file -> $link\n";
 	    }
 	} else {
 	    check_create_linked ($dest);
