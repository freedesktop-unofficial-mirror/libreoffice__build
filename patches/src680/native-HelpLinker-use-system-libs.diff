--- xmlhelp/source/com/sun/star/help/aottarget.mk	19 Jul 2006 09:52:58 -0000	1.3
+++ xmlhelp/source/com/sun/star/help/aottarget.mk	27 Jul 2006 11:23:24 -0000
@@ -46,6 +46,21 @@
 $(AOTTARGETN) : $(LB)$/libdb.jar.so
 .ENDIF
 
+.IF "$(SYSTEM_XT)"=="YES"
+AOTFILES+= $(LB)$/libxt.jar.so
+$(AOTTARGETN) : $(LB)$/libxt.jar.so
+.ENDIF
+
+.IF "$(SYSTEM_XML_APIS)" == "YES"
+AOTFILES+= $(LB)$/libxml-apis.jar.so
+$(AOTTARGETN) : $(LB)$/libxml-apis.jar.so
+.ENDIF
+
+.IF "$(SYSTEM_XERCES)"=="YES"
+AOTFILES+= $(LB)$/libxercesImpl.jar.so
+$(AOTTARGETN) : $(LB)$/libxercesImpl.jar.so
+.ENDIF
+
 AOTLINKFLAGS=$(subst,.so, $(subst,$(LB)$/lib,-l $(AOTFILES)))
 
 $(LB)$/lib%.jar.so : $(SOLARBINDIR)$/%.jar
@@ -56,6 +71,18 @@
 	$(JAVAAOTCOMPILER) --classpath=. -shared -fPIC -Wl,-Bsymbolic -O2 \
 	-fno-bounds-check -fno-store-check -findirect-dispatch -fjni -o $(LB)$/libdb.jar.so $(DB_JAR)
 
+$(LB)$/libxt.jar.so:
+	$(JAVAAOTCOMPILER) --classpath=. -shared -fPIC -Wl,-Bsymbolic -O2 \
+	-fno-bounds-check -fno-store-check -findirect-dispatch -fjni -o $(LB)$/libxt.jar.so $(XT_JAR)
+
+$(LB)$/libxml-apis.jar.so:
+	$(JAVAAOTCOMPILER) --classpath=. -shared -fPIC -Wl,-Bsymbolic -O2 \
+	-fno-bounds-check -fno-store-check -findirect-dispatch -fjni -o $(LB)$/libxml-apis.jar.so $(XML_APIS_JAR)
+
+$(LB)$/libxercesImpl.jar.so:
+	$(JAVAAOTCOMPILER) --classpath=. -shared -fPIC -Wl,-Bsymbolic -O2 \
+	-fno-bounds-check -fno-store-check -findirect-dispatch -fjni -o $(LB)$/libxercesImpl.jar.so $(XERCES_JAR)
+
 $(AOTTARGETN) : $(JARTARGETN) $(AOTFILES)
 	$(JAVAAOTCOMPILER) --main=$(AOTTARGET) -o $(BIN)$/$(AOTTARGET) \
 		-Wl,-Bsymbolic -O2 --no-bounds-check -fno-store-check -findirect-dispatch -fjni \
