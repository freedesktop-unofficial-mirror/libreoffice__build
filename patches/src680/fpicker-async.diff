Index: fpicker/source/unx/gnome/asynceventnotifier.cxx
===================================================================
RCS file: /cvs/gsl/fpicker/source/unx/gnome/asynceventnotifier.cxx,v
retrieving revision 1.3
diff -u -p -u -r1.3 asynceventnotifier.cxx
--- fpicker/source/unx/gnome/asynceventnotifier.cxx	18 Jan 2005 13:25:45 -0000	1.3
+++ fpicker/source/unx/gnome/asynceventnotifier.cxx	6 May 2005 14:15:27 -0000
@@ -141,9 +141,9 @@ void SAL_CALL SalGtkAsyncEventNotifier::
 	osl::ResettableMutexGuard aGuard(m_aMutex);
 	
 	OSL_PRECOND(m_bRun,"Event notifier does not run!");
 
-	m_bRun = false;
 	m_aExitCondition.reset();
+	m_bRun = false;
 
 	m_aNotifyCondition.set();
 	
@@ -210,6 +211,7 @@ void SAL_CALL SalGtkAsyncEventNotifier::
 	while (m_bRun)
 	{       
 		m_aNotifyCondition.wait();
+		m_aNotifyCondition.reset();
 
 		while (getEventListSize() > 0)
 		{
@@ -238,7 +240,6 @@ void SAL_CALL SalGtkAsyncEventNotifier::
 				}
 			}
 		} // while(getEventListSize() > 0)
-		m_aNotifyCondition.reset();
 	} // while(m_bRun)
 	m_aExitCondition.set();
 }
