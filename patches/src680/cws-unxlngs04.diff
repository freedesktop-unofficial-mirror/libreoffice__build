Index: bridges/source/cpp_uno/gcc3_linux_sparc/cpp2uno.cxx
===================================================================
RCS file: /cvs/udk/bridges/source/cpp_uno/gcc3_linux_sparc/cpp2uno.cxx,v
retrieving revision 1.8
retrieving revision 1.8.6.1
diff -u -u -r1.8 -r1.8.6.1
--- bridges/source/cpp_uno/gcc3_linux_sparc/cpp2uno.cxx	7 Sep 2005 22:25:05 -0000	1.8
+++ bridges/source/cpp_uno/gcc3_linux_sparc/cpp2uno.cxx	23 Sep 2005 11:40:28 -0000	1.8.6.1
@@ -371,11 +371,13 @@
  */
 static void cpp_vtable_call()
 {
-	volatile sal_Int64 nRegReturn;
+	sal_Int64 nRegReturn;
 	int nFunctionIndex;
 	void** pCallStack;
 	int vTableOffset;
 
+void * pRegReturn = &nRegReturn;
+
 	__asm__( "st %%i0, %0\n\t"
 			"st %%i1, %1\n\t"
  			"st %%i2, %2\n\t"
@@ -394,41 +396,40 @@
 		case typelib_TypeClass_BYTE:
 			__asm__( "ld %0, %%l0\n\t"
 					 "ldsb [%%l0], %%i0\n"
-					 : : "m"(&nRegReturn) );
+					 : : "m"(pRegReturn) );
 			break;
 		case typelib_TypeClass_CHAR:
 		case typelib_TypeClass_SHORT:
 		case typelib_TypeClass_UNSIGNED_SHORT:
 			__asm__( "ld %0, %%l0\n\t"
 					 "ldsh [%%l0], %%i0\n"
-					 : : "m"(&nRegReturn) );
+					 : : "m"(pRegReturn) );
 			break;
 		case typelib_TypeClass_HYPER:
 		case typelib_TypeClass_UNSIGNED_HYPER:
-
 			__asm__( "ld %0, %%l0\n\t"
 					 "ld [%%l0], %%i0\n\t"
-					 "ld %1, %%l0\n\t"
+					 "add %%l0, 4, %%l0\n\t"
 					 "ld [%%l0], %%i1\n\t"
-					 : : "m"(&nRegReturn), "m"(((long*)&nRegReturn) +1) );
+					  : : "m"(pRegReturn) );
 
 			break;
 		case typelib_TypeClass_FLOAT:
 			__asm__( "ld %0, %%l0\n\t"
 					 "ld [%%l0], %%f0\n"
-					 : : "m"(&nRegReturn) );
+					 : : "m"(pRegReturn) );
 			break;
 		case typelib_TypeClass_DOUBLE:
 			__asm__( "ld %0, %%l0\n\t"
 					 "ldd [%%l0], %%f0\n"
-					 : : "m"(&nRegReturn) );
+					 : : "m"(pRegReturn) );
 			break;
 		case typelib_TypeClass_VOID:
 			break;
 		default:
 			__asm__( "ld %0, %%l0\n\t"
 					 "ld [%%l0], %%i0\n"
-					 : : "m"(&nRegReturn) );
+					 : : "m"(pRegReturn) );
 			break;
 	}
 
Index: solenv/bin/modules/installer/epmfile.pm
===================================================================
RCS file: /cvs/tools/solenv/bin/modules/installer/epmfile.pm,v
retrieving revision 1.42
retrieving revision 1.40.32.3
diff -u -u -r1.42 -r1.40.32.3
--- solenv/bin/modules/installer/epmfile.pm	9 Nov 2005 09:09:49 -0000	1.42
+++ solenv/bin/modules/installer/epmfile.pm	13 Nov 2005 01:26:04 -0000	1.40.32.3
@@ -1732,6 +1732,7 @@
 		my $target = "";
 		if ( $installer::globals::compiler =~ /unxlngi/) { $target = "i586"; }
 		if ( $installer::globals::compiler =~ /unxlngx/) { $target = "x86_64"; }
+		if ( $installer::globals::compiler =~ /unxlngs/) { $target = "sparc"; }
 
 		my $systemcall = "$rpmcommand -bb $specfilename --target $target 2\>\&1 |";
 
@@ -1912,6 +1913,7 @@
 		my $rpmdir;
 		if ( $installer::globals::compiler =~ /unxlngi/) { $rpmdir = "$installer::globals::epmoutpath/RPMS/i586"; }
 		if ( $installer::globals::compiler =~ /unxlngx/) { $rpmdir = "$installer::globals::epmoutpath/RPMS/x86_64"; }
+		if ( $installer::globals::compiler =~ /unxlngs/) { $rpmdir = "$installer::globals::epmoutpath/RPMS/sparc"; }
 
 		my $systemcall = "mv $rpmdir/* $newdir";	# moving the rpms into the directory "RPMS"
 
@@ -1936,6 +1938,7 @@
 		installer::systemactions::remove_empty_directory("$installer::globals::epmoutpath/RPMS/x86_64");
 		installer::systemactions::remove_empty_directory("$installer::globals::epmoutpath/RPMS/i586");
 		installer::systemactions::remove_empty_directory("$installer::globals::epmoutpath/RPMS/i386");
+		installer::systemactions::remove_empty_directory("$installer::globals::epmoutpath/RPMS/sparc");
 		installer::systemactions::remove_empty_directory("$installer::globals::epmoutpath/RPMS");
 
 	}
Index: solenv/bin/modules/installer/parameter.pm
===================================================================
RCS file: /cvs/tools/solenv/bin/modules/installer/parameter.pm,v
retrieving revision 1.29
retrieving revision 1.26.32.3
diff -u -u -r1.29 -r1.26.32.3
--- solenv/bin/modules/installer/parameter.pm	9 Nov 2005 09:10:12 -0000	1.29
+++ solenv/bin/modules/installer/parameter.pm	13 Nov 2005 01:26:20 -0000	1.26.32.3
@@ -311,7 +311,7 @@
 
 	if (( $installer::globals::compiler =~ /unx/ ) && ( $installer::globals::addpackagelist )) { $installer::globals::is_unix_multi = 1; }
 	
-	if ( $installer::globals::compiler =~ /unxlngi/ || $installer::globals::compiler =~ /unxlngx/ )
+	if ( $installer::globals::compiler =~ /unxlngi/ || $installer::globals::compiler =~ /unxlngx/ || $installer::globals::compiler =~ /unxlngs/ ) 
 	{
 		$installer::globals::islinuxbuild = 1;
 		if ( $installer::globals::packageformat eq "rpm" )
