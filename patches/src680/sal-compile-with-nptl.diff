--- sal/osl/unx/process.c.ark	2005-01-27 23:02:00.000000000 +0100
+++ sal/osl/unx/process.c	2005-01-27 23:04:54.000000000 +0100
@@ -533,7 +533,7 @@
 			for (i = 0; data.m_pszEnv[i] != NULL; i++)
 	     		putenv(data.m_pszEnv[i]);
 
-#if defined(LINUX)
+#if defined(LINUX) && !defined(NPTL)
             /* mfe: linux likes to have just one thread when the exec family is called */
             /*      this np function has this purpose ...                              */
             pthread_kill_other_threads_np();
--- config_office/configure.in.ark	2005-01-27 23:04:31.000000000 +0100
+++ config_office/configure.in	2005-01-27 23:06:28.000000000 +0100
@@ -470,6 +470,9 @@
 		test_gtk=yes
       test_kde=yes
       test_cups=yes
+      if getconf GNU_LIBPTHREAD_VERSION |grep -q NPTL; then
+           PTHREAD_CFLAGS="-DNPTL"
+      fi
 		;;
 	"GNU")
 		test_x=yes
