Index: automation/util/makefile.mk
===================================================================
RCS file: /cvs/util/automation/util/makefile.mk,v
retrieving revision 1.19
retrieving revision 1.19.2.1
diff -u -p -u -p -r1.19 -r1.19.2.1
--- automation/util/makefile.mk	6 Oct 2005 12:38:17 -0000	1.19
+++ automation/util/makefile.mk	17 Oct 2005 03:34:47 -0000	1.19.2.1
@@ -156,9 +156,9 @@ APP1DEPN+=$(SHL2TARGETN) $(SHL3TARGETN)
 APP1STDLIBS= \
 		app.lib \
 		sample.lib
-APP1DEPN+=$(LB)$/$(SHL2IMPLIB).lib $(LB)$/$(SHL3IMPLIB).lib
+APP1DEPN+=$(SHL2IMPLIBN) $(SHL3IMPLIBN)
 .ENDIF
-	
+
 APP1STDLIBS+= \
 			$(CPPUHELPERLIB) \
 			$(TOOLSLIB) \
@@ -189,7 +189,7 @@ APP1STDLIBS+=$(CPPULIB)
 .IF "$(GUI)"=="WNT"
 APP1STDLIBS += \
 		shell32.lib \
-    	advapi32.lib
+		advapi32.lib
 .ENDIF # "$(GUI)"=="WNT"
 
 
@@ -227,7 +227,7 @@ APP3TARGET=miniapp
 APP3STDLIBS= \
 			$(CPPULIB) \
 			$(CPPUHELPERLIB) \
- 			$(UCBHELPERLIB) \
+			$(UCBHELPERLIB) \
 			$(COMPHELPERLIB) \
 			$(AUTOMATIONLIB) \
 			$(SALLIB) \
@@ -245,6 +245,12 @@ APP3STDLIBS+= \
 			$(VOSLIB) $(SALLIB)
 .ENDIF
 .ENDIF
+# $(AUTOMATIONLIB) is build in SHL1TARGET
+.IF "$(GUI)"=="UNX"
+APP3DEPN=$(SHL1TARGETN)
+.ELSE
+APP3DEPN=$(SHL1IMPLIBN)
+.ENDIF
 
 APP3LIBS= \
 		$(LIBPRE) $(LB)$/miniapp.lib
Index: solenv/inc/_tg_app.mk
===================================================================
RCS file: /cvs/tools/solenv/inc/_tg_app.mk,v
retrieving revision 1.49
retrieving revision 1.49.134.1
diff -u -p -u -p -r1.49 -r1.49.134.1
--- solenv/inc/_tg_app.mk	11 Jul 2005 15:26:35 -0000	1.49
+++ solenv/inc/_tg_app.mk	17 Oct 2005 15:01:10 -0000	1.49.134.1
@@ -117,7 +117,7 @@ $(APP1TARGETN): $(APP1OBJS) $(APP1LIBS) 
 		$(LINKFLAGSAPP) $(APP1BASEX) \
 		$(APP1STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP1TARGET)).map \
 		$(STDOBJ) \
 		$(APP1LINKRES) \
 		$(APP1RES) \
@@ -283,7 +283,7 @@ $(APP2TARGETN): $(APP2OBJS) $(APP2LIBS) 
 		$(LINKFLAGSAPP) $(APP2BASEX) \
 		$(APP2STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP2TARGET)).map \
 		$(STDOBJ) \
 		$(APP2LINKRES) \
 		$(APP2RES) \
@@ -449,7 +449,7 @@ $(APP3TARGETN): $(APP3OBJS) $(APP3LIBS) 
 		$(LINKFLAGSAPP) $(APP3BASEX) \
 		$(APP3STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP3TARGET)).map \
 		$(STDOBJ) \
 		$(APP3LINKRES) \
 		$(APP3RES) \
@@ -615,7 +615,7 @@ $(APP4TARGETN): $(APP4OBJS) $(APP4LIBS) 
 		$(LINKFLAGSAPP) $(APP4BASEX) \
 		$(APP4STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP4TARGET)).map \
 		$(STDOBJ) \
 		$(APP4LINKRES) \
 		$(APP4RES) \
@@ -781,7 +781,7 @@ $(APP5TARGETN): $(APP5OBJS) $(APP5LIBS) 
 		$(LINKFLAGSAPP) $(APP5BASEX) \
 		$(APP5STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP5TARGET)).map \
 		$(STDOBJ) \
 		$(APP5LINKRES) \
 		$(APP5RES) \
@@ -947,7 +947,7 @@ $(APP6TARGETN): $(APP6OBJS) $(APP6LIBS) 
 		$(LINKFLAGSAPP) $(APP6BASEX) \
 		$(APP6STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP6TARGET)).map \
 		$(STDOBJ) \
 		$(APP6LINKRES) \
 		$(APP6RES) \
@@ -1113,7 +1113,7 @@ $(APP7TARGETN): $(APP7OBJS) $(APP7LIBS) 
 		$(LINKFLAGSAPP) $(APP7BASEX) \
 		$(APP7STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP7TARGET)).map \
 		$(STDOBJ) \
 		$(APP7LINKRES) \
 		$(APP7RES) \
@@ -1279,7 +1279,7 @@ $(APP8TARGETN): $(APP8OBJS) $(APP8LIBS) 
 		$(LINKFLAGSAPP) $(APP8BASEX) \
 		$(APP8STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP8TARGET)).map \
 		$(STDOBJ) \
 		$(APP8LINKRES) \
 		$(APP8RES) \
@@ -1445,7 +1445,7 @@ $(APP9TARGETN): $(APP9OBJS) $(APP9LIBS) 
 		$(LINKFLAGSAPP) $(APP9BASEX) \
 		$(APP9STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP9TARGET)).map \
 		$(STDOBJ) \
 		$(APP9LINKRES) \
 		$(APP9RES) \
@@ -1611,7 +1611,7 @@ $(APP10TARGETN): $(APP10OBJS) $(APP10LIB
 		$(LINKFLAGSAPP) $(APP10BASEX) \
 		$(APP10STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP10TARGET)).map \
 		$(STDOBJ) \
 		$(APP10LINKRES) \
 		$(APP10RES) \
Index: solenv/inc/tg_app.mk
===================================================================
RCS file: /cvs/tools/solenv/inc/tg_app.mk,v
retrieving revision 1.51
retrieving revision 1.51.64.1
diff -u -p -u -p -r1.51 -r1.51.64.1
--- solenv/inc/tg_app.mk	8 Sep 2005 09:42:06 -0000	1.51
+++ solenv/inc/tg_app.mk	17 Oct 2005 15:01:11 -0000	1.51.64.1
@@ -185,7 +185,7 @@ $(APP$(TNR)TARGETN): $(APP$(TNR)OBJS) $(
 		$(LINKFLAGSAPP) $(APP$(TNR)BASEX) \
 		$(APP$(TNR)STACKN) \
 		-out:$@ \
-		-map:$(MISC)$/$(@:b).map \
+		-map:$(MISC)$/$(subst,$/,_ $(APP$(TNR)TARGET)).map \
 		$(STDOBJ) \
 		$(APP$(TNR)LINKRES) \
 		$(APP$(TNR)RES) \
Index: sd/util/makefile.mk
===================================================================
RCS file: /cvs/graphics/sd/util/makefile.mk,v
retrieving revision 1.39
retrieving revision 1.39.30.1
diff -u -p -u -p -r1.39 -r1.39.30.1
--- sd/util/makefile.mk	9 Sep 2005 07:22:07 -0000	1.39
+++ sd/util/makefile.mk	17 Oct 2005 03:44:04 -0000	1.39.30.1
@@ -213,6 +213,12 @@ SHL4STDLIBS= \
 	$(VOSLIB) \
 	$(CANVASLIB) \
 	$(SALLIB)
+# $(ISDLIB) is build in SHL1TARGET
+.IF "$(GUI)" == "UNX"
+SHL4DEPN=$(SHL1TARGETN)
+.ELSE
+SHL4DEPN=$(SHL1IMPLIBN)
+.ENDIF
 
 # --- Targets -------------------------------------------------------------
 
Index: desktop/util/makefile.mk
===================================================================
RCS file: /cvs/framework/desktop/util/makefile.mk,v
retrieving revision 1.58
retrieving revision 1.58.34.1
diff -u -p -u -p -r1.58 -r1.58.34.1
--- desktop/util/makefile.mk	8 Sep 2005 17:50:37 -0000	1.58
+++ desktop/util/makefile.mk	18 Oct 2005 13:56:00 -0000	1.58.34.1
@@ -67,7 +67,7 @@ TARGETOBJS=	\
 			$(OBJ)$/langselect.obj          \
 			$(OBJ)$/userinstall.obj         \
 			$(OBJ)$/desktopcontext.obj      
-            
+
 
 
 # --- Resourcen ----------------------------------------------------
@@ -145,7 +145,7 @@ APP1DEF=    $(MISCX)$/$(TARGET).def
 APP1RES=    $(RES)$/desktop.res
 APP1ICON=$(SOLARRESDIR)$/icons/so8-main-app.ico
 APP1VERINFO=verinfo.rc
-APP1LINKRES=$(MISC)$/$(TARGET).res
+APP1LINKRES=$(MISC)$/$(TARGET)1.res
 APP1STACK=10000000
 
 # create a manifest file with the same name as the
@@ -187,7 +187,7 @@ APP5DEF=    $(MISCX)$/$(TARGET).def
 APP5RES=    $(RES)$/oodesktop.res
 APP5ICON=$(SOLARRESDIR)$/icons/ooo-main-app.ico
 APP5VERINFO=ooverinfo.rc
-APP5LINKRES=$(MISC)$/ooffice.res
+APP5LINKRES=$(MISC)$/ooffice5.res
 APP5STACK=10000000
 .ENDIF # WNT
 
@@ -197,7 +197,7 @@ APP6RES=$(RES)$/soloader.res
 APP6NOSAL=TRUE
 APP6DEPN= $(APP1TARGETN) $(APP6RES) verinfo.rc
 APP6VERINFO=verinfo.rc
-APP6LINKRES=$(MISC)$/soffice.res
+APP6LINKRES=$(MISC)$/soffice6.res
 APP6ICON=$(SOLARRESDIR)$/icons/so8-main-app.ico
 APP6OBJS = \
 		$(OBJ)$/officeloader.obj
@@ -207,7 +207,7 @@ APP7RES=$(RES)$/ooloader.res
 APP7NOSAL=TRUE
 APP7DEPN= $(APP1TARGETN) $(APP7RES) ooverinfo.rc
 APP7VERINFO=ooverinfo.rc
-APP7LINKRES=$(MISC)$/ooffice.res
+APP7LINKRES=$(MISC)$/ooffice7.res
 APP7ICON=$(SOLARRESDIR)$/icons/ooo-main-app.ico
 APP7OBJS = \
 		$(OBJ)$/officeloader.obj
@@ -254,7 +254,7 @@ $(BIN)$/$(TARGET).exe.manifest: template
 
 $(BIN)$/$(TARGET).bin: $(BIN)$/$(TARGET)$(EXECPOST)
    +$(COPY) $< $@
-   
+
 $(BIN)$/so$/$(TARGET).bin: $(BIN)$/so$/$(TARGET)$(EXECPOST)
    +$(COPY) $< $@
 
Index: desktop/win32/source/applauncher/makefile.mk
===================================================================
RCS file: /cvs/framework/desktop/win32/source/applauncher/makefile.mk,v
retrieving revision 1.5
retrieving revision 1.5.32.1
diff -u -p -u -p -r1.5 -r1.5.32.1
--- desktop/win32/source/applauncher/makefile.mk	8 Sep 2005 17:51:39 -0000	1.5
+++ desktop/win32/source/applauncher/makefile.mk	17 Oct 2005 03:51:08 -0000	1.5.32.1
@@ -48,7 +48,7 @@ TARGETTYPE=GUI
 
 APP1TARGET=so$/swriter
 APP1NOSAL=TRUE
-APP1LINKRES=$(MISC)$/$(TARGET).res
+APP1LINKRES=$(MISC)$/$(TARGET)1.res
 APP1ICON=$(SOLARRESDIR)$/icons/so8-writer-app.ico
 APP1OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -57,7 +57,7 @@ APP1OBJS = \
 
 APP2TARGET=so$/scalc
 APP2NOSAL=TRUE
-APP2LINKRES=$(MISC)$/$(TARGET).res
+APP2LINKRES=$(MISC)$/$(TARGET)2.res
 APP2ICON=$(SOLARRESDIR)$/icons/so8-calc-app.ico
 APP2OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -65,7 +65,7 @@ APP2OBJS = \
 
 APP3TARGET=so$/sdraw
 APP3NOSAL=TRUE
-APP3LINKRES=$(MISC)$/$(TARGET).res
+APP3LINKRES=$(MISC)$/$(TARGET)3.res
 APP3ICON=$(SOLARRESDIR)$/icons/so8-draw-app.ico
 APP3OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -73,7 +73,7 @@ APP3OBJS = \
 
 APP4TARGET=so$/simpress
 APP4NOSAL=TRUE
-APP4LINKRES=$(MISC)$/$(TARGET).res
+APP4LINKRES=$(MISC)$/$(TARGET)4.res
 APP4ICON=$(SOLARRESDIR)$/icons/so8-impress-app.ico
 APP4OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -81,7 +81,7 @@ APP4OBJS = \
 
 APP5TARGET=so$/sbase
 APP5NOSAL=TRUE
-APP5LINKRES=$(MISC)$/$(TARGET).res
+APP5LINKRES=$(MISC)$/$(TARGET)5.res
 APP5ICON=$(SOLARRESDIR)$/icons/so8-base-app.ico
 APP5OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -89,7 +89,7 @@ APP5OBJS = \
 
 APP6TARGET=so$/smath
 APP6NOSAL=TRUE
-APP6LINKRES=$(MISC)$/$(TARGET).res
+APP6LINKRES=$(MISC)$/$(TARGET)6.res
 APP6ICON=$(SOLARRESDIR)$/icons/so8-math-app.ico
 APP6OBJS = \
 		$(OBJ)$/launcher.obj\
Index: desktop/win32/source/applauncher/ooo/makefile.mk
===================================================================
RCS file: /cvs/framework/desktop/win32/source/applauncher/ooo/makefile.mk,v
retrieving revision 1.4
retrieving revision 1.4.34.1
diff -u -p -u -p -r1.4 -r1.4.34.1
--- desktop/win32/source/applauncher/ooo/makefile.mk	8 Sep 2005 17:52:00 -0000	1.4
+++ desktop/win32/source/applauncher/ooo/makefile.mk	17 Oct 2005 03:51:08 -0000	1.4.34.1
@@ -48,7 +48,7 @@ TARGETTYPE=GUI
 
 APP1TARGET=swriter
 APP1NOSAL=TRUE
-APP1LINKRES=$(MISC)$/$(TARGET).res
+APP1LINKRES=$(MISC)$/$(TARGET)1.res
 APP1ICON=$(SOLARRESDIR)$/icons/ooo-writer-app.ico
 APP1OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -57,7 +57,7 @@ APP1OBJS = \
 
 APP2TARGET=scalc
 APP2NOSAL=TRUE
-APP2LINKRES=$(MISC)$/$(TARGET).res
+APP2LINKRES=$(MISC)$/$(TARGET)2.res
 APP2ICON=$(SOLARRESDIR)$/icons/ooo-calc-app.ico
 APP2OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -65,7 +65,7 @@ APP2OBJS = \
 
 APP3TARGET=sdraw
 APP3NOSAL=TRUE
-APP3LINKRES=$(MISC)$/$(TARGET).res
+APP3LINKRES=$(MISC)$/$(TARGET)3.res
 APP3ICON=$(SOLARRESDIR)$/icons/ooo-draw-app.ico
 APP3OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -73,7 +73,7 @@ APP3OBJS = \
 
 APP4TARGET=simpress
 APP4NOSAL=TRUE
-APP4LINKRES=$(MISC)$/$(TARGET).res
+APP4LINKRES=$(MISC)$/$(TARGET)4.res
 APP4ICON=$(SOLARRESDIR)$/icons/ooo-impress-app.ico
 APP4OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -81,7 +81,7 @@ APP4OBJS = \
 
 APP5TARGET=smath
 APP5NOSAL=TRUE
-APP5LINKRES=$(MISC)$/$(TARGET).res
+APP5LINKRES=$(MISC)$/$(TARGET)5.res
 APP5ICON=$(SOLARRESDIR)$/icons/ooo-math-app.ico
 APP5OBJS = \
 		$(OBJ)$/launcher.obj\
@@ -89,7 +89,7 @@ APP5OBJS = \
 
 APP6TARGET=sbase
 APP6NOSAL=TRUE
-APP6LINKRES=$(MISC)$/$(TARGET).res
+APP6LINKRES=$(MISC)$/$(TARGET)6.res
 APP6ICON=$(SOLARRESDIR)$/icons/ooo-base-app.ico
 APP6OBJS = \
 		$(OBJ)$/launcher.obj\
