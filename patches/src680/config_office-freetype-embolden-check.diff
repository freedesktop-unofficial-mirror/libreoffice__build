--- config_office/configure.in.old	2006-06-16 18:53:52.000000000 +0200
+++ config_office/configure.in	2006-06-29 19:21:49.000000000 +0200
@@ -2693,6 +2693,27 @@
 AC_SUBST(FREETYPE_LIBS)
 
 dnl ===================================================================
+dnl Check whether freetype2 supports emboldening
+dnl ===================================================================
+if test "$SYSTEM_FREETYPE" = "YES" ; then
+    save_CPPFLAGS="$CPPFLAGS"
+    save_LDFLAGS="$LDFLAGS"
+    save_LIBS="$LIBS"
+    CPPFLAGS="$CPPFLAGS $FREETYPE_CFLAGS"
+    LDFLAGS="$LDFLAGS $FREETYPE_LIBS"
+    AC_CHECK_LIB(freetype, FT_GlyphSlot_Embolden,
+                 [USE_FT_EMBOLDEN="YES"], [USE_FT_EMBOLDEN="NO"], [])
+    LDFLAGS="$save_LDFLAGS"
+    CPPFLAGS="$save_CPPFLAGS"
+    LIBS="$save_LIBS"
+else
+    # It was added in freetype-2.1.10
+    USE_FT_EMBOLDEN="NO"
+    AC_MSG_WARN([Internal freetype2 does not support emboldening.])
+fi
+AC_SUBST(USE_FT_EMBOLDEN)
+
+dnl ===================================================================
 dnl Check for system cairo
 dnl ===================================================================
 AC_MSG_CHECKING([which cairo to use])
--- config_office/set_soenv.in.old	2006-06-16 18:53:52.000000000 +0200
+++ config_office/set_soenv.in	2006-06-29 19:20:54.000000000 +0200
@@ -1786,6 +1786,7 @@
 ToFile( "SYSTEM_FREETYPE",   "@SYSTEM_FREETYPE@",  "e" );
 ToFile( "FREETYPE_CFLAGS",   "@FREETYPE_CFLAGS@",  "e" );
 ToFile( "FREETYPE_LIBS",     "@FREETYPE_LIBS@",    "e" );
+ToFile( "USE_FT_EMBOLDEN",   "@USE_FT_EMBOLDEN@",  "e" );
 ToFile( "SYSTEM_CAIRO",      "@SYSTEM_CAIRO@",     "e" );
 ToFile( "CAIRO_CFLAGS",      "@CAIRO_CFLAGS@",     "e" );
 ToFile( "CAIRO_LIBS",        "@CAIRO_LIBS@",       "e" );
