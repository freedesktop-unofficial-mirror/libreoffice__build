--- solenv/inc/tg_ext.mk	2005-01-25 11:30:22.781250000 +0530
+++ solenv/inc/tg_ext.mk	2005-01-25 11:30:27.750000000 +0530
@@ -180,6 +180,9 @@
 	@+-$(MKDIR) $(PACKAGE_DIR)
 	+cd $(PACKAGE_DIR) && ( $(shell +$(TYPE) $(PRJ)$/$(ROUT)$/misc$/$(TARFILE_NAME).unpack)) && $(TOUCH) $(UNTAR_FLAG_FILE)
 	@+echo make writeable...
+.IF "$(TARFILE_NAME)"=="curl-7.9.8"
+	@+/usr/bin/dos2unix.exe $(PACKAGE_DIR)/curl-7.9.8/lib/Makefile.vc6
+.ENDIF
 .IF "$(GUI)"=="UNX" || "$(USE_SHELL)"!="4nt"
 	@+cd $(PACKAGE_DIR) && chmod -R +rw $(TARFILE_ROOTDIR) && $(TOUCH) $(UNTAR_FLAG_FILE)
 	@+cd $(PACKAGE_DIR) && find $(TARFILE_ROOTDIR) -type d -exec chmod a+x {{}} \;
--- config_office/configure.in
+++ config_office/configure.in
@@ -32,7 +32,14 @@
 AC_ARG_ENABLE(libart,
 [  --enable-libart         Enables the use of libart, instead of GPC for
 			  polygon clipping.
 ],,)
+AC_ARG_ENABLE(epm,
+[  --disable-epm          OO.o includes self-packaging code, that requires
+			  epm, however epm is useless for large scale
+			  package building.
+
+                          Usage: --disable-epm
+],,enable_epm="yes")
 AC_ARG_ENABLE(openldap,
 [   --enable-openldap      Enables the use of the OpenLDAP LDAP SDK instead
                            of the Netscape/Mozilla one
@@ -1746,7 +1753,9 @@
 dnl Check for epm
 dnl ===================================================================
 AC_PATH_PROG(EPM, epm, no)
-if test "$EPM" = "no"; then
-   AC_MSG_ERROR([epm is needed for native installers. install epm])
+if test "z$enable_epm" = "z" -o "$enable_epm" != "no"; then
+    if test "$EPM" = "no"; then
+        AC_MSG_ERROR([epm is needed for native installers. install epm])
+    fi
 fi
 

--- tools/util/makefile.mk	2005-02-09 09:24:25.546875000 +0530
+++ tools/util/makefile.mk	2005-02-09 11:46:11.296875000 +0530
@@ -202,7 +202,7 @@
 
 .IF "$(WITH_LIBART)"=="YES"
 SHL1STDLIBS+=   $(LIBART_LIBS)
-.ELSE
+.ELIF "$WITH_GPC)"=="YES"
 SHL1STDLIBS+=   $(GPC3RDLIB)
 .ENDIF
 
