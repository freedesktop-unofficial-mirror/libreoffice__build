--- sal/osl/unx/makefile.mk.old	2005-06-17 11:31:55.000000000 +0200
+++ sal/osl/unx/makefile.mk	2005-09-01 15:10:06.000000000 +0200
@@ -157,6 +157,10 @@
 .ENDIF
 .ENDIF
 
+.IF "$(ENABLE_CRASHDUMP)" != "" || "$(PRODUCT)" == ""
+CFLAGS+=-DENABLE_CRASH_REPORT
+.ENDIF
+
 .INCLUDE :  target.mk
 
 .IF "$(OS)$(CPU)"=="SOLARISS" || "$(OS)$(CPU)"=="NETBSDS" || "$(OS)$(CPU)"=="LINUXS"
--- sal/osl/unx/signal.c.old	2005-05-23 17:52:37.000000000 +0200
+++ sal/osl/unx/signal.c	2005-09-01 15:13:34.000000000 +0200
@@ -410,6 +410,7 @@
 
 static int ReportCrash( int Signal )
 {
+#ifdef ENABLE_CRASH_REPORT
 	static sal_Bool bCrashReporterExecuted = sal_False;
 	sal_Bool		bAutoCrashReport = sal_False;
 
@@ -688,6 +689,11 @@
 	}
 	
 	return 1;
+#else /* defined ENABLE_CRASH_REPORT */
+	/* the utility crash_report is not build, so do the same as when
+	  the option -nocrashreport is used */
+	return -1;
+#endif /* defined ENABLE_CRASH_REPORT */
 }
 
 static void PrintStack( int sig )
