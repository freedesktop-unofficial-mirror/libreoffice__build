--- scp2/source/impress/file_impress.scp	2008-01-07 18:09:23.000000000 +0100
+++ scp2/source/impress/file_impress.scp	2008-01-07 18:12:45.000000000 +0100
@@ -59,6 +59,20 @@ File gid_File_Exe_Simpress
     Styles = (PACKED, PATCH);
 End
 
+#if defined ENABLE_OPENGL
+File gid_File_Lib_OpenGLTransitions
+    TXT_FILE_BODY;
+    Styles = (PACKED,UNO_COMPONENT);
+    RegistryID = gid_Starregistry_Services_Rdb;
+    Dir = gid_Dir_Program;
+  #ifdef UNX
+    Name = STRING(CONCAT2(OGLTrans.uno,UNXSUFFIX));
+  #else
+    Name = "OGLTrans.uno.dll";
+  #endif
+End
+#endif
+
 #if defined UNX && ! defined MACOSX
 
 File gid_File_Xdg_Impress
@@ -180,6 +180,15 @@ File gid_File_Share_Config_Sofficecfg_Im
     Name = "transitions.xml";
 End
 
+#if defined ENABLE_OPENGL
+File gid_File_Share_Config_Sofficecfg_Impress_Transitions_OGL_Xml
+    TXT_FILE_BODY;
+    Styles = (PACKED);
+    Dir = gid_Dir_Share_Config_Sofficecfg_Simpress;
+    Name = "transitions-ogl.xml";
+End
+#endif
+
 File gid_File_Oo_Office_Ui_Effects_Xcs
     TXT_FILE_BODY;
     Styles = (PACKED);
--- scp2/source/impress/makefile.mk
+++ scp2/source/impress/makefile.mk
@@ -47,6 +47,10 @@ TARGETTYPE=CUI
 
 SCP_PRODUCT_TYPE=osl
 
+.IF "$(ENABLE_OPENGL)" == "TRUE"
+SCPDEFS+=-DENABLE_OPENGL
+.ENDIF
+
 PARFILES= \
         module_impress.par              \
         help_impress.par                \
--- scp2/source/impress/module_impress.scp	2008-01-08 11:25:39.000000000 +0100
+++ scp2/source/impress/module_impress.scp	2008-01-08 11:26:49.000000000 +0100
@@ -51,7 +51,7 @@
     Files = (gid_File_Exe_Simpress,gid_File_Extra_Urldesktop_Impress,gid_File_Extra_Urlnew_Impress,gid_File_Extra_Urlstart_Impress,gid_File_Extra_Urltasks_Impress,gid_File_Lib_Placeware,
     gid_File_Registry_Spool_Oo_Common_Impress_Xcu,gid_File_Registry_Spool_Oo_Setup_Impress_Xcu,
     gid_File_Oo_Office_Ui_Impresswindowstate_Xcs,gid_File_Oo_Office_Ui_Impresswindowstate_Xcu,
-	gid_File_Lib_Animcore,gid_File_Share_Config_Sofficecfg_Impress_Effects_Xml, gid_File_Share_Config_Sofficecfg_Impress_Transitions_Xml,
+	gid_File_Lib_Animcore,gid_File_Share_Config_Sofficecfg_Impress_Effects_Xml, gid_File_Share_Config_Sofficecfg_Impress_Transitions_Xml, gid_File_Share_Config_Sofficecfg_Impress_Transitions_OGL_Xml,
 	gid_File_Oo_Office_Ui_Effects_Xcs, gid_File_Oo_Office_Ui_Effects_Xcu, gid_File_Xdg_Impress, gid_File_Registry_Spool_Oo_Office_Embedding_Impress_Xcu,
     gid_File_Registry_Spool_Oo_TypeDetection_Impress_Filters_Xcu,gid_File_Registry_Spool_Oo_TypeDetection_Impress_Types_Xcu, gid_File_Tmp_Userinstall_Impress_Inf);
 End
