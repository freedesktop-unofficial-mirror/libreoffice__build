--- jvmfwk/plugins/sunmajor/pluginlib/util.cxx.old	2006-06-20 02:10:08.000000000 +0200
+++ jvmfwk/plugins/sunmajor/pluginlib/util.cxx	2006-11-20 20:10:54.000000000 +0100
@@ -880,8 +880,7 @@
     
     //check if the directory path is good, that is a JRE was already recognized.
     //Then we need not detect it again
-    MapIt entry2 = find_if(mapJREs.begin(), mapJREs.end(),
-                           SameOrSubDirJREMap(sResolvedDir));
+    MapIt entry2 = mapJREs.find(sResolvedDir);
     if (entry2 != mapJREs.end())
     {
         JFW_TRACE2(OUSTR("[Java framework] sunjavaplugin"SAL_DLLEXTENSION ": ")
@@ -1019,7 +1018,7 @@
         }
     }    
     if (ret.is() == false)
-        vecBadPaths.push_back(sResolvedDir);
+        vecBadPaths.push_back(sFilePath);
     else
     {
         JFW_TRACE2(OUSTR("[Java framework] sunjavaplugin"SAL_DLLEXTENSION ": ")
