--- nas/nas-1.6.patch.old	2005-07-12 13:39:33.000000000 +0200
+++ nas/nas-1.6.patch	2005-07-13 16:09:14.000000000 +0200
@@ -155,6 +155,18 @@
   
       gcv.graphics_exposures = FALSE;
       commonMask = GCGraphicsExposures;
+*** misc/nas-1.6/clients/audio/auplay/auplay.c	2001-03-18 21:36:38.000000000 +0100
+--- misc/build/nas-1.6/clients/audio/auplay/auplay.c	2005-07-13 15:56:16.000000000 +0200
+***************
+*** 30,35 ****
+--- 30,36 ----
+  #include	<unistd.h>
+  #include	<fcntl.h>
+  #include	<stdio.h>
++ #include	<string.h>
+  #include	<signal.h>
+  #include	<audio/audiolib.h>
+  #include	<audio/soundlib.h>
 *** misc/nas-1.6/clients/audio/autool/audiotool.c	2002-07-21 03:40:34.000000000 +0200
 --- misc/build/nas-1.6/clients/audio/autool/audiotool.c	2004-09-03 12:50:52.875258728 +0200
 ***************
@@ -193,6 +205,18 @@
   #include <audio/Aos.h>			/* for string and other os stuff */
   #include <audio/Afuncs.h> 		/* for bcopy et. al. */
   #include <audio/audiolib.h>
+*** misc/nas-1.6/clients/audio/widgets/Slider.c	1999-05-08 20:47:19.000000000 +0200
+--- misc/build/nas-1.6/clients/audio/widgets/Slider.c	2005-07-13 15:59:16.000000000 +0200
+***************
+*** 27,32 ****
+--- 27,33 ----
+   * $NCDId: @(#)Slider.c,v 1.5 1994/05/27 02:37:56 greg Exp $
+   */
+  
++ #include <stdio.h>
+  #include <X11/IntrinsicP.h>
+  #include <X11/StringDefs.h>
+  #include <X11/Xaw/Label.h>
 *** misc/nas-1.6/config/NetAudio.def	2002-02-24 05:39:08.000000000 +0100
 --- misc/build/nas-1.6/config/NetAudio.def	2004-09-03 12:50:52.877258424 +0200
 ***************
@@ -449,7 +473,7 @@
   #include	<audio/wave.h>
   #include	<audio/fileutil.h>
 *** misc/nas-1.6/server/dda/voxware/auvoxware.c	2002-07-25 02:42:28.000000000 +0200
---- misc/build/nas-1.6/server/dda/voxware/auvoxware.c	2004-09-03 12:50:52.885257208 +0200
+--- misc/build/nas-1.6/server/dda/voxware/auvoxware.c	2005-07-13 14:40:28.000000000 +0200
 ***************
 *** 133,139 ****
   
@@ -459,10 +483,11 @@
   #include <getopt.h>
   #endif
   #include <sys/types.h>
---- 133,139 ----
+--- 133,140 ----
   
   #include <stdio.h>
   #include <stdlib.h>
+! #include <unistd.h>
 ! #if !defined(SVR4) && !defined(__FreeBSD__)
   #include <getopt.h>
   #endif
@@ -485,7 +510,7 @@
   #endif
   
   #include <audio/audio.h>
---- 171,181 ----
+--- 172,182 ----
   #include <sys/param.h>
   #include <assert.h>
   
@@ -499,7 +524,7 @@
   #include <audio/audio.h>
 ***************
 *** 659,665 ****
---- 654,664 ----
+--- 655,665 ----
       if(sndStatOut.fd == -1)
       {
          while ((sndStatOut.fd = open(sndStatOut.device, 
@@ -513,7 +538,7 @@
              osLogMsg("openDevice: waiting on output device\n");
 ***************
 *** 1310,1315 ****
---- 1309,1319 ----
+--- 1310,1320 ----
   /*
    * Setup soundcard at maximum audio quality.
    */
@@ -527,7 +552,7 @@
   {
 ***************
 *** 1472,1478 ****
---- 1476,1486 ----
+--- 1477,1487 ----
   		   sndStatOut.device, sndStatOut.howToOpen);
   	
   	if ((fd = open(sndStatOut.device, 
@@ -539,6 +564,44 @@
   	  {
   	    UNIDENTMSG;
   	    return AuFalse;
+*** misc/nas-1.6/server/dda/voxware/config.c	2002-07-12 06:44:16.000000000 +0200
+--- misc/build/nas-1.6/server/dda/voxware/config.c	2005-07-13 15:53:34.000000000 +0200
+***************
+*** 5,10 ****
+--- 5,11 ----
+   */
+  
+  #include <fcntl.h>
++ #include <string.h>
+  #include "nasconf.h"
+  #include "config.h"
+  #include "aulog.h"
+*** misc/nas-1.6/server/dia/auprocess.c	1999-09-05 04:43:12.000000000 +0200
+--- misc/build/nas-1.6/server/dia/auprocess.c	2005-07-13 16:02:35.000000000 +0200
+***************
+*** 25,30 ****
+--- 25,31 ----
+  #define _AUPROCESS_C_
+  #define OUTPUT_RANGE_CHECK
+  
++ #include <string.h>
+  #include <audio/audio.h>
+  #include <audio/Aproto.h>
+  #include "au.h"
+*** misc/nas-1.6/server/dia/auutil.c	1999-09-05 04:43:13.000000000 +0200
+--- misc/build/nas-1.6/server/dia/auutil.c	2005-07-13 14:35:26.000000000 +0200
+***************
+*** 172,180 ****
+  void
+  AuCreateResourceTypes()
+  {
+-     void            AuFreeComponent();
+-     static void     freeFlow();
+- 
+      auComponentType = CreateNewResourceType(AuFreeComponent);
+      auFlowType = CreateNewResourceType(freeFlow);
+  }
+--- 172,177 ----
 *** misc/nas-1.6/server/dia/gram.y	2002-07-10 04:28:41.000000000 +0200
 --- misc/build/nas-1.6/server/dia/gram.y	2004-09-03 12:50:52.885257208 +0200
 ***************
