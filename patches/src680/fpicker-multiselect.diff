--- /dev/null	2006-03-04 20:11:20.000000000 +0000
+++ offapi/com/sun/star/ui/dialogs/XFilePickerWorkaround.idl	2006-03-14 13:12:17.000000000 +0000
@@ -0,0 +1,75 @@
+/*************************************************************************
+ *
+ *  OpenOffice.org - a multi-platform office productivity suite
+ *
+ *  
+ *
+ *  
+ *
+ *  
+ *
+ *  The Contents of this file are made available subject to
+ *  the terms of GNU Lesser General Public License Version 2.1.
+ *
+ *
+ *    GNU Lesser General Public License Version 2.1
+ *    =============================================
+ *    Copyright 2005 by Sun Microsystems, Inc.
+ *    901 San Antonio Road, Palo Alto, CA 94303, USA
+ *
+ *    This library is free software; you can redistribute it and/or
+ *    modify it under the terms of the GNU Lesser General Public
+ *    License version 2.1, as published by the Free Software Foundation.
+ *
+ *    This library is distributed in the hope that it will be useful,
+ *    but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ *    Lesser General Public License for more details.
+ *
+ *    You should have received a copy of the GNU Lesser General Public
+ *    License along with this library; if not, write to the Free Software
+ *    Foundation, Inc., 59 Temple Place, Suite 330, Boston,
+ *    MA  02111-1307  USA
+ *
+ ************************************************************************/
+#ifndef __com_sun_star_ui_dialogs_XFilePickerWorkaround_idl__
+#define __com_sun_star_ui_dialogs_XFilePickerWorkaround_idl__
+
+#ifndef __com_sun_star_uno_XInterface_idl__
+#include <com/sun/star/uno/XInterface.idl>
+#endif
+
+//=============================================================================
+
+module com { module sun { module star { module ui { module dialogs {
+
+//=============================================================================
+/** It's an "internal" interface to solve the problems behind XFilePicker.getFiles()
+    in combination with multiselection.
+
+    This additional interface will be implemented by some dialogs only.
+    But it must be preferred if it exists and multiselection is used.
+*/
+
+interface XFilePickerWorkaround : ::com::sun::star::uno::XInterface
+{
+	//-------------------------------------------------------------------------
+	/**	Does the same then XFilePicker.getFiles() does ... excepting
+        that independend from an single/multiselection mode every item of
+        the returned list is a value containing path and file name.
+
+        This is needed because some dialogs (e.g. system dialogs) knows
+        additional features to return e.g. the results of a file search or
+        items of a recent files list. And in such case (in combination with multiselection)
+        every item of the resulting list can have another path.
+	*/
+	sequence< string > getFilesAsURIs();
+};
+
+//=============================================================================
+
+}; }; }; }; };
+
+
+#endif
+
Index: offapi/com/sun/star/ui/dialogs/makefile.mk
===================================================================
RCS file: /cvs/api/offapi/com/sun/star/ui/dialogs/makefile.mk,v
retrieving revision 1.9
diff -u -p -u -r1.9 makefile.mk
--- offapi/com/sun/star/ui/dialogs/makefile.mk	8 Sep 2005 08:41:20 -0000	1.9
+++ offapi/com/sun/star/ui/dialogs/makefile.mk	14 Mar 2006 13:46:14 -0000
@@ -63,6 +63,7 @@ IDLFILES=\
 	XFilePickerControlAccess.idl	\
 	XFilePickerListener.idl\
 	XFilePickerNotifier.idl\
+	XFilePickerWorkaround.idl\
 	XFilePreview.idl\
 	XFilterGroupManager.idl\
 	XFilterManager.idl\
