diff -rup tools.orig/inc/urlobj.hxx tools/inc/urlobj.hxx
--- tools.orig/inc/urlobj.hxx	2006-05-18 09:47:10.000000000 +0200
+++ tools/inc/urlobj.hxx	2006-05-18 09:47:18.000000000 +0200
@@ -105,6 +105,7 @@ namespace com { namespace sun { namespac
 #define INET_DB_SCHEME "db:"
 #define INET_BUGID_SCHEME "bugid:"
 #define INET_TELNET_SCHEME "telnet://"
+#define INET_SAMBA_SCHEME "smb://"
 
 #define URL_PREFIX_PRIV_SOFFICE "private:"
 enum
@@ -162,8 +163,9 @@ enum INetProtocol
     INET_PROT_TELNET = 28,
     INET_PROT_VND_SUN_STAR_EXPAND = 29,
     INET_PROT_VND_SUN_STAR_TDOC = 30,
-    INET_PROT_GENERIC = 31,
-	INET_PROT_END = 32
+	INET_PROT_SAMBA = 31,
+    INET_PROT_GENERIC = 32,
+	INET_PROT_END = 33
 };
 
 //============================================================================
diff -rup tools.orig/source/fsys/urlobj.cxx tools/source/fsys/urlobj.cxx
--- tools.orig/source/fsys/urlobj.cxx	2006-05-18 09:47:10.000000000 +0200
+++ tools/source/fsys/urlobj.cxx	2006-05-18 09:47:18.000000000 +0200
@@ -288,6 +288,8 @@ using namespace com::sun;
    vnd-sun-star-tdoc-url = "VND.SUN.STAR.TDOC:/" segment *("/" segment)
    segment = *pchar
 
+   ; private (http://ubiqx.org/cifs/Appendix-D.html)
+   samba-url = smb://[[[authdomain;]user@]host[:port][/share[/path][/name]]][?context]
 
    ; private
    unknown-url = scheme ":" 1*uric
@@ -452,6 +454,8 @@ static INetURLObject::SchemeInfo const a
 		  false, false, false, false, false },
         { "vnd.sun.star.tdoc", "vnd.sun.star.tdoc:", 0, false, false, false,
           false, false, false, true, false },
+		{ "smb", "smb://", 139, true, true, false, true, true, true, true,
+		  false },
         { "", "", 0, false, false, false, false, false, false, false, false } };
 
 // static
@@ -2086,6 +2090,7 @@ INetURLObject::getPrefix(sal_Unicode con
 			  INET_PROT_PRIV_SOFFICE, PrefixInfo::INTERNAL },
 			{ "slot:", "staroffice.slot:", INET_PROT_SLOT,
 			  PrefixInfo::INTERNAL },
+			{ "smb:", 0, INET_PROT_SAMBA, PrefixInfo::OFFICIAL },
 			{ "staroffice.component:", ".component:", INET_PROT_COMPONENT,
 			  PrefixInfo::EXTERNAL },
 			{ "staroffice.db:", "db:", INET_PROT_DB, PrefixInfo::EXTERNAL },
@@ -2472,6 +2477,7 @@ bool INetURLObject::parsePath(INetProtoc
 			return false;
 
 		case INET_PROT_FTP:
+		case INET_PROT_SAMBA:
 		case INET_PROT_IMAP:
 			if (pPos < pEnd && *pPos != '/')
 				return false;
