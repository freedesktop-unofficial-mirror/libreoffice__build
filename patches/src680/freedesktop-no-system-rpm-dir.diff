? freedesktop-buildfix.diff
Index: desktop/freedesktop/makefile.mk
===================================================================
RCS file: /cvs/gsl/sysui/desktop/freedesktop/makefile.mk,v
retrieving revision 1.2
diff -u -u -r1.2 makefile.mk
--- desktop/freedesktop/makefile.mk	8 Mar 2005 15:34:15 -0000	1.2
+++ desktop/freedesktop/makefile.mk	12 Mar 2005 18:26:55 -0000
@@ -90,6 +90,7 @@
 	
 PACKAGE_RPM :
 	@$(MKDIRHIER) $(MISC)$/$(TARGET)
-	@$(RPM) --define "basedir $(shell pwd)" --define "unixfilename $(UNIXFILENAME)" --define "version $(PKGVERSION)" --define "release $(PKGREV)" --define "_rpmdir $(RPMDIR)" -bb freedesktop-menus.spec --define "source $(shell cd $(MISC)$/redhat; pwd)" --define "unique $(shell echo $$$$)" 
+	@$(MKDIRHIER) $(MISC)$/$(TARGET)$/BUILD
+	@$(RPM) --define "basedir $(shell pwd)" --define "unixfilename $(UNIXFILENAME)" --define "version $(PKGVERSION)" --define "release $(PKGREV)" --define "_rpmdir $(RPMDIR)" -bb freedesktop-menus.spec --define "source $(shell cd $(MISC)$/redhat; pwd)" --define "unique $(shell echo $$$$)" --define "_builddir $(shell $(MISC)$/$(TARGET)/BUILD; pwd)" 
     
 .ENDIF
