Index: vcl/unx/gtk/gdi/salnativewidgets-gtk.cxx
===================================================================
RCS file: /cvs/gsl/vcl/unx/gtk/gdi/salnativewidgets-gtk.cxx,v
retrieving revision 1.14
diff -u -p -u -r1.14 salnativewidgets-gtk.cxx
--- vcl/unx/gtk/gdi/salnativewidgets-gtk.cxx
+++ vcl/unx/gtk/gdi/salnativewidgets-gtk.cxx
@@ -392,10 +393,15 @@ void GtkData::initNWF( void )
     pSVData->maNWFData.mbDockingAreaSeparateTB = true;
     
     if( SalGetDesktopEnvironment().equalsAscii( "KDE" ) )
-        // KDE 3.3 invented a bug in the qt<->gtk theme engine
-        // that makes direct rendering impossible: they totally
-        // ignore the clip rectangle passed to the paint methods
-        GtkSalGraphics::bNeedPixmapPaint = true;
+	{
+		if( g_type_from_name( "QtEngineStyle" ) )
+		{
+			// KDE 3.3 invented a bug in the qt<->gtk theme engine
+			// that makes direct rendering impossible: they totally
+			// ignore the clip rectangle passed to the paint methods
+			GtkSalGraphics::bNeedPixmapPaint = true;
+		}
+	}
     
     #if OSL_DEBUG_LEVEL > 1
     fprintf( stderr, "GtkPlugin: using %s NWF\n",
