--- canvas/source/factory/cf_service.cxx	2005-04-18 11:08:12 +02:00
+++ canvas/source/factory/cf_service.cxx	2005-06-10 16:13:06 +02:00
@@ -198,12 +198,13 @@
     // append the usual preferred ones:
     sal_Int32 pos = m_services.getLength();
 #if defined WNT
-    m_services.realloc( pos + 3 );
+    m_services.realloc( pos + 4 );
     m_services[ pos++ ] = OUSTR("com.sun.star.rendering.DXCanvas");
 #else
-    m_services.realloc( pos + 2 );
+    m_services.realloc( pos + 3 );
 #endif
     m_services[ pos++ ] = OUSTR("com.sun.star.rendering.JavaCanvas");
+    m_services[ pos++ ] = OUSTR("com.sun.star.rendering.CairoCanvas");
     m_services[ pos   ] = OUSTR("com.sun.star.rendering.VCLCanvas");
 }
 
--- canvas/prj/build.lst	2005-03-30 09:34:46 +02:00
+++ canvas/prj/build.lst	2005-06-10 16:14:36 +02:00
@@ -2,5 +2,6 @@
 uc	canvas											 usr1	-	all	uc_mkout NULL
 uc	canvas\source\tools								 nmake	-	all uc_tools NULL
 uc	canvas\source\vcl								 nmake	-	all	uc_vcl uc_tools NULL
+uc	canvas\source\cairo								 nmake	-	all	uc_cairo uc_tools NULL
 uc	canvas\source\java								 nmake	-	all uc_java NULL
 uc	canvas\source\factory							 nmake	-	all uc_factory NULL
diff -ru src680-m102/canvas/prj/d.lst ooo-build/build/src680-m104/canvas/prj/d.lst
--- src680-m102/canvas/prj/d.lst	2005-03-10 12:50:05 +01:00
+++ ooo-build/build/src680-m104/canvas/prj/d.lst	2005-06-05 21:37:44 +02:00
@@ -1,4 +1,5 @@
 ..\%__SRC%\bin\canvastools*.dll %_DEST%\bin%_EXT%\canvastools*.dll
+..\%__SRC%\bin\cairocanvas*.dll %_DEST%\bin%_EXT%\cairocanvas*.dll
 ..\%__SRC%\bin\vclcanvas*.dll %_DEST%\bin%_EXT%\vclcanvas*.dll
 ..\%__SRC%\bin\directxcanvas*.dll %_DEST%\bin%_EXT%\directxcanvas*.dll
 ..\%__SRC%\bin\canvasfactory.uno.dll %_DEST%\bin%_EXT%\canvasfactory.uno.dll
