--- desktop/source/splash/makefile.mk	2007-06-11 16:03:24.000000000 +0200
+++ desktop/source/splash/makefile.mk	2007-08-10 15:09:05.000000000 +0200
@@ -86,7 +86,7 @@ $(SLO)$/splash.obj : $(INCCOM)$/introbmp
 
 .INCLUDE .IGNORE : $(MISC)$/intro_bmp_names.mk
 
-.IF "$(INTO_BITMAPS:f)"!="$(LASTTIME_INTRO_BITMAPS)"
+.IF "$(INTRO_BITMAPS:f)"!="$(LASTTIME_INTRO_BITMAPS)"
 DO_PHONY=.PHONY
 .ENDIF			# "$(INTRO_BITMAPS:f)"!="$(LASTTIME_INTRO_BITMAPS)"
 
--- desktop/unx/source/makefile.mk	2007-08-10 14:48:09.000000000 +0200
+++ desktop/unx/source/makefile.mk	2007-08-10 15:11:48.000000000 +0200
@@ -10,7 +10,6 @@ PKGCONFIG_MODULES=glib-2.0
 .INCLUDE: pkg_config.mk
 
 CFLAGS += $(PKGCONFIG_CFLAGS)
-CFLAGS += -DINTRO_BITMAP_NAMES=\"$(INTRO_BITMAP_NAMES)\"
 STDLIB=
 
 APP1TARGET = $(TARGET)
@@ -23,3 +22,15 @@ APP1STDLIBS = $(PKGCONFIG_LIBS) -lX11 -l
 # --- Targets ------------------------------------------------------
 
 .INCLUDE :	target.mk
+
+$(SLO)$/start.obj : $(INCCOM)$/introbmpnames.hxx
+
+.INCLUDE .IGNORE : $(MISC)$/intro_bmp_names.mk
+
+.IF "$(INTRO_BITMAPS:f)"!="$(LASTTIME_INTRO_BITMAPS)"
+DO_PHONY=.PHONY
+.ENDIF			# "$(INTRO_BITMAPS:f)"!="$(LASTTIME_INTRO_BITMAPS)"
+
+$(INCCOM)$/introbmpnames.hxx $(DO_PHONY):
+	echo const char INTRO_BITMAP_STRINGLIST[]=$(EMQ)"$(INTRO_BITMAPS:f:t",")$(EMQ)"$(EMQ); > $@
+	echo LASTTIME_INTRO_BITMAPS=$(INTRO_BITMAPS:f) > $(MISC)$/intro_bmp_names.mk
--- desktop/unx/source/start.c	2007-08-02 15:36:50.000000000 +0200
+++ desktop/unx/source/start.c	2007-08-10 15:15:58.000000000 +0200
@@ -49,6 +49,7 @@
 #include <rtl/digest.h>
 
 #include "splashx.h"
+#include <introbmpnames.hxx>
 
 #define PIPEDEFAULTPATH		"/tmp"
 #define PIPEALTERNATEPATH	"/var/tmp"
@@ -324,7 +325,7 @@ load_splash_image (const char *image_pat
 	int success = 0;
 	char **bitmap_names, **iter;
 
-	bitmap_names = g_strsplit (INTRO_BITMAP_NAMES, ",", 0);
+	bitmap_names = g_strsplit (INTRO_BITMAP_STRINGLIST, ",", 0);
 	path = g_strconcat (image_path, "/", NULL);
 
 	for (iter = bitmap_names; *iter != NULL && !success; ++iter)
