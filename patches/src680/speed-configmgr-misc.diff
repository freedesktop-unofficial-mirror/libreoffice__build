Index: configmgr/qa/unit/makefile.mk
===================================================================
RCS file: /cvs/util/configmgr/qa/unit/makefile.mk,v
retrieving revision 1.2
diff -u -p -u -r1.2 makefile.mk
--- configmgr/qa/unit/makefile.mk	23 Nov 2007 13:58:12 -0000	1.2
+++ configmgr/qa/unit/makefile.mk	19 Dec 2007 11:41:53 -0000
@@ -59,9 +59,8 @@ ALLTAR: test
 $(MISC)$/$(TARGET).rdb .ERRREMOVE:
     $(COPY) $(SOLARBINDIR)$/types.rdb $@
     regcomp -register -r $@ -c $(subst,$/,/ $(DLLDEST)$/configmgr2.uno$(DLLPOST))
-    regcomp -register -r $@ -c $(subst,$/,/ $(SOLARLIBDIR)/typeconverter.uno$(DLLPOST))
+    regcomp -register -r $@ -c $(subst,$/,/ $(SOLARLIBDIR)/stocservices.uno$(DLLPOST))
     regcomp -register -r $@ -c $(subst,$/,/ $(SOLARLIBDIR)/sax.uno$(DLLPOST))
-    regcomp -register -r $@ -c $(subst,$/,/ $(SOLARLIBDIR)/simplereg.uno$(DLLPOST))
     regcomp -register -r $@ -c $(subst,$/,/ $(SOLARLIBDIR)/streams.uno$(DLLPOST))
 
 test .PHONY: $(SHL1TARGETN) $(MISC)$/$(TARGET).rdb
Index: configmgr/source/backend/binaryreader.cxx
===================================================================
RCS file: /cvs/util/configmgr/source/backend/binaryreader.cxx,v
retrieving revision 1.8
diff -u -p -u -r1.8 binaryreader.cxx
--- configmgr/source/backend/binaryreader.cxx	3 Apr 2007 13:57:13 -0000	1.8
+++ configmgr/source/backend/binaryreader.cxx	19 Dec 2007 11:41:54 -0000
@@ -592,13 +592,13 @@ namespace configmgr
 		}
 		// --------------------------------------------------------------------------
 
-        inline uno::Reference<io::XDataInputStream> BinaryReader::getDataInputStream()
+        inline BinaryReader_Impl * BinaryReader::getDataInputStream()
 		{
             OSL_ENSURE(m_xDataInputStream.is(),"Binary Cache: Reader was not opened - no input stream");
 #if 0
             if (!m_xDataInputStream.is()) throw io::NotConnectedException();
 #endif
-            return m_xDataInputStream;
+            return static_cast<BinaryReader_Impl *>(m_xDataInputStream.get());
 		}
 
 		// --------------------------------------------------------------------------
Index: configmgr/source/backend/binaryreader.hxx
===================================================================
RCS file: /cvs/util/configmgr/source/backend/binaryreader.hxx,v
retrieving revision 1.6
diff -u -p -u -r1.6 binaryreader.hxx
--- configmgr/source/backend/binaryreader.hxx	8 Sep 2005 03:26:23 -0000	1.6
+++ configmgr/source/backend/binaryreader.hxx	19 Dec 2007 11:41:54 -0000
@@ -70,6 +70,7 @@ namespace configmgr
 
         typedef uno::Reference<lang::XMultiServiceFactory> MultiServiceFactory;
 		// -----------------------------------------------------------------------------
+        class BinaryReader_Impl;
 		class BinaryReader 
 		{
 			rtl::OUString m_sFileURL;
@@ -102,7 +103,7 @@ namespace configmgr
 			void read(StringList &_aValue)  SAL_THROW( (io::IOException, uno::RuntimeException) );
 
 		private:
-			inline uno::Reference<io::XDataInputStream> getDataInputStream();
+			inline BinaryReader_Impl * getDataInputStream();
 		};
 		// --------------------------------------------------------------------------
 
Index: configmgr/source/tree/cmtree.cxx
===================================================================
RCS file: /cvs/util/configmgr/source/tree/cmtree.cxx,v
retrieving revision 1.39
diff -u -p -u -r1.39 cmtree.cxx
--- configmgr/source/tree/cmtree.cxx	23 Nov 2007 14:31:21 -0000	1.39
+++ configmgr/source/tree/cmtree.cxx	19 Dec 2007 11:41:54 -0000
@@ -90,18 +90,17 @@ namespace configmgr
 
 // ------------------------ ChildListSet implementations ------------------------
     ChildListSet::ChildListSet(ChildListSet const& aSet, treeop::DeepChildCopy)
-        : m_aChildList(0)
+        : m_aChildList(aSet.m_aChildList.size())
 	{
-        for (size_t i = 0; i < aSet.m_aChildList.size(); i++)
-        {
-			m_aChildList.insert(m_aChildList.end(),
-                                aSet.m_aChildList[i]->clone().release());
-        }
+        int len = aSet.m_aChildList.size();
+        for (int i = 0; i < len; i++)
+            m_aChildList[i] = aSet.m_aChildList[i]->clone().release();
 	}
 	ChildListSet::~ChildListSet()
 	{
-        for (size_t i = 0; i < m_aChildList.size(); i++)
-            delete m_aChildList[i];
+        for (ChildList::const_iterator it = m_aChildList.begin();
+             it != m_aChildList.end(); it++)
+            delete *it;
 	}
 
 	struct ltNode
Index: configmgr/source/tree/subtree.hxx
===================================================================
RCS file: /cvs/util/configmgr/source/tree/subtree.hxx,v
retrieving revision 1.8
diff -u -p -u -r1.8 subtree.hxx
--- configmgr/source/tree/subtree.hxx	23 Nov 2007 14:33:13 -0000	1.8
+++ configmgr/source/tree/subtree.hxx	19 Dec 2007 11:41:54 -0000
@@ -100,8 +100,8 @@ namespace configmgr
 
 // Iteration support
 		virtual void forEachChild(NodeAction& anAction) const;
-		virtual void forEachChild(NodeModification& anAction);		
-
+		virtual void forEachChild(NodeModification& anAction);
+        
 		// "rtti"
 		RTTI(Subtree, ISubtree);
 	};
