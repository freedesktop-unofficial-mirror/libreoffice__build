diff -ru beanshell.orig/makefile.mk beanshell/makefile.mk
--- beanshell/makefile.mk	2005-08-08 08:42:40.000000000 +0100
+++ beanshell/makefile.mk	2005-08-08 08:43:19.000000000 +0100
@@ -70,6 +70,12 @@
 
 .INCLUDE :	settings.mk
 
+.IF "$(SYSTEM_BSH)" == "YES"
+all:
+        @echo "An already available installation of beanshell should exist on your system."
+        @echo "Therefore the version provided here does not need to be built in addition."
+.ENDIF
+
 # --- Files --------------------------------------------------------
 
 TARFILE_NAME=bsh-2.0b1-src
diff -ru config_office.orig/configure.in config_office/configure.in
--- config_office/configure.in	2005-08-08 08:34:55.000000000 +0100
+++ config_office/configure.in	2005-08-08 08:36:50.000000000 +0100
@@ -260,6 +260,9 @@
 AC_ARG_WITH(system-hsqldb,
 [  --with-system-hsqldb    Use hsqldb already on system
 ],,)
+AC_ARG_WITH(system-beanshell,
+[  --with-system-beanshell Use beanshell already on system
+],,)
 AC_ARG_WITH(system-sablot, 
 [  --with-system-sablot    Use sablot already on system
 ],,
@@ -3132,6 +3135,25 @@
 AC_SUBST(HSQLDB_JAR)
 
 dnl ===================================================================
+dnl Check for system beanshell
+dnl ===================================================================
+AC_MSG_CHECKING([which beanshell to use])
+if test -n "$with_system_beanshell" -o -n "$with_system_libs" && \
+	test "$with_system_beanshell" != "no"; then
+        AC_MSG_RESULT([external])
+        SYSTEM_BSH=YES
+        BSH_JAR=/usr/share/java/bsh.jar
+        AC_CHECK_FILE($BSH_JAR, [],
+         [AC_MSG_ERROR(bsh.jar not found.)], [])
+else
+    AC_MSG_RESULT([internal])
+    SYSTEM_BSH=NO
+    BUILD_TYPE="$BUILD_TYPE BSH"
+fi
+AC_SUBST(SYSTEM_BSH)
+AC_SUBST(BSH_JAR)
+
+dnl ===================================================================
 dnl Check for system sablot
 dnl ===================================================================
 AC_MSG_CHECKING([which sablot to use])
diff -ru config_office.orig/set_soenv.in config_office/set_soenv.in
--- config_office/set_soenv.in	2005-08-08 08:34:55.000000000 +0100
+++ config_office/set_soenv.in	2005-08-08 08:37:30.000000000 +0100
@@ -1763,6 +1763,8 @@
 ToFile( "DB_JAR",            "@DB_JAR@",           "e" );
 ToFile( "SYSTEM_HSQLDB",     "@SYSTEM_HSQLDB@",    "e" );
 ToFile( "HSQLDB_JAR",        "@HSQLDB_JAR@",       "e" );
+ToFile( "SYSTEM_BSH",        "@SYSTEM_BSH@",       "e" );
+ToFile( "BSH_JAR",           "@BSH_JAR@",          "e" );
 ToFile( "SYSTEM_SABLOT",     "@SYSTEM_SABLOT@",    "e" );
 ToFile( "SABLOT_LIBS",       "@SABLOT_LIBS@",      "e" );
 ToFile( "SYSTEM_ODBC_HEADERS","@SYSTEM_ODBC_HEADERS@","e" );
diff -ru scp2.orig/source/ooo/file_ooo.scp scp2/source/ooo/file_ooo.scp
--- scp2/source/ooo/file_ooo.scp	2005-08-08 08:45:11.000000000 +0100
+++ scp2/source/ooo/file_ooo.scp	2005-08-08 08:47:36.000000000 +0100
@@ -624,9 +624,9 @@
 #endif
 
 #ifdef SOLAR_JAVA
-
+#ifndef SYSTEM_BSH
 STD_JAR_FILE( gid_File_Jar_Bsh, bsh )
-
+#endif
 #endif
 
 #ifdef SOLAR_JAVA
diff -ru scp2.orig/source/ooo/makefile.mk scp2/source/ooo/makefile.mk
--- scp2/source/ooo/makefile.mk	2005-08-08 08:45:11.000000000 +0100
+++ scp2/source/ooo/makefile.mk	2005-08-08 08:47:53.000000000 +0100
@@ -166,6 +166,10 @@
 SCPDEFS+=-DSYSTEM_HSQLDB
 .ENDIF
 
+.IF "$(SYSTEM_BSH)" == "YES"
+SCPDEFS+=-DSYSTEM_BSH
+.ENDIF
+
 .IF "$(SYSTEM_ICU)" == "YES"
 SCPDEFS+= -DSYSTEM_ICU
 .ENDIF
diff -ru scp2.orig/source/ooo/profileitem_ooo.scp scp2/source/ooo/profileitem_ooo.scp
--- scp2/source/ooo/profileitem_ooo.scp	2005-08-08 08:45:11.000000000 +0100
+++ scp2/source/ooo/profileitem_ooo.scp	2005-08-08 08:46:39.000000000 +0100
@@ -744,7 +744,7 @@
 #ifndef SYSTEM_HSQLDB
     Value = "${${$ORIGIN/$UNO_SETTINGS:PKG_UserUnoFile}:UNO_JAVA_CLASSPATH} ${${$ORIGIN/$UNO_SETTINGS:PKG_SharedUnoFile}:UNO_JAVA_CLASSPATH} $ORIGIN/classes/jurt.jar $ORIGIN/classes/ridl.jar $ORIGIN/classes/java_uno.jar $ORIGIN/classes/sandbox.jar $ORIGIN/classes/bsh.jar $ORIGIN/classes/classes.jar $ORIGIN/classes/commonwizards.jar $ORIGIN/classes/htmlsoff.jar $ORIGIN/classes/java_uno_accessbridge.jar $ORIGIN/classes/js.jar $ORIGIN/classes/juh.jar $ORIGIN/classes/jut.jar $ORIGIN/classes/letter.jar $ORIGIN/classes/officebean.jar $ORIGIN/classes/query.jar $ORIGIN/classes/report.jar $ORIGIN/classes/ScriptFramework.jar $ORIGIN/classes/ScriptProviderForBeanShell.jar $ORIGIN/classes/ScriptProviderForJava.jar $ORIGIN/classes/ScriptProviderForJavaScript.jar $ORIGIN/classes/tutorial.jar $ORIGIN/classes/unoil.jar $ORIGIN/classes/web.jar $ORIGIN/classes/xmerge.jar $ORIGIN/classes/XMergeBridge.jar $ORIGIN/classes/XSLTFilter.jar $ORIGIN/classes/XSLTValidate.jar $ORIGIN/classes/xt.jar $ORIGIN/classes/activation.jar $ORIGIN/classes/agenda.jar $ORIGIN/classes/aportisdoc.jar $ORIGIN/classes/avmedia.jar $ORIGIN/classes/email.jar $ORIGIN/classes/fax.jar $ORIGIN/classes/pexcel.jar $ORIGIN/classes/pocketword.jar $ORIGIN/classes/mail.jar $ORIGIN/classes/hsqldb.jar  $ORIGIN/classes/sdbc_hsqldb.jar";
 #else
-    Value = "${${$ORIGIN/$UNO_SETTINGS:PKG_UserUnoFile}:UNO_JAVA_CLASSPATH} ${${$ORIGIN/$UNO_SETTINGS:PKG_SharedUnoFile}:UNO_JAVA_CLASSPATH} $ORIGIN/classes/jurt.jar $ORIGIN/classes/ridl.jar $ORIGIN/classes/java_uno.jar $ORIGIN/classes/sandbox.jar $ORIGIN/classes/bsh.jar $ORIGIN/classes/classes.jar $ORIGIN/classes/commonwizards.jar $ORIGIN/classes/htmlsoff.jar $ORIGIN/classes/java_uno_accessbridge.jar $ORIGIN/classes/js.jar $ORIGIN/classes/juh.jar $ORIGIN/classes/jut.jar $ORIGIN/classes/letter.jar $ORIGIN/classes/officebean.jar $ORIGIN/classes/query.jar $ORIGIN/classes/report.jar $ORIGIN/classes/ScriptFramework.jar $ORIGIN/classes/ScriptProviderForBeanShell.jar $ORIGIN/classes/ScriptProviderForJava.jar $ORIGIN/classes/ScriptProviderForJavaScript.jar $ORIGIN/classes/tutorial.jar $ORIGIN/classes/unoil.jar $ORIGIN/classes/web.jar $ORIGIN/classes/xmerge.jar $ORIGIN/classes/XMergeBridge.jar $ORIGIN/classes/XSLTFilter.jar $ORIGIN/classes/XSLTValidate.jar $ORIGIN/classes/xt.jar $ORIGIN/classes/activation.jar $ORIGIN/classes/agenda.jar $ORIGIN/classes/aportisdoc.jar $ORIGIN/classes/avmedia.jar $ORIGIN/classes/email.jar $ORIGIN/classes/fax.jar $ORIGIN/classes/pexcel.jar $ORIGIN/classes/pocketword.jar $ORIGIN/classes/mail.jar file:///usr/share/java/hsqldb.jar $ORIGIN/classes/sdbc_hsqldb.jar";
+    Value = "${${$ORIGIN/$UNO_SETTINGS:PKG_UserUnoFile}:UNO_JAVA_CLASSPATH} ${${$ORIGIN/$UNO_SETTINGS:PKG_SharedUnoFile}:UNO_JAVA_CLASSPATH} $ORIGIN/classes/jurt.jar $ORIGIN/classes/ridl.jar $ORIGIN/classes/java_uno.jar $ORIGIN/classes/sandbox.jar file:///usr/share/java/bsh.jar $ORIGIN/classes/classes.jar $ORIGIN/classes/commonwizards.jar $ORIGIN/classes/htmlsoff.jar $ORIGIN/classes/java_uno_accessbridge.jar $ORIGIN/classes/js.jar $ORIGIN/classes/juh.jar $ORIGIN/classes/jut.jar $ORIGIN/classes/letter.jar $ORIGIN/classes/officebean.jar $ORIGIN/classes/query.jar $ORIGIN/classes/report.jar $ORIGIN/classes/ScriptFramework.jar $ORIGIN/classes/ScriptProviderForBeanShell.jar $ORIGIN/classes/ScriptProviderForJava.jar $ORIGIN/classes/ScriptProviderForJavaScript.jar $ORIGIN/classes/tutorial.jar $ORIGIN/classes/unoil.jar $ORIGIN/classes/web.jar $ORIGIN/classes/XFlatXml.jar $ORIGIN/classes/xmerge.jar $ORIGIN/classes/XMergeBridge.jar $ORIGIN/classes/XSLTFilter.jar $ORIGIN/classes/XSLTValidate.jar $ORIGIN/classes/xt.jar $ORIGIN/classes/activation.jar $ORIGIN/classes/agenda.jar $ORIGIN/classes/aportisdoc.jar $ORIGIN/classes/avmedia.jar $ORIGIN/classes/email.jar $ORIGIN/classes/fax.jar $ORIGIN/classes/pexcel.jar $ORIGIN/classes/pocketword.jar $ORIGIN/classes/mail.jar file:///usr/share/java/hsqldb.jar $ORIGIN/classes/sdbc_hsqldb.jar";
 #endif
 End
 
diff -ru scripting.orig/java/build.xml scripting/java/build.xml
--- scripting/java/build.xml	2005-08-08 08:52:47.000000000 +0100
+++ scripting/java/build.xml	2005-08-08 08:55:34.000000000 +0100
@@ -87,7 +87,7 @@
     <pathelement location="${solar.jar}/juh.jar"/>
     <pathelement location="${solar.jar}/java_uno.jar"/>
     <pathelement location="${solar.jar}/ridl.jar"/>
-    <pathelement location="${solar.jar}/bsh.jar"/>
+    <pathelement location="/usr/share/java/bsh.jar"/>
     <pathelement location="${solar.jar}/js.jar"/>
     <pathelement location="${jardir}"/>
   </path> 
diff -ru solenv.ori/config/ssrc680.ini solenv/config/ssrc680.ini
--- solenv/config/ssrc680.ini	2005-08-08 08:41:21.000000000 +0100
+++ solenv/config/ssrc680.ini	2005-08-08 08:41:40.000000000 +0100
@@ -113,7 +113,7 @@
 			BIG_SVX TRUE
 			BIG_GOODIES TRUE
 			BMP_WRITES_FLAG TRUE
-            BUILD_TYPE SO OOo EXT BINFILTER BITSTREAM_VERA_FONTS CURL DICTIONARIES FREETYPE JPEG LIBXML2 LIBXMLSEC MOZ NAS NEON PYTHON ZLIB SNDFILE PORTAUDIO SANE UNIXODBC X11_EXTENSIONS LIBWPD EPM QADEVOOO ODK MSFONTEXTRACT MATHMLDTD BOOST EXPAT CRASHREP BERKELEYDB SABLOT XALAN SUN HSQLDB
+            BUILD_TYPE SO OOo EXT BINFILTER BITSTREAM_VERA_FONTS CURL DICTIONARIES FREETYPE JPEG LIBXML2 LIBXMLSEC MOZ NAS NEON PYTHON ZLIB SNDFILE PORTAUDIO SANE UNIXODBC X11_EXTENSIONS LIBWPD EPM QADEVOOO ODK MATHMLDTD MSFONTEXTRACT MATHMLDTD BOOST EXPAT CRASHREP BERKELEYDB SABLOT XALAN SUN HSQLDB BSH
 			RES_ENUS TRUE
 			RES_GER TRUE
 			NO_REC_RES TRUE
