Index: solenv/inc/pstrules.mk
===================================================================
RCS file: /cvs/tools/solenv/inc/pstrules.mk,v
retrieving revision 1.25
diff -u -r1.25 pstrules.mk
--- solenv/inc/pstrules.mk	27 Mar 2003 11:48:11 -0000	1.25
+++ solenv/inc/pstrules.mk	27 May 2004 15:24:59 -0000
@@ -79,10 +79,10 @@
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ELSE
 .IF "$(COM)"=="BLC"
-	@+if exist $@ $(RM) /q $@ >& nul
+	@+if exist $@ $(RM) /q $@ >& $(NULLDEV)
 	$(CXX) @$(mktmp $(CFLAGS) $(CFLAGSCXX) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $(SVXLIGHTDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(OBJ)$/sxl_$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx)
 .ELSE
-	@+if exist $@ $(RM) /q $@ >& nul
+	@+if exist $@ $(RM) /q $@ >& $(NULLDEV)
 	$(CXX) $(CFLAGS) $(CFLAGSCXX) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $(SVXLIGHTDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(OBJ)$/sxl_$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx
 .ENDIF
 .ENDIF
@@ -102,10 +102,10 @@
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ELSE
 .IF "$(COM)"=="BLC"
-	@+if exist $@ $(RM) /q $@ >& nul
+	@+if exist $@ $(RM) /q $@ >& $(NULLDEV)
 	$(CXX) @$(mktmp $(CFLAGS) $(CFLAGSCXX) $(CFLAGSSLO) $(CDEFS) $(SVXLIGHTDEFS) $(CDEFSSLO) $(CDEFSMT) $(PCHSLOFLAGSU) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(SLO)$/sxl_$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx)
 .ELSE
-	@+if exist $@ $(RM) /q $@ >& nul
+	@+if exist $@ $(RM) /q $@ >& $(NULLDEV)
 	$(CXX) $(CFLAGS) $(CFLAGSCXX) $(CFLAGSSLO) $(CDEFS) $(SVXLIGHTDEFS) $(CDEFSSLO) $(CDEFSMT) $(PCHSLOFLAGSU) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(SLO)$/sxl_$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx
 .ENDIF
 .ENDIF
@@ -131,10 +131,10 @@
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ELSE
 .IF "$(COM)"=="BLC"
-	@+if exist $@ $(RM) /q $@ >& nul
+	@+if exist $@ $(RM) /q $@ >& $(NULLDEV)
 	$(CXX) @$(mktmp $(CFLAGS) $(CFLAGSCXX) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $($(SECOND_BUILD)CDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(OBJ)$/$(SECOND_BUILD)_$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx)
 .ELSE
-	@+if exist $@ $(RM) /q $@ >& nul
+	@+if exist $@ $(RM) /q $@ >& $(NULLDEV)
 	$(CXX) $(CFLAGS) $(CFLAGSCXX) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $($(SECOND_BUILD)CDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(OBJ)$/$(SECOND_BUILD)_$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx
 .ENDIF
 .ENDIF
@@ -179,7 +179,7 @@
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ELSE
 .IF "$(COM)"=="BLC"
-	@+if exist $@ $(RM) /q $@ >& nul
+	@+if exist $@ $(RM) /q $@ >& $(NULLDEV)
 	$(CXX) @$(mktmp $(CFLAGS) $(CFLAGSCXX) $(CFLAGSSLO) $(CDEFS) $($(SECOND_BUILD)CDEFS) $(CDEFSSLO) $(CDEFSMT) $(PCHSLOFLAGSU) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(SLO)$/$(SECOND_BUILD)_$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx)
 .ELSE
 	@+-$(RM) $@
Index: solenv/inc/rules.mk
===================================================================
RCS file: /cvs/tools/solenv/inc/rules.mk,v
retrieving revision 1.50.50.1
diff -u -r1.50.50.1 rules.mk
--- solenv/inc/rules.mk	9 Jan 2004 18:59:10 -0000	1.50.50.1
+++ solenv/inc/rules.mk	27 May 2004 15:24:59 -0000
@@ -70,7 +70,7 @@
 	$(CXX) $(CFLAGS) $(CFLAGSCXX) $(CFLAGSCXXOBJ) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ) $(OBJ)$/$*.o $(CFLAGSINCXX)$(PWD)$/$*.cxx
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ELSE
-	@+-$(RM) $@ >& nul
+	@+-$(RM) $@ >& $(NULLDEV)
 	@+$(TYPE) $(mktmp $(CXX) $(CFLAGS) $(CFLAGSCXX) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(OBJ)$/$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx )
 	@+$(ECHONL)
 .IF "$(COM)"=="GCC"
@@ -88,7 +88,7 @@
 	$(CXX) $(CFLAGS) $(CFLAGSCXX) $(CFLAGSCXXOBJ) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ) $(OBJ)$/$*.o $(CFLAGSINCXX)$(PWD)$/$*.cpp
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ELSE
-	@+-$(RM) $@ >& nul
+	@+-$(RM) $@ >& $(NULLDEV)
 	@+$(TYPE) $(mktmp $(CXX) $(CFLAGS) $(CFLAGSCXX) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(OBJ)$/$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cpp )
 	@+$(ECHONL)
 .IF "$(COM)"=="GCC"
@@ -111,7 +111,7 @@
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ENDIF
 .ELSE			# "$(GUI)"=="UNX"
-	@+-$(RM) $@ >& nul
+	@+-$(RM) $@ >& $(NULLDEV)
 	@+$(TYPE) $(mktmp $(CXX) $(CFLAGS) $(CFLAGSCXX) $(CFLAGSSLO) $(CDEFS) $(CDEFSSLO) $(CDEFSMT) $(PCHSLOFLAGSU) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(SLO)$/$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx )
 	@+$(ECHONL)
 	$(CXX) @$(mktmp $(CFLAGS) $(CFLAGSCXX) $(CFLAGSSLO) $(CDEFS) $(CDEFSSLO) $(CDEFSMT) $(PCHSLOFLAGSU) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(SLO)$/$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cxx )
@@ -129,7 +129,7 @@
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ENDIF
 .ELSE
-	@+-$(RM) $@ >& nul
+	@+-$(RM) $@ >& $(NULLDEV)
 	@+$(TYPE) $(mktmp $(CXX) $(CFLAGS) $(CFLAGSCXX) $(CFLAGSSLO) $(CDEFS) $(CDEFSSLO) $(CDEFSMT) $(PCHSLOFLAGSU) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(SLO)$/$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cpp )
 	@+$(ECHONL)
 	$(CXX) @$(mktmp $(CFLAGS) $(CFLAGSCXX) $(CFLAGSSLO) $(CDEFS) $(CDEFSSLO) $(CDEFSMT) $(PCHSLOFLAGSU) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(SLO)$/$*.obj $(CFLAGSINCXX)$(PWD)$/$*.cpp )
@@ -199,7 +199,7 @@
 	$(CC) $(CFLAGS:s/stl/dont_use_stl/) $(CFLAGSCC) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ) $(OBJ)$/$*.o $(MISCX)$/$*.c
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ELSE
-	@+-$(RM) $@ >& nul
+	@+-$(RM) $@ >& $(NULLDEV)
 	@+$(TYPE) $(mktmp $(CXX) $(CFLAGS:s/stl/dont_use_stl/) $(CFLAGSCC) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(OBJ)\$*.obj $(MISCX)$/$*.c )
 	@+$(ECHONL)
 	$(CXX) @$(mktmp $(CFLAGS:s/stl/dont_use_stl/) $(CFLAGSCC) $(CFLAGSOBJ) $(PCHOBJFLAGSU) $(CDEFS) $(CDEFSOBJ) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(OBJ)\$*.obj $(MISCX)$/$*.c )
@@ -213,7 +213,7 @@
 	$(CC) $(CFLAGS:s/stl/dont_use_stl/) $(CFLAGSCC) $(CFLAGSSLO) $(PCHSLOFLAGSU) $(CDEFS) $(CDEFSSLO) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ) $(SLO)$/$*.o $(MISCX)$/$*.c
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ELSE
-	@+-$(RM) $@ >& nul
+	@+-$(RM) $@ >& $(NULLDEV)
 	@+$(TYPE) $(mktmp $(CXX) $(CFLAGS:s/stl/dont_use_stl/) $(CFLAGSCC) $(CFLAGSSLO) $(PCHSLOFLAGSU) $(CDEFS) $(CDEFSSLO) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(SLO)\$*.obj $(MISCX)$/$*.c )
 	@+$(ECHONL)
 .IF "$(COM)"=="GCC"
@@ -231,7 +231,7 @@
 	$(CC) $(CFLAGS:s/stl/dont_use_stl/) $(CFLAGSCC) $(PCHSLOFLAGSU) $(CFLAGSSLO) $(CDEFS) $(CDEFSSLO) $(CDEFSMT) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ) $(SLO)$/$*.o $*.c
 	+if ( -e $(@:s/.obj/.o/)) $(TOUCH) $@
 .ELSE
-	@+-$(RM) $@ >& nul
+	@+-$(RM) $@ >& $(NULLDEV)
 .IF "$(COM)"=="GCC"
 	   $(CXX) $(CFLAGS:s/stl/dont_use_stl/) $(CFLAGSCC) $(PCHSLOFLAGSU) $(CFLAGSSLO) $(CDEFS) $(CDEFSSLO) $(CDEFSMT) $(CFLAGSAPPEND) $(CFLAGSOUTOBJ)$(SLO)$/$*.obj $*.c 
 .ELSE
@@ -593,7 +593,7 @@
 	   $(ASM) $(AFLAGS) -D$(COM) /Fo$(SLO)\$*.obj $*.asm
 	   +-if exist $*.err @del $*.err
 .ELSE			# "$(ASM)"=="ml"
-		@+-$(RM) $@ >& nul
+		@+-$(RM) $@ >& $(NULLDEV)
 		$(ASM) $(AFLAGS) $*.asm,$(SLO)\$*.obj;
 .ENDIF			# "$(ASM)"=="ml"
 .ENDIF			 "$(COM)"=="MSC"
@@ -607,7 +607,7 @@
 	   $(ASM) $(AFLAGS) -D$(COM) /Fo$(SLO)\$*.obj $*.asm
 	   +-if exist $*.err @del $*.err
 .ELSE			# "$(ASM)"=="ml"
-		@+if exist $@ $(RM) $@ >& nul
+		@+if exist $@ $(RM) $@ >& $(NULLDEV)
 		$(ASM) $(AFLAGS) $*.asm,$(OBJ)\$*.obj;
 .ENDIF			# "$(ASM)"=="ml"
 .ENDIF			 "$(COM)"=="MSC"
