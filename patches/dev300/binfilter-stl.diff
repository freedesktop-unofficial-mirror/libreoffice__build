From 951ca5635aaed9dbaee4511defe8137de8f092ec Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 16:58:36 +0200
Subject: [PATCH 326/878] binfilter-stl.diff

---
 binfilter/bf_svx/source/svdraw/svx_svdouno.cxx     |    2 +-
 binfilter/bf_xmloff/source/core/xmloff_nmspmap.cxx |    5 +++++
 .../bf_xmloff/source/style/xmloff_xmlnumfe.cxx     |    4 ++--
 3 files changed, 8 insertions(+), 3 deletions(-)

diff --git a/binfilter/bf_svx/source/svdraw/svx_svdouno.cxx b/binfilter/bf_svx/source/svdraw/svx_svdouno.cxx
index a54be42..420b80a 100644
--- a/binfilter/bf_svx/source/svdraw/svx_svdouno.cxx
+++ b/binfilter/bf_svx/source/svdraw/svx_svdouno.cxx
@@ -376,7 +376,7 @@ namespace binfilter {
 /*N*/         SdrViewIter aIter( this );
 /*N*/ 	    for ( SdrView* pView = aIter.FirstView(); pView; pView = aIter.NextView() )
 /*N*/         {
-/*N*/             ::std::set< SdrView* >::const_iterator aPrevPos = aPreviouslyVisible.find( pView );
+/*N*/             ::std::set< SdrView* >::iterator aPrevPos = aPreviouslyVisible.find( pView );
 /*N*/             if ( aPreviouslyVisible.end() != aPrevPos )
 /*N*/             {   // in pView, we were visible _before_ the layer change, and are
 /*N*/                 // visible _after_ the layer change, too
diff --git a/binfilter/bf_xmloff/source/core/xmloff_nmspmap.cxx b/binfilter/bf_xmloff/source/core/xmloff_nmspmap.cxx
index 9b3d9c6..c927eb5 100644
--- a/binfilter/bf_xmloff/source/core/xmloff_nmspmap.cxx
+++ b/binfilter/bf_xmloff/source/core/xmloff_nmspmap.cxx
@@ -88,7 +88,12 @@ SvXMLNamespaceMap::~SvXMLNamespaceMap()
 
 int SvXMLNamespaceMap::operator ==( const SvXMLNamespaceMap& rCmp ) const
 {
+#if STLPORT_VERSION >= 500
+//FIXME: STLport5 alternative map compare?
+    return static_cast < int > (aNameHash.size() == rCmp.aNameHash.size());
+#else
     return static_cast < int > (aNameHash == rCmp.aNameHash);
+#endif
 }
 
 sal_uInt16 SvXMLNamespaceMap::_Add( const OUString& rPrefix, const OUString &rName, sal_uInt16 nKey )
diff --git a/binfilter/bf_xmloff/source/style/xmloff_xmlnumfe.cxx b/binfilter/bf_xmloff/source/style/xmloff_xmlnumfe.cxx
index 7cc74fc..036baa4 100644
--- a/binfilter/bf_xmloff/source/style/xmloff_xmlnumfe.cxx
+++ b/binfilter/bf_xmloff/source/style/xmloff_xmlnumfe.cxx
@@ -149,13 +149,13 @@ void SvXMLNumUsedList_Impl::SetUsed( sal_uInt32 nKey )
 
 sal_Bool SvXMLNumUsedList_Impl::IsUsed( sal_uInt32 nKey ) const
 {
-    SvXMLuInt32Set::iterator aItr = aUsed.find(nKey);
+    SvXMLuInt32Set::const_iterator aItr = aUsed.find(nKey);
     return (aItr != aUsed.end());
 }
 
 sal_Bool SvXMLNumUsedList_Impl::IsWasUsed( sal_uInt32 nKey ) const
 {
-    SvXMLuInt32Set::iterator aItr = aWasUsed.find(nKey);
+    SvXMLuInt32Set::const_iterator aItr = aWasUsed.find(nKey);
     return (aItr != aWasUsed.end());
 }
 
-- 
1.7.0.1

