From f9b0ee97456cfadc9f1abdd560082b79769388c1 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 16:53:18 +0200
Subject: [PATCH 032/768] fix-gtk-a11y.diff

---
 vcl/unx/source/plugadapt/salplug.cxx |   12 ------------
 1 files changed, 0 insertions(+), 12 deletions(-)

diff --git vcl/unx/source/plugadapt/salplug.cxx vcl/unx/source/plugadapt/salplug.cxx
index be7eb28..b328f8c 100644
--- vcl/unx/source/plugadapt/salplug.cxx
+++ vcl/unx/source/plugadapt/salplug.cxx
@@ -87,18 +87,6 @@ static SalInstance* tryInstance( const OUString& rModuleBase )
             if( pInst )
             {
                 pCloseModule = aMod;
-
-                /*
-                 * Recent GTK+ versions load their modules with RTLD_LOCAL, so we can 
-                 * not access the 'gnome_accessibility_module_shutdown' anymore. 
-                 * So make sure libgtk+ & co are still mapped into memory when 
-                 * atk-bridge's atexit handler gets called.
-                 */
-                if( rModuleBase.equalsAscii("gtk") )
-                {
-                    pCloseModule = NULL;
-                }
-                
                 GetSalData()->m_pPlugin = aMod;
             }
             else
-- 
1.7.0.1

