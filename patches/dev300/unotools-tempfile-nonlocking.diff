From 49192a74e9172a5a3ff055281b040d0a14b1ab73 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:07:23 +0200
Subject: [PATCH 670/768] unotools-tempfile-nonlocking.diff

---
 unotools/source/ucbhelper/tempfile.cxx |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git unotools/source/ucbhelper/tempfile.cxx unotools/source/ucbhelper/tempfile.cxx
index 530892a..b8ae1e7 100644
--- unotools/source/ucbhelper/tempfile.cxx
+++ unotools/source/ucbhelper/tempfile.cxx
@@ -306,7 +306,7 @@ void lcl_createName(TempFile_Impl& _rImpl,const String& rLeadingChars,sal_Bool _
 #ifdef UNX
 umask(old_mode);
 #endif
-            if ( err == FileBase::E_None )
+            if ( err == FileBase::E_None || err == FileBase::E_NOLCK )
             {
                 _rImpl.aName = aTmp;
                 aFile.close();
-- 
1.7.0.1

