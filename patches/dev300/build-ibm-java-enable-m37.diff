--- config_office/configure.in.old	2008-08-21 14:12:56.000000000 +0200
+++ config_office/configure.in	2008-08-21 14:32:41.747947642 +0200
@@ -2791,25 +2791,24 @@ if test "$SOLAR_JAVA" != ""; then
 #        JAVA_HOME=$with_jdk_home
 #
       elif test `$JAVAINTERPRETER -version 2>&1 | awk '{ print }' | grep -c "IBM"` -gt 0; then
-         AC_MSG_ERROR([No valid check available. Please check the block for your desired java in configure.in])
-#        JDK=ibm
-#
-#        dnl IBM JDK specific tests
-#        _jdk=`$JAVAINTERPRETER -version 2>&1 | $AWK -F'"' '{ print \$2 }' | $SED s/[[-A-Za-z]]*//`
-#        _jdk_ver=`echo "$_jdk" | $AWK -F. '{ print (($1 * 100) + $2) * 100 + $3;}'`
-#   
-#        if test "$_jdk_ver" -lt 10301; then
-#             AC_MSG_ERROR([IBM JDK is too old, you need at least 1.3.1])
-#        fi
-#
-#        AC_MSG_RESULT([checked (IBM JDK $_jdk)])
-#
-#        if test "$with_jdk_home" = ""; then
-#             AC_MSG_ERROR([In order to successfully build OpenOffice.org using the IBM JDK,
-#you must use the "--with-jdk-home" configure option explicitly])
-#        fi
-#
-#        JAVA_HOME=$with_jdk_home
+        JDK=ibm
+
+        dnl IBM JDK specific tests
+        _jdk=`$JAVAINTERPRETER -version 2>&1 | $AWK -F'"' '{ print \$2 }' | $SED s/[[-A-Za-z]]*//`
+        _jdk_ver=`echo "$_jdk" | $AWK -F. '{ print (($1 * 100) + $2) * 100 + $3;}'`
+   
+        if test "$_jdk_ver" -lt 10600; then
+             AC_MSG_ERROR([IBM JDK is too old, you need at least 1.6])
+        fi
+
+        AC_MSG_RESULT([checked (IBM JDK $_jdk)])
+
+        if test "$with_jdk_home" = ""; then
+             AC_MSG_ERROR([In order to successfully build OpenOffice.org using the IBM JDK,
+you must use the "--with-jdk-home" configure option explicitly])
+        fi
+
+        JAVA_HOME=$with_jdk_home
 	
       else	
         JDK=sun
--- config_office/set_soenv.in.old	2008-08-22 10:33:51.000000000 +0200
+++ config_office/set_soenv.in	2008-08-22 20:41:23.990263078 +0200
@@ -473,17 +473,17 @@ elsif ( $platform =~ m/linux/ ) 
             $JRETOOLKITDIR  = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."ppc".$ds."client";
             $JRETHREADDIR   = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."ppc".$ds."native_threads"; }
          elsif ($JDK =~ m/^[Ii][Bb][Mm]/)
-         {  $JRELIBDIR     = '$JAVA_HOME'.$ds."jre".$ds."bin";
-            $JRETOOLKITDIR = '$JAVA_HOME'.$ds."jre".$ds."bin".$ds."classic";
-            $JRETHREADDIR  = '$JAVA_HOME'.$ds."jre".$ds."bin";
-            $JREEXTRALIBDIR = '$JAVA_HOME'.$ds."jre".$ds."bin".$ds."xawt";
+         {  $JRELIBDIR     = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."ppc";
+            $JRETOOLKITDIR = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."ppc".$ds."classic";
+            $JRETHREADDIR  = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."ppc";
+            $JREEXTRALIBDIR = '$JAVA_HOME'.$ds."jre".$ds."lib".$ds."ppc".$ds."xawt";
          }
       }
 
       $CPU            = "P";
 
-# the "standard" ppc j2sdk is IBMJava2-ppc-142
-      if ( $JDK ne "gcj" ) {
+      # fallback
+      if ( "$JRELIBDIR" eq "" ) {
           $JRELIBDIR      = '$JAVA_HOME'.$ds."jre".$ds."bin";
           $JRETOOLKITDIR  = '$JAVA_HOME'.$ds."jre".$ds."bin".$ds."classic";
           $JRETHREADDIR   = '$JAVA_HOME'.$ds."jre".$ds."bin";
