From 8f229c48aa72f7568f46cd52911c97318cbacfd0 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 16:54:29 +0200
Subject: [PATCH 108/878] jvmfwk-modified-javavendors-xml.diff

---
 jvmfwk/plugins/sunmajor/javaenvsetup/javaldx.cxx |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

diff --git a/jvmfwk/plugins/sunmajor/javaenvsetup/javaldx.cxx b/jvmfwk/plugins/sunmajor/javaenvsetup/javaldx.cxx
index 8ba007e..b113d2e 100644
--- a/jvmfwk/plugins/sunmajor/javaenvsetup/javaldx.cxx
+++ b/jvmfwk/plugins/sunmajor/javaenvsetup/javaldx.cxx
@@ -81,12 +81,7 @@ SAL_IMPLEMENT_MAIN_WITH_ARGS(argc, argv)
     JavaInfo * pInfo = NULL;
     errcode = jfw_getSelectedJRE( & pInfo);
 
-    if (errcode == JFW_E_INVALID_SETTINGS)
-    {
-        fprintf(stderr,"javaldx failed. User must select a JRE from options dialog!");
-        return -1;
-    }
-    else if (errcode != JFW_E_NONE)
+    if (errcode != JFW_E_NONE && errcode != JFW_E_INVALID_SETTINGS)
     {
         fprintf(stderr,"javaldx failed! \n");
         return -1;
-- 
1.7.0.1

