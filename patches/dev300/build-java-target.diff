--- apache-commons/java/codec/makefile.mk.javatarget~	2008-04-11 13:13:47.000000000 +0200
+++ apache-commons/java/codec/makefile.mk	2008-07-07 20:04:44.670095301 +0200
@@ -61,7 +61,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) $(ANT_JAVA_VER_FLAGS) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
--- apache-commons/java/httpclient/makefile.mk.javatarget~	2008-04-11 13:14:05.000000000 +0200
+++ apache-commons/java/httpclient/makefile.mk	2008-07-07 20:04:44.671097733 +0200
@@ -50,7 +50,7 @@ TARFILE_NAME=commons-httpclient-3.1-src
 
 TARFILE_ROOTDIR=commons-httpclient-3.1
 
-#PATCH_FILE_NAME=patches$/httpclient.patch
+PATCH_FILE_NAME=patches$/httpclient.patch
 
 #CONVERTFILES=build.xml
 				
@@ -64,7 +64,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
 .ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)"  -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
+BUILD_ACTION=$(ANT) $(ANT_JAVA_VER_FLAGS) -Dbuild.label="build-$(RSCREVISION)"  -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
--- apache-commons/patches/codec.patch.javatarget~	2008-02-04 10:02:07.000000000 +0100
+++ apache-commons/patches/codec.patch	2008-07-07 20:04:44.670095301 +0200
@@ -1,6 +1,15 @@
 --- misc/build/commons-codec-1.3/build.xml-old	2008-01-31 15:28:58.000000000 +0100
 +++ misc/build/commons-codec-1.3/build.xml	2008-01-31 15:29:21.000000000 +0100
-@@ -90,14 +90,12 @@
+@@ -54,7 +54,7 @@ limitations under the License.
+         </copy>
+     </target>
+     <target name="compile" depends="static" description="Compile shareable components">
+-        <javac srcdir="${source.home}" destdir="${build.home}/classes" debug="${compile.debug}" deprecation="${compile.deprecation}" optimize="${compile.optimize}">
++        <javac srcdir="${source.home}" destdir="${build.home}/classes" debug="${compile.debug}" deprecation="${compile.deprecation}" source="${java.source.ver}" target="${java.target.ver}" optimize="${compile.optimize}">
+             <classpath refid="compile.classpath"/>
+         </javac>
+         <copy todir="${build.home}/classes" filtering="on">
+@@ -90,14 +90,12 @@ limitations under the License.
      </target>
      <target name="dist" depends="compile,javadoc" description="Create binary distribution">
          <mkdir dir="${dist.home}"/>
--- apache-commons/patches/httpclient.patch.javatarget~	2008-07-07 20:04:44.672095625 +0200
+++ apache-commons/patches/httpclient.patch	2008-07-07 20:04:44.672095625 +0200
@@ -0,0 +1,29 @@
+--- misc/build/commons-httpclient-3.1/build.xml.old	2007-08-18 11:02:14.000000000 +0200
++++ misc/build/commons-httpclient-3.1/build.xml	2008-07-02 15:51:48.000000000 +0200
+@@ -181,6 +181,8 @@
+            destdir     ="${build.home}/classes"
+            debug       ="${compile.debug}"
+            deprecation ="${compile.deprecation}"
++	   source      ="${java.source.ver}" 
++	   target      ="${java.target.ver}" 
+            optimize    ="${compile.optimize}">
+       <classpath refid="compile.classpath"/>
+     </javac>
+@@ -188,6 +190,8 @@
+            destdir     ="${build.home}/examples"
+            debug       ="${compile.debug}"
+            deprecation ="${compile.deprecation}"
++	   source      ="${java.source.ver}" 
++	   target      ="${java.target.ver}" 
+            optimize    ="${compile.optimize}">
+       <classpath refid="compile.classpath"/>
+     </javac>
+@@ -199,6 +203,8 @@
+            destdir     ="${build.home}/tests"
+            debug       ="${compile.debug}"
+            deprecation ="${compile.deprecation}"
++	   source      ="${java.source.ver}" 
++	   target      ="${java.target.ver}" 
+            optimize    ="${compile.optimize}">
+       <classpath refid="test.classpath"/>
+     </javac>
--- beanshell/bsh-2.0b1-src.patch.javatarget~	2008-04-11 09:44:49.000000000 +0200
+++ beanshell/bsh-2.0b1-src.patch	2008-07-07 20:04:44.673096241 +0200
@@ -19,16 +19,25 @@
  	<!-- Uncomment to build without the ASM class generator code.
  	<property name="exclude-classgen" 
  		value="bsh/org/objectweb/asm/**,bsh/ClassGeneratorImpl.java,bsh/ClassGeneratorUtil.java,bsh/DelayedEvalBshMethod.java"/>
-@@ -80,6 +83,9 @@
- 	<property name="exclude-servlet" 
+@@ -81,6 +84,9 @@
  		value="bsh/servlet/*"/>
  	-->
-+
+ 
 +	<property name="exclude-servlet" 
 +		value="bsh/servlet/*"/>
- 
++
  	<!-- Legacy excludes.  Comment this *out* to build these legacy items -->
  	<property name="legacy-excludes" 
+ 		value="bsh/JThis.java"/>
+@@ -165,6 +171,8 @@
+ 			deprecation="${deprecation}"
+ 			optimize="on"
+ 			debug="off"
++			source="${java.source.ver}"
++			target="${java.target.ver}"
+ 			includes="**/*.java"
+ 			excludes="${excludes},**/bak/**"
+ 		>
 --- misc/BeanShell/makefile.mk	Fri Mar 28 15:56:40 2008
 +++ misc/build/BeanShell/makefile.mk	Fri Mar 28 15:56:06 2008
 @@ -1 +1,39 @@
--- config_office/configure.in.javatarget~	2008-07-07 19:58:06.108847292 +0200
+++ config_office/configure.in	2008-07-07 20:04:44.662095262 +0200
@@ -559,6 +559,17 @@ AC_ARG_WITH(java,
                           no support for Java components, applets, accessibility
                           or XML filters. 
 ], if test "$withval" = "yes"; then WITH_JAVA=java; else WITH_JAVA=$withval; fi, WITH_JAVA=java)
+AC_ARG_WITH(java_target_version,
+[  --with-java-target-version   Generate class files that will work on JVMs with
+			  the specified version. For example, use
+			  --with-java-target-version=1.4 to make sure that the
+			  application will work with JVM 1.4 even when compiled
+			  with JDK 1.5.
+			  
+			  This option is ignored when you compile with gcj/gij.
+ 
+                          Usage: --with-java-target-version=<jvm version>
+],,)
 AC_ARG_ENABLE(gcjaot,
 [  --enable-gcjaot         Build with[[out]] using Ahead of Time java compilation
                           support to speed up buildsi by compiling the jars also
@@ -2730,6 +2741,44 @@ else
    JAVA_HOME=NO_JAVA_HOME ; export JAVA_HOME
 fi
 
+_java_target_ver="1.4"
+dnl ===================================================================
+dnl Check for target java bytecode version
+dnl ===================================================================
+if test "$SOLAR_JAVA" != ""; then
+    AC_MSG_CHECKING([for target java bytecode version])
+    if test "$JDK" = "gcj" -o "$JDK" = "kaffe"; then
+	AC_MSG_RESULT([default by $JDK])
+	if test -n "$with_java_target_version" -a "$with_java_target_version" != "no" ; then
+	    AC_MSG_WARN([Value defined by --with-java-target-version is ignored!])
+	fi
+    else
+	if test -n "$with_java_target_version" -a "$with_java_target_version" != "no" ; then
+	    _java_target_ver="$with_java_target_version"
+	    AC_MSG_RESULT([$_java_target_ver])
+	elif test $_jdk_ver -gt 10000 ; then
+	    _java_target_ver=`echo "$_jdk_ver" | $AWK '{ maj=substr($0,1,1); min=substr($0,2,2); print int(maj)"."int(min) }'`
+	    AC_MSG_RESULT([$_java_target_ver])
+	else
+    	    AC_MSG_ERROR([Unable to guess java bytecode version from java version!])
+	fi
+    fi
+
+    if ! test -z "$_java_target_ver" -o \
+	    "$_java_target_ver" = "1.1" -o \
+            "$_java_target_ver" = "1.2" -o \
+	    "$_java_target_ver" = "1.3" -o \
+	    "$_java_target_ver" = "1.4" -o \
+	    "$_java_target_ver" = "1.5" -o \
+	    "$_java_target_ver" = "1.6" -o \
+	    "$_java_target_ver" = "5" ; then
+    	AC_MSG_ERROR([$_java_target_ver is not supported java bytecode version!])
+    fi
+
+    JAVA_SOURCE_VER="$_java_target_ver"
+    JAVA_TARGET_VER="$_java_target_ver"
+fi
+
 dnl ===================================================================
 dnl Checks for javac
 dnl ===================================================================
@@ -2788,6 +2837,17 @@ if test "$SOLAR_JAVA" != ""; then
 fi
 AC_SUBST(JAVACISGCJ)
 
+JAVACISKAFFE=""
+dnl ===================================================================
+dnl Checks that javac is kaffe
+dnl ===================================================================
+if test "$SOLAR_JAVA" != ""; then
+    if test `$JAVACOMPILER -version 2>&1 | grep -c "Kaffe"` -gt 0; then
+        JAVACISKAFFE="yes"
+    fi
+fi
+AC_SUBST(JAVACISKAFFE)
+
 dnl ===================================================================
 dnl Checks for javadoc
 dnl ===================================================================
@@ -2998,6 +3058,8 @@ fi
 
 AC_SUBST(JAVA_HOME)
 AC_SUBST(JDK)
+AC_SUBST(JAVA_SOURCE_VER)
+AC_SUBST(JAVA_TARGET_VER)
 AC_SUBST(JAVAINTERPRETER)
 AC_SUBST(JAVACOMPILER)
 AC_SUBST(JAVAAOTCOMPILER)
--- config_office/set_soenv.in.javatarget~	2008-07-07 19:57:41.109846862 +0200
+++ config_office/set_soenv.in	2008-07-07 20:04:44.665095643 +0200
@@ -1842,6 +1842,7 @@ ToFile( "DMAKEROOT",         $DMAKEROOT,
 if ( $JDK ne "gcj" ) {
    ToFile( "CLASSPATH",         $CLASSPATH,         "e" );
    ToFile( "XCLASSPATH",        $XCLASSPATH,        "e" );
+   ToFile( "JAVACISKAFFE",     '@JAVACISKAFFE@',    "e" );
 }
 else {
    ToFile( "JAVACISGCJ",       '@JAVACISGCJ@',      "e" );
@@ -1852,6 +1853,8 @@ if ( $GUI eq "UNX" ) {
 if ( '@JDK@' ne '' )
 { 
    ToFile( "JDK",             "@JDK@",           "e" );
+   ToFile( "JAVA_SOURCE_VER", "@JAVA_SOURCE_VER@","e" );
+   ToFile( "JAVA_TARGET_VER", "@JAVA_TARGET_VER@","e" );
    ToFile( "JAVAINTERPRETER", PathFormat("@JAVAINTERPRETER@"), "e" );
    ToFile( "JAVACOMPILER",    PathFormat("@JAVACOMPILER@"), "e" );
    ToFile( "JAVAAOTCOMPILER", PathFormat("@JAVAAOTCOMPILER@"), "e" );
--- hsqldb/makefile.mk.javatarget~	2008-05-14 11:31:19.000000000 +0200
+++ hsqldb/makefile.mk	2008-07-07 20:04:44.674097276 +0200
@@ -34,18 +34,12 @@ PRJ=.
 PRJNAME=hsqldb
 TARGET=so_hsqldb
 
+.IF "$(SOLAR_JAVA)" != ""
 # --- Settings -----------------------------------------------------
 
 .INCLUDE :	settings.mk
-
-# override buildfile
-ANT_BUILDFILE=build$/build.xml
-
-.INCLUDE : antsettings.mk
-
 .INCLUDE :  version.mk
 
-.IF "$(SOLAR_JAVA)" != ""
 # --- Files --------------------------------------------------------
 
 TARFILE_NAME=hsqldb_$(HSQLDB_VERSION)
@@ -56,28 +50,24 @@ CONVERTFILES=build$/build.xml
 
 PATCH_FILE_NAME=patches$/accumulated_patches.patch
 
+ADDITIONAL_FILES=makefile.mk
+
 # ADDITIONAL_FILES=   src$/org$/hsqldb$/Collation.java \
 #                     src$/org$/hsqldb$/TxManager.java \
 #                     src$/org$/hsqldb$/lib$/LongKeyIntValueHashMap.java \
 #                     src$/org$/hsqldb$/persist$/ScaledRAFileInJar.java \
 #                     src$/org$/hsqldb$/test$/TestCollation.java
 
-.IF "$(JAVACISGCJ)"=="yes"
-JAVA_HOME=
-.EXPORT : JAVA_HOME
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
-.ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
-.ENDIF
-
-.ENDIF # $(SOLAR_JAVA)!= ""
+BUILD_ACTION=dmake $(MFLAGS) $(CALLMACROS)
 
 # --- Targets ------------------------------------------------------
 
 .INCLUDE : set_ext.mk
 .INCLUDE : target.mk
 
-.IF "$(SOLAR_JAVA)" != ""
 .INCLUDE : tg_ext.mk
-.ENDIF
 
+.ELSE
+@all:
+	@echo java disabled
+.ENDIF
--- hsqldb/patches/accumulated_patches.patch.javatarget~	2008-05-14 11:31:32.000000000 +0200
+++ hsqldb/patches/accumulated_patches.patch	2008-07-07 20:04:44.676095644 +0200
@@ -1315,3 +1315,176 @@ Files misc/hsqldb/lib/hsqldb.jar and mis
   
                               return false;
                           }
+diff -crN misc/hsqldb/makefile.mk misc/build/hsqldb/makefile.mk
+*** misc/hsqldb/makefile.mk	2006-11-28 12:45:49.000000000 +0100
+--- misc/build/hsqldb/makefile.mk	2006-11-28 12:31:12.000000000 +0100
+***************
+*** 1 ****
+! dummy
+--- 1,47 ----
+! #*************************************************************************
+! #
+! #   OpenOffice.org - a multi-platform office productivity suite
+! #
+! #   $RCSfile$
+! #
+! #   $Revision$
+! #
+! #   last change: $Author$ $Date$
+! #
+! #   The Contents of this file are made available subject to
+! #   the terms of GNU Lesser General Public License Version 2.1.
+! #
+! #
+! #     GNU Lesser General Public License Version 2.1
+! #     =============================================
+! #     Copyright 2005 by Sun Microsystems, Inc.
+! #     901 San Antonio Road, Palo Alto, CA 94303, USA
+! #
+! #     This library is free software; you can redistribute it and/or
+! #     modify it under the terms of the GNU Lesser General Public
+! #     License version 2.1, as published by the Free Software Foundation.
+! #
+! #     This library is distributed in the hope that it will be useful,
+! #     but WITHOUT ANY WARRANTY; without even the implied warranty of
+! #     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+! #     Lesser General Public License for more details.
+! #
+! #     You should have received a copy of the GNU Lesser General Public
+! #     License along with this library; if not, write to the Free Software
+! #     Foundation, Inc., 59 Temple Place, Suite 330, Boston,
+! #     MA  02111-1307  USA
+! #
+! #*************************************************************************
+! 
+! PRJ=..$/..$/..$/..
+! PRJNAME=so_hsqldb
+! TARGET=so_hsqldb
+! 
+! # buildfile is in a subdirectory
+! ANT_BUILDFILE=build$/build.xml
+! 
+! .INCLUDE : ant.mk
+! 
+! ANT_FLAGS+=-Dbuild.label="build-$(RSCREVISION)" jar
+! 
+! ALLTAR : ANTBUILD
+diff -crN misc/hsqldb/build/build.xml misc/build/hsqldb/build/build.xml
+*** misc/hsqldb/build/build.xml.orig	2007-10-22 16:17:31.000000000 +0200
+--- misc/build/hsqldb/build/build.xml	2008-01-29 12:10:02.000000000 +0100
+***************
+*** 132,138 ****
+  
+      <target name="codeswitcher" depends="-prepare"
+              description="uses +-JDBC2 +-JDBC2 +-JAVA2 +-JDBC4">
+!       <javac destdir="classes">
+           <src path="${src}"/>
+           <include name="org/hsqldb/util/CodeSwitcher.java"/>
+         </javac>
+--- 132,138 ----
+  
+      <target name="codeswitcher" depends="-prepare"
+              description="uses +-JDBC2 +-JDBC2 +-JAVA2 +-JDBC4">
+!       <javac destdir="classes" source="${java.source.ver}" target="${java.target.ver}">
+           <src path="${src}"/>
+           <include name="org/hsqldb/util/CodeSwitcher.java"/>
+         </javac>
+***************
+*** 258,263 ****
+--- 258,265 ----
+              description="compiles the /store folder">
+        <javac srcdir="${src}"
+               destdir="classes"
++              source="${java.source.ver}"
++              target="${java.target.ver}"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
+        >
+***************
+*** 269,274 ****
+--- 271,278 ----
+              description="compiles the /lib folder">
+        <javac srcdir="${src}"
+               destdir="classes"
++              source="${java.source.ver}"
++              target="${java.target.ver}"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
+        >
+***************
+*** 281,286 ****
+--- 285,292 ----
+              description="compiles all the classes">
+        <javac srcdir="${src}"
+               destdir="classes"
++              source="${java.source.ver}"
++              target="${java.target.ver}"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
+         >
+***************
+*** 315,320 ****
+--- 321,328 ----
+             description="compiles 1.2 specific classes">
+        <javac srcdir="${src}"
+               destdir="classes"
++              source="${java.source.ver}"
++              target="${java.target.ver}"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
+         >
+***************
+*** 327,332 ****
+--- 335,342 ----
+             description="compiles 1.4 specific classes">
+        <javac srcdir="${src}"
+               destdir="classes"
++              source="${java.source.ver}"
++              target="${java.target.ver}"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
+         >
+***************
+*** 343,348 ****
+--- 353,360 ----
+             description="compiles 1.4-specific test classes">
+        <javac srcdir="${src}"
+               destdir="classes"
++              source="${java.source.ver}"
++              target="${java.target.ver}"
+               debug="${build.debug}"
+               optimize="${build.optimize}"
+               classpath="lib/junit.jar"
+***************
+*** 357,362 ****
+--- 369,376 ----
+              description="compiles the /util folder">
+        <javac srcdir="${src}"
+               destdir="classes"
++              source="${java.source.ver}"
++              target="${java.target.ver}"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
+        >
+***************
+*** 373,378 ****
+--- 387,394 ----
+             description="compiles the swing based classes in the /util folder">
+        <javac srcdir="${src}"
+               destdir="classes"
++              source="${java.source.ver}"
++              target="${java.target.ver}"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
+         >
+***************
+*** 388,393 ****
+--- 404,411 ----
+              message="'junit.jar' must reside in the /lib directory in order to use this target"/>
+        <javac srcdir="${src}"
+               destdir="classes"
++              source="${java.source.ver}"
++              target="${java.target.ver}"
+                   debug="${build.debug}"
+                   optimize="${build.optimize}"
+           >
--- jfreereport/java/sac/makefile.mk.javatarget~	2008-04-11 09:26:01.000000000 +0200
+++ jfreereport/java/sac/makefile.mk	2008-07-07 20:04:44.679095537 +0200
@@ -34,16 +34,12 @@ PRJ=..$/..
 PRJNAME=jfreereport
 TARGET=sac-1.3
 
+.IF "$(SOLAR_JAVA)" != ""
+
 # --- Settings -----------------------------------------------------
 
 .INCLUDE :	settings.mk
 
-# override buildfile
-ANT_BUILDFILE=build.xml
-
-.INCLUDE : antsettings.mk
-
-.IF "$(SOLAR_JAVA)" != ""
 # --- Files --------------------------------------------------------
 
 TARFILE_NAME=sacjava-1.3
@@ -52,31 +48,26 @@ TARFILE_ROOTDIR=$(TARGET)
 
 PATCH_FILE_NAME=patches$/sac.patch
 
-ADDITIONAL_FILES=build.xml
+ADDITIONAL_FILES=build.xml \
+		 makefile.mk
 
 # CONVERTFILES=build.xml
 
-.IF "$(JAVACISGCJ)"=="yes"
-JAVA_HOME=
-.EXPORT : JAVA_HOME
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) all
-.ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) all
-.ENDIF
-
-.ENDIF # $(SOLAR_JAVA)!= ""
+BUILD_ACTION=dmake $(MFLAGS) $(CALLMACROS)
 
 # --- Targets ------------------------------------------------------
 
 .INCLUDE : set_ext.mk
 .INCLUDE : target.mk
 
-.IF "$(SOLAR_JAVA)" != ""
 .INCLUDE : tg_ext.mk
 
 ALLTAR : $(CLASSDIR)$/sac.jar
 
 $(CLASSDIR)$/sac.jar : $(PACKAGE_DIR)$/$(INSTALL_FLAG_FILE)
 	$(COPY) $(PACKAGE_DIR)$/$(TARFILE_ROOTDIR)$/build$/lib$/sac.jar $(CLASSDIR)$/sac.jar
-.ENDIF
 
+.ELSE
+@all:
+       @echo java disabled
+.ENDIF
--- jfreereport/patches/sac.patch.javatarget~	2008-01-14 16:33:06.000000000 +0100
+++ jfreereport/patches/sac.patch	2008-07-07 20:04:44.679095537 +0200
@@ -1,3 +1,56 @@
+*** misc/sac-1.3/makefile.mk.dummy	2008-01-29 14:31:39.000000000 +0100
+--- misc/build/sac-1.3/makefile.mk	2008-01-29 17:35:10.000000000 +0100
+***************
+*** 1 ****
+! dummy
+--- 1,47 ----
+! #*************************************************************************
+! #
+! #   OpenOffice.org - a multi-platform office productivity suite
+! #
+! #   $RCSfile$
+! #
+! #   $Revision$
+! #
+! #   last change: $Author$ $Date$
+! #
+! #   The Contents of this file are made available subject to
+! #   the terms of GNU Lesser General Public License Version 2.1.
+! #
+! #
+! #     GNU Lesser General Public License Version 2.1
+! #     =============================================
+! #     Copyright 2005 by Sun Microsystems, Inc.
+! #     901 San Antonio Road, Palo Alto, CA 94303, USA
+! #
+! #     This library is free software; you can redistribute it and/or
+! #     modify it under the terms of the GNU Lesser General Public
+! #     License version 2.1, as published by the Free Software Foundation.
+! #
+! #     This library is distributed in the hope that it will be useful,
+! #     but WITHOUT ANY WARRANTY; without even the implied warranty of
+! #     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+! #     Lesser General Public License for more details.
+! #
+! #     You should have received a copy of the GNU Lesser General Public
+! #     License along with this library; if not, write to the Free Software
+! #     Foundation, Inc., 59 Temple Place, Suite 330, Boston,
+! #     MA  02111-1307  USA
+! #
+! #*************************************************************************
+! 
+! PRJ=..$/..$/..$/..
+! PRJNAME=jfreereport
+! TARGET=sac-1.3
+! 
+! # buildfile is in a subdirectory
+! ANT_BUILDFILE=build.xml
+! 
+! .INCLUDE : ant.mk
+! 
+! ANT_FLAGS+=-Dbuild.label="build-$(RSCREVISION)" jar
+! 
+! ALLTAR : ANTBUILD
 *** misc/sac-1.3/build.xml	Thu Oct 18 09:22:24 2007
 --- misc/build/sac-1.3/build.xml	Thu Oct 18 08:53:59 2007
 ***************
@@ -40,7 +93,7 @@
 ! 
 !   <!-- Build classes -->
 !   <target name="classes" depends="prepare">
-!     <javac srcdir="${src}" destdir="${build.classes}" debug="off" optimize="on"/>
+!     <javac srcdir="${src}" destdir="${build.classes}" source="${java.source.ver}" target="${java.target.ver}" debug="off" optimize="on"/>
 !     <copy todir="${build.classes}">
 !       <fileset dir="${src}">
 !         <include name="**/*.properties"/>
--- rhino/makefile.mk.javatarget~	2008-04-11 09:01:54.000000000 +0200
+++ rhino/makefile.mk	2008-07-07 20:04:44.680095454 +0200
@@ -38,7 +38,6 @@ TARGET=ooo_rhino
 # --- Settings -----------------------------------------------------
 
 .INCLUDE :	settings.mk
-.INCLUDE :  antsettings.mk
 
 # --- Files --------------------------------------------------------
 
@@ -46,17 +45,12 @@ TARFILE_NAME=rhino1_5R5
 TARFILE_ROOTDIR=rhino1_5R5
 
 ADDITIONAL_FILES= \
+	makefile.mk \
 	toolsrc/org/mozilla/javascript/tools/debugger/OfficeScriptInfo.java
 
 PATCH_FILE_NAME=rhino1_5R5.patch
 
-.IF "$(JAVACISGCJ)"=="yes"
-JAVA_HOME=
-.EXPORT : JAVA_HOME
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj jar
-.ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" jar
-.ENDIF
+BUILD_ACTION=dmake $(MFLAGS) $(CALLMACROS)
 
 # --- Targets ------------------------------------------------------
 
--- rhino/rhino1_5R5.patch.javatarget~	2008-04-11 09:03:06.000000000 +0200
+++ rhino/rhino1_5R5.patch	2008-07-07 20:04:44.683095626 +0200
@@ -1,3 +1,82 @@
+*** misc/rhino1_5R5//makefile.mk.old	2008-01-29 12:32:48.000000000 +0100
+--- misc/build/rhino1_5R5//makefile.mk	2008-01-29 12:33:22.000000000 +0100
+***************
+*** 1 ****
+! dummy
+--- 1,47 ----
+! #*************************************************************************
+! #
+! #   OpenOffice.org - a multi-platform office productivity suite
+! #
+! #   $RCSfile$
+! #
+! #   $Revision$
+! #
+! #   last change: $Author$ $Date$
+! #
+! #   The Contents of this file are made available subject to
+! #   the terms of GNU Lesser General Public License Version 2.1.
+! #
+! #
+! #     GNU Lesser General Public License Version 2.1
+! #     =============================================
+! #     Copyright 2005 by Sun Microsystems, Inc.
+! #     901 San Antonio Road, Palo Alto, CA 94303, USA
+! #
+! #     This library is free software; you can redistribute it and/or
+! #     modify it under the terms of the GNU Lesser General Public
+! #     License version 2.1, as published by the Free Software Foundation.
+! #
+! #     This library is distributed in the hope that it will be useful,
+! #     but WITHOUT ANY WARRANTY; without even the implied warranty of
+! #     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+! #     Lesser General Public License for more details.
+! #
+! #     You should have received a copy of the GNU Lesser General Public
+! #     License along with this library; if not, write to the Free Software
+! #     Foundation, Inc., 59 Temple Place, Suite 330, Boston,
+! #     MA  02111-1307  USA
+! #
+! #*************************************************************************
+! 
+! PRJ=..$/..$/..$/..
+! PRJNAME=ooo_rhino
+! TARGET=ooo_rhino
+! 
+! # buildfile is in a subdirectory
+! ANT_BUILDFILE=build.xml
+! 
+! .INCLUDE : ant.mk
+! 
+! ANT_FLAGS+=-Dbuild.label="build-$(RSCREVISION)" jar
+! 
+! ALLTAR : ANTBUILD
+*** misc/rhino1_5R5/src/build.xml.old	2004-03-25 21:54:34.000000000 +0100
+--- misc/build/rhino1_5R5/src/build.xml	2008-01-29 12:18:05.000000000 +0100
+***************
+*** 17,22 ****
+--- 17,24 ----
+             destdir="${nest}/${classes}"
+             includes="org/**/*.java"
+             deprecation="on"
++            source="${java.source.ver}" 
++            target="${java.target.ver}"
+             debug="${debug}">
+      </javac>
+      <copy todir="${nest}/${classes}">
+*** misc/rhino1_5R5/toolsrc/build.xml.old	2008-01-29 10:51:54.000000000 +0100
+--- misc/build/rhino1_5R5/toolsrc/build.xml	2008-01-29 12:21:10.000000000 +0100
+***************
+*** 31,36 ****
+--- 31,38 ----
+             destdir="${nest}/${classes}"
+             includes="org/**/*.java"
+             deprecation="on"
++            source="${java.source.ver}" 
++            target="${java.target.ver}"
+             debug="${debug}">
+      </javac>
+      <copy todir="${nest}/${classes}">
 --- misc/rhino1_5R5/src/org/mozilla/javascript/DefiningClassLoader.java	Thu Mar 25 21:54:34 2004
 +++ misc/build/rhino1_5R5/src/org/mozilla/javascript/DefiningClassLoader.java	Fri Mar 28 17:24:23 2008
 @@ -38,6 +38,7 @@
--- scripting/examples/java/build.xml.javatarget~	2008-04-11 11:44:50.000000000 +0200
+++ scripting/examples/java/build.xml	2008-07-07 20:04:44.684096103 +0200
@@ -51,7 +51,8 @@
 
     <javac srcdir="HelloWorld" destdir="${outdir}/HelloWorld"
            includes="**/*.java" classpathref="idlclasspath"
-           debug="${debug}" optimize="${optimize}" deprecation="on"/>
+           debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy file="HelloWorld/HelloWorld.java" todir="${outdir}/HelloWorld"/>
     <copy file="HelloWorld/parcel-descriptor.xml" todir="${outdir}/HelloWorld"/>
@@ -73,7 +74,8 @@
 
     <javac srcdir="Highlight" destdir="${outdir}/Highlight"
            includes="**/*.java" classpathref="idlclasspath"
-           debug="${debug}" optimize="${optimize}" deprecation="on"/>
+           debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy file="Highlight/HighlightText.java" todir="${outdir}/Highlight"/>
     <copy file="Highlight/parcel-descriptor.xml" todir="${outdir}/Highlight"/>
@@ -95,7 +97,8 @@
 
     <javac srcdir="MemoryUsage" destdir="${outdir}/MemoryUsage"
            includes="**/*.java" classpathref="idlclasspath"
-           debug="${debug}" optimize="${optimize}" deprecation="on"/>
+           debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy file="MemoryUsage/MemoryUsage.java" todir="${outdir}/MemoryUsage"/>
     <copy file="MemoryUsage/parcel-descriptor.xml" todir="${outdir}/MemoryUsage"/>
@@ -117,7 +120,8 @@
 
     <javac srcdir="selector" destdir="${outdir}/selector"
        	   includes="**/*.java" classpathref="idlclasspath"
-	       debug="${debug}" optimize="${optimize}" deprecation="on"/>
+       	   debug="${debug}" optimize="${optimize}" deprecation="on"
+       	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy todir="${outdir}/selector">
         <fileset dir="selector">
--- scripting/java/build.xml.javatarget~	2008-04-11 11:46:13.000000000 +0200
+++ scripting/java/build.xml	2008-07-07 20:04:44.685095322 +0200
@@ -85,16 +85,19 @@
   <target name="compile" depends="prepare">
     <javac srcdir="com" destdir="${jardir}"
          includes="**/*.java" classpathref="idlclasspath"
-         debug="${debug}" optimize="${optimize}" deprecation="off"/>
+         debug="${debug}" optimize="${optimize}" deprecation="off"
+	 source="${java.source.ver}" target="${java.target.ver}"/>
     <javac srcdir="Framework/" destdir="${jardir}"
          includes="**/*.java" classpathref="idlclasspath" debug="${debug}" 
-         optimize="${optimize}" deprecation="off">
+         optimize="${optimize}" deprecation="off"
+	 source="${java.source.ver}" target="${java.target.ver}">
     </javac>
   </target>
 
   <target name="idesupport.compile" depends="compile, prepare">
     <javac srcdir="." destdir="${jardir}"
-           debug="${debug}" deprecation="on">
+           debug="${debug}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}">
       <classpath refid="idesupport.class.path"/>
       <exclude name="${idesupport.dir}/**/.*/*"/>
       <exclude name="${idesupport.dir}/localoffice/**/*"/>
@@ -106,7 +109,8 @@
 
   <target name="localoffice.compile" depends="prepare">
     <javac srcdir="." destdir="${jardir}"
-           debug="${debug}" deprecation="on">
+           debug="${debug}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}">
       <classpath refid="idlclasspath"/>
       <exclude name="${idesupport.dir}/localoffice/.*/*"/>
       <include name="${idesupport.dir}/localoffice/*.java"/>
@@ -115,7 +119,8 @@
 
   <target name="netbeans.compile" depends="idesupport.compile, prepare">
     <javac srcdir="." destdir="${jardir}"
-           debug="${debug}" deprecation="on">
+           debug="${debug}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}">
       <classpath refid="openide.class.path"/>
       <exclude name="${netbeans.dir}/**/.*/*"/>
       <include name="${netbeans.dir}/**/*.java"/>
@@ -124,7 +129,8 @@
 
   <target name="netbeans.editor.support" depends="prepare">
     <javac srcdir="." destdir="${jardir}"
-           debug="${debug}" deprecation="on">
+           debug="${debug}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}">
       <classpath refid="netbeans.editor.support.classpath"/>
       <include name="org/openoffice/netbeans/editor/*.java"/>
     </javac>
--- scripting/workben/build.xml.javatarget~	2008-04-11 12:52:33.000000000 +0200
+++ scripting/workben/build.xml	2008-07-07 20:04:44.687095436 +0200
@@ -113,7 +113,8 @@
            destdir="${out}/class/examples/java/debugger"
        	   includes="*.java"
            classpathref="debuggerclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <copy todir="${out}/class/examples/java/debugger">
         <fileset dir="${prj}/examples/java/debugger">
@@ -137,7 +138,8 @@
     <mkdir dir="${out}/class/examples/java/Highlight"/>
     <javac srcdir="${prj}/examples/java/" destdir="${out}/class/examples/java/Highlight/"
        	   includes="**/Highlight*.java" classpathref="idlclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
     <copy todir="${out}/class/examples/java/Highlight/">
         <fileset dir="${prj}/examples/java/">
             <include name="**/Highlight*.java"/>
@@ -156,7 +158,8 @@
     <mkdir dir="${out}/class/examples/java/MemoryUsage"/>
     <javac srcdir="${prj}/examples/java/" destdir="${out}/class/examples/java/MemoryUsage/"
        	   includes="**/MemoryUsage.java" classpathref="idlclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
     <copy file="${prj}/examples/java/MemoryUsage.java" todir="${out}/class/examples/java/MemoryUsage/"/>
     <copy file="${prj}/examples/java/MemoryUsageParcel.xml" tofile="${out}/class/examples/java/MemoryUsage/parcel-descriptor.xml"/>
     <copy file="${prj}/examples/java/MemoryUsage.java" todir="${out}/class/examples/java/MemoryUsage/"/>
@@ -165,7 +168,8 @@
     <mkdir dir="${out}/class/examples/java/ScriptFrmwrkHelper"/>
     <javac srcdir="${prj}/examples/java/" destdir="${out}/class/examples/java/ScriptFrmwrkHelper/"
        	   includes="**/ScriptFrmwrkHelper.java" classpathref="scriptexampleclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
     <copy todir="${out}/class/examples/java/ScriptFrmwrkHelper/">
         <fileset dir="${prj}/examples/java/">
             <include name="**/ScriptFrmwrkHelper.java"/>
@@ -315,7 +319,8 @@
     <javac srcdir="${prj}/examples/java/debugger"
            destdir="${out}/class/jsruntimetmp"
        	   includes="rhino/Main.java" classpathref="debuggerclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
 
     <zip destfile="${out}/class/jsruntime/skip_registration/js.jar"
         basedir="${out}/class/jsruntimetmp" includes="**"/>
@@ -373,7 +378,8 @@
     <mkdir dir="${installerclasses}"/>
     <javac srcdir="installer/" destdir="${installerclasses}"
        	   includes="**/*.java" classpathref="idlclasspath"
-	   debug="${debug}" optimize="${optimize}" deprecation="on"/>
+	   debug="${debug}" optimize="${optimize}" deprecation="on"
+	   source="${java.source.ver}" target="${java.target.ver}"/>
     <copy file="installer/sidebar.jpg" todir="${out}/class/sframeworkinstall/installer"/>
   </target>
 
--- solenv/inc/antsettings.mk.javatarget~	2008-04-10 19:33:24.000000000 +0200
+++ solenv/inc/antsettings.mk	2008-07-07 20:04:44.666095630 +0200
@@ -44,6 +44,18 @@ PATH!:=$(ANT_HOME)$/bin$(PATH_SEPERATOR)
 ANT*:=$(ANT_HOME)$/bin$/ant
 ANT_BUILDFILE*=build.xml
 
+.IF "$(ANT_COMPILER_FLAGS)"==""
+.IF "$(JAVACISGCJ)" == "yes"
+ANT_COMPILER_FLAGS=-Dbuild.compiler=gcj
+.ENDIF
+.ENDIF
+
+.IF "$(ANT_JAVA_VER_FLAGS)"==""
+.IF "$(JAVACISGCJ)" != "yes" && $(JAVACISKAFFE) != "yes"
+ANT_JAVA_VER_FLAGS=-Djava.source.ver=$(JAVA_SOURCE_VER) -Djava.target.ver=$(JAVA_TARGET_VER)
+.ENDIF
+.ENDIF
+
 .IF "$(ANT_DEBUG)"==""
 .IF "$(debug)"==""
 ANT_DEBUG=off
@@ -65,24 +77,14 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 .ENDIF
 
-.IF "$(JAVACISGCJ)" == "yes"
-ANT_FLAGS!:=-Dbuild.compiler=gcj -Dprj=$(PRJ) -Dprjname=$(PRJNAME) -Ddebug=$(ANT_DEBUG) \
- -Doptimize=$(ANT_OPT) -Dtarget=$(TARGET) -Dsolar.update=on -Dout=$(OUT) -Dinpath=$(INPATH) \
- -Dproext="$(PROEXT)" -Dsolar.bin=$(SOLARBINDIR) -Dsolar.jar=$(SOLARBINDIR) \
- -Dsolar.doc=$(SOLARDOCDIR) -Dcommon.jar=$(SOLARCOMMONBINDIR) \
+ANT_FLAGS!:=$(ANT_COMPILER_FLAGS) -Dprj=$(PRJ) -Dprjname=$(PRJNAME) $(ANT_JAVA_VER_FLAGS) \
+ -Ddebug=$(ANT_DEBUG) -Doptimize=$(ANT_OPT) -Dtarget=$(TARGET) -Dsolar.update=on \
+ -Dout=$(OUT) -Dinpath=$(INPATH) -Dproext="$(PROEXT)" -Dsolar.bin=$(SOLARBINDIR) \
+ -Dsolar.jar=$(SOLARBINDIR) -Dsolar.doc=$(SOLARDOCDIR) -Dcommon.jar=$(SOLARCOMMONBINDIR) \
  -Dcommon.doc=$(SOLARCOMMONDOCDIR) -Dsolar.sourceversion=$(SOURCEVERSION) \
  -Dsolar.lastminor=$(LAST_MINOR) -Dsolar.build=$(BUILD) -f $(ANT_BUILDFILE) $(ANT_FLAGS) -emacs
-.ELSE
-ANT_FLAGS!:=-Dprj=$(PRJ) -Dprjname=$(PRJNAME) -Ddebug=$(ANT_DEBUG) -Doptimize=$(ANT_OPT) \
- -Dtarget=$(TARGET) -Dsolar.update=on -Dout=$(OUT) -Dinpath=$(INPATH) -Dproext="$(PROEXT)" \
- -Dsolar.bin=$(SOLARBINDIR) -Dsolar.jar=$(SOLARBINDIR) -Dsolar.doc=$(SOLARDOCDIR) \
- -Dcommon.jar=$(SOLARCOMMONBINDIR) -Dcommon.doc=$(SOLARCOMMONDOCDIR) \
- -Dsolar.sourceversion=$(SOURCEVERSION) -Dsolar.lastminor=$(LAST_MINOR) \
- -Dsolar.build=$(BUILD) -f $(ANT_BUILDFILE) $(ANT_FLAGS) -emacs
-.ENDIF
+
 .ELSE # No java
 ANT=
 ANT_FLAGS=
 .ENDIF
- 
- 
--- solenv/inc/settings.mk.javatarget~	2008-07-07 19:57:31.071845803 +0200
+++ solenv/inc/settings.mk	2008-07-07 20:04:44.669096361 +0200
@@ -157,6 +157,9 @@ JAVAI:=$(JAVAINTERPRETER)
 .IF "$(JAVACISGCJ)" == "yes"
 JAVAC+=--encoding=UTF-8 -O2 -fno-assert -Wno-deprecated -C
 .ENDIF
+.IF "$(JAVACISGCJ)" != "yes" && $(JAVACISKAFFE) != "yes"
+JAVAC+=-source $(JAVA_SOURCE_VER) -target $(JAVA_TARGET_VER)
+.ENDIF
 
 #classpath and response
 .IF "$(JDK)" == "J++"
--- tomcat/makefile.mk.javatarget~	2008-06-24 12:13:43.000000000 +0200
+++ tomcat/makefile.mk	2008-07-07 20:04:44.688096262 +0200
@@ -52,7 +52,7 @@ ADDITIONAL_FILES = jakarta-servletapi-5/
 PATCH_FILE_NAME=tomcat.patch
 
 BUILD_DIR=jakarta-servletapi-5
-BUILD_ACTION=$(ANT)
+BUILD_ACTION=$(ANT) $(ANT_JAVA_VER_FLAGS)
 
 # --- Targets ------------------------------------------------------
 
--- tomcat/tomcat.patch.javatarget~	2008-06-24 12:14:12.000000000 +0200
+++ tomcat/tomcat.patch	2008-07-07 20:06:21.247846314 +0200
@@ -33,3 +33,55 @@
 +  </target>
 +
 +</project>
+--- misc/build/jakarta-tomcat-5.0.30-src/jakarta-servletapi-5/jsr152/build.xml.old	2004-11-24 17:54:57.000000000 +0100
++++ misc/build/jakarta-tomcat-5.0.30-src/jakarta-servletapi-5/jsr152/build.xml	2008-07-02 16:03:57.000000000 +0200
+@@ -69,6 +69,7 @@
+     <!-- Java classes -->
+     <javac srcdir="src/share" destdir="${jsp-api.build}/classes"
+            debug="${compile.debug}" deprecation="${compile.deprecation}"
++	   source="${java.source.ver}" target="${java.target.ver}"
+         optimize="${compile.optimize}"
+        classpath="${servlet-api.jar}" />
+ 
+@@ -112,6 +113,7 @@
+     <javac  srcdir="src/ant" destdir="${jsp-api.build}/ant"
+             debug="${compile.debug}" deprecation="${compile.deprecation}"
+             optimize="${compile.optimize}" 
++	    source="${java.source.ver}" target="${java.target.ver}"
+             classpath="${ant.home}/lib/ant.jar" />
+     <taskdef    name="txt2html" classname="task.Txt2Html"
+                 classpath="${jsp-api.build}/ant" />
+@@ -202,6 +204,7 @@
+     <javac   srcdir="examples/WEB-INF/classes" 
+              destdir="${jsp-api.build}/examples/WEB-INF/classes"
+              debug="${compile.debug}" deprecation="${compile.deprecation}"
++	     source="${java.source.ver}" target="${java.target.ver}"
+              optimize="${compile.optimize}"
+              excludes="**/CVS/**">
+       <classpath refid="examples.classpath" />
+@@ -210,6 +213,7 @@
+     <javac   srcdir="examples/plugin/applet" 
+              destdir="${jsp-api.build}/examples/plugin/applet"
+              debug="${compile.debug}" deprecation="${compile.deprecation}"
++	     source="${java.source.ver}" target="${java.target.ver}"
+              optimize="${compile.optimize}"
+              excludes="**/CVS/**">
+       <classpath refid="examples.classpath" />
+--- misc/build/jakarta-tomcat-5.0.30-src/jakarta-servletapi-5/jsr154/build.xml.old	2004-11-24 17:55:01.000000000 +0100
++++ misc/build/jakarta-tomcat-5.0.30-src/jakarta-servletapi-5/jsr154/build.xml	2008-07-02 16:10:05.000000000 +0200
+@@ -64,6 +64,7 @@
+     <!-- Java classes -->
+     <javac srcdir="src/share" destdir="${servlet-api.build}/classes"
+            debug="${compile.debug}" deprecation="${compile.deprecation}"
++	   source="${java.source.ver}" target="${java.target.ver}"
+         optimize="${compile.optimize}"/>
+ 
+     <!-- Associated property files -->
+@@ -110,6 +111,7 @@
+     <javac   srcdir="examples/WEB-INF/classes" 
+              destdir="${servlet-api.build}/examples/WEB-INF/classes"
+              debug="${compile.debug}" deprecation="${compile.deprecation}"
++	     source="${java.source.ver}" target="${java.target.ver}"
+              optimize="${compile.optimize}"
+              excludes="**/CVS/**">
+       <classpath refid="examples.classpath" />
--- transex3/java/l10nconv/build.xml.javatarget~	2008-04-10 11:30:33.000000000 +0200
+++ transex3/java/l10nconv/build.xml	2008-07-07 20:04:44.690096167 +0200
@@ -129,6 +129,8 @@
 	       debug="${debug}"
                deprecation="${deprication}"
 	       optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}"
 	       classpathref="classpath">
             <src path="${java.dir}"/>
 	    <include name="**/*.java"/>
--- transex3/java/receditor/build.xml.javatarget~	2008-04-10 11:37:42.000000000 +0200
+++ transex3/java/receditor/build.xml	2008-07-07 20:04:44.691095665 +0200
@@ -127,6 +127,8 @@
 	       debug="${debug}"
                deprecation="${deprication}"
 	       optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}"
 	       classpathref="classpath">
             <src path="${java.dir}"/>
 	    <include name="**/*.java"/>
--- xmerge/java/org/openoffice/xmerge/build.xml.javatarget~	2008-04-10 19:19:50.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/build.xml	2008-07-07 20:04:44.692095094 +0200
@@ -109,7 +109,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/Convert.java"/>
             <include name="${package}/ConverterCapabilities.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/dom/build.xml.javatarget~	2008-04-10 19:20:59.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/dom/build.xml	2008-07-07 20:04:44.693096199 +0200
@@ -110,7 +110,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DOMDocument.java"/>
         </javac>
--- xmerge/java/org/openoffice/xmerge/converter/palm/build.xml.javatarget~	2008-04-10 19:24:54.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/palm/build.xml	2008-07-07 20:04:44.733095975 +0200
@@ -107,7 +107,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/PalmDB.java"/>
             <include name="${package}/PdbDecoder.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/build.xml.javatarget~	2008-04-10 19:46:58.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/build.xml	2008-07-07 20:04:44.734095404 +0200
@@ -110,7 +110,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
                         <include name="${package}/EmbeddedObject.java"/>
                         <include name="${package}/EmbeddedBinaryObject.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/build.xml.javatarget~	2008-04-10 19:53:14.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/build.xml	2008-07-07 20:04:44.739096598 +0200
@@ -110,7 +110,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/CellStyle.java"/>
             <include name="${package}/ColumnStyle.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/minicalc/build.xml.javatarget~	2008-04-10 19:56:05.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/minicalc/build.xml	2008-07-07 20:04:44.739096598 +0200
@@ -111,7 +111,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/MinicalcConstants.java"/>
             <include name="${package}/MinicalcDecoder.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/build.xml.javatarget~	2008-04-10 20:00:04.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/build.xml	2008-07-07 20:04:44.740096097 +0200
@@ -109,7 +109,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/PocketExcelConstants.java"/>
             <include name="${package}/PocketExcelDecoder.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/records/build.xml.javatarget~	2008-04-10 20:09:43.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/records/build.xml	2008-07-07 20:04:44.743096199 +0200
@@ -109,7 +109,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
 			<include name="${package}/BIFFRecord.java"/>
 			<include name="${package}/CellValue.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/records/formula/build.xml.javatarget~	2008-04-10 20:15:25.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxc/pexcel/records/formula/build.xml	2008-07-07 20:04:44.744096186 +0200
@@ -109,7 +109,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
 			<include name="${package}/FormulaCompiler.java"/>
 			<include name="${package}/FormulaHelper.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxw/aportisdoc/build.xml.javatarget~	2008-04-10 20:20:42.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxw/aportisdoc/build.xml	2008-07-07 20:04:44.749096542 +0200
@@ -110,7 +110,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DocConstants.java"/>
             <include name="${package}/DocDecoder.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxw/build.xml.javatarget~	2008-04-10 20:16:46.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxw/build.xml	2008-07-07 20:04:44.750096041 +0200
@@ -110,7 +110,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
 			<include name="${package}/SxwDocument.java"/>
 			<include name="${package}/SxwPluginFactory.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxw/pocketword/build.xml.javatarget~	2008-04-10 20:24:46.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxw/pocketword/build.xml	2008-07-07 20:04:44.751095819 +0200
@@ -110,7 +110,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
 			<include name="${package}/DocumentDescriptor.java"/>
                         <include name="${package}/DocumentDeserializerImpl.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/sxw/wordsmith/build.xml.javatarget~	2008-04-10 20:29:37.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/sxw/wordsmith/build.xml	2008-07-07 20:04:44.752096086 +0200
@@ -109,7 +109,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DOCConstants.java"/>
             <include name="${package}/textRecord.java"/>
--- xmerge/java/org/openoffice/xmerge/converter/xml/xslt/build.xml.javatarget~	2008-04-10 20:33:06.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/converter/xml/xslt/build.xml	2008-07-07 20:04:44.759095788 +0200
@@ -111,7 +111,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DocumentDeserializerImpl.java"/>
             <include name="${package}/DocumentSerializerImpl.java"/>
--- xmerge/java/org/openoffice/xmerge/merger/build.xml.javatarget~	2008-04-10 20:38:16.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/merger/build.xml	2008-07-07 20:04:44.760096264 +0200
@@ -110,7 +110,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/DiffAlgorithm.java"/>
             <include name="${package}/Difference.java"/>
--- xmerge/java/org/openoffice/xmerge/merger/diff/build.xml.javatarget~	2008-04-10 20:42:41.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/merger/diff/build.xml	2008-07-07 20:04:44.761096182 +0200
@@ -110,7 +110,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/CharacterParser.java"/>
             <include name="${package}/CharArrayLCSAlgorithm.java"/>
--- xmerge/java/org/openoffice/xmerge/merger/merge/build.xml.javatarget~	2008-04-10 20:45:01.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/merger/merge/build.xml	2008-07-07 20:04:44.761096182 +0200
@@ -110,7 +110,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/CharacterBaseParagraphMerge.java"/>
             <include name="${package}/PositionBaseRowMerge.java"/>
--- xmerge/java/org/openoffice/xmerge/test/build.xml.javatarget~	2008-04-10 20:46:42.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/test/build.xml	2008-07-07 20:04:44.762095331 +0200
@@ -109,7 +109,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/ConverterInfoList.java"/>
             <include name="${package}/Driver.java"/>
--- xmerge/java/org/openoffice/xmerge/util/build.xml.javatarget~	2008-04-10 20:50:18.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/util/build.xml	2008-07-07 20:04:44.763095458 +0200
@@ -109,7 +109,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/IntArrayList.java"/>
             <include name="${package}/Resources.java"/>
--- xmerge/java/org/openoffice/xmerge/util/registry/build.xml.javatarget~	2008-04-10 20:52:45.000000000 +0200
+++ xmerge/java/org/openoffice/xmerge/util/registry/build.xml	2008-07-07 20:04:44.764095795 +0200
@@ -109,7 +109,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/ConverterInfo.java"/>
             <include name="${package}/ConverterInfoMgr.java"/>
--- xmerge/source/aportisdoc/build.xml.javatarget~	2008-04-10 20:58:07.000000000 +0200
+++ xmerge/source/aportisdoc/build.xml	2008-07-07 20:04:44.764095795 +0200
@@ -51,7 +51,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/bridge/build.xml.javatarget~	2008-04-10 21:01:33.000000000 +0200
+++ xmerge/source/bridge/build.xml	2008-07-07 20:04:44.766096189 +0200
@@ -58,7 +58,9 @@
                destdir="${target.dir}"
 			   debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/minicalc/build.xml.javatarget~	2008-04-10 21:03:59.000000000 +0200
+++ xmerge/source/minicalc/build.xml	2008-07-07 20:04:44.767096176 +0200
@@ -51,7 +51,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/pexcel/build.xml.javatarget~	2008-04-10 21:23:00.000000000 +0200
+++ xmerge/source/pexcel/build.xml	2008-07-07 20:04:44.773095263 +0200
@@ -51,7 +51,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/pocketword/build.xml.javatarget~	2008-04-10 21:40:00.000000000 +0200
+++ xmerge/source/pocketword/build.xml	2008-07-07 20:04:44.773095263 +0200
@@ -51,7 +51,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/wordsmith/build.xml.javatarget~	2008-04-10 21:44:28.000000000 +0200
+++ xmerge/source/wordsmith/build.xml	2008-07-07 20:04:44.774095320 +0200
@@ -51,7 +51,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/writer2latex/build.xml.javatarget~	2006-07-13 11:16:05.000000000 +0200
+++ xmerge/source/writer2latex/build.xml	2008-07-07 20:04:44.775095447 +0200
@@ -85,7 +85,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/xmerge/build.xml.javatarget~	2008-04-10 21:50:03.000000000 +0200
+++ xmerge/source/xmerge/build.xml	2008-07-07 20:04:44.776096273 +0200
@@ -60,7 +60,9 @@
                destdir="${target.dir}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
         </javac>
     </target>
--- xmerge/source/xmerge/java/org/openoffice/xmerge/util/registry/build.xml.javatarget~	2008-04-10 22:22:10.000000000 +0200
+++ xmerge/source/xmerge/java/org/openoffice/xmerge/util/registry/build.xml	2008-07-07 20:04:44.777096749 +0200
@@ -114,7 +114,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="${package}/ConverterInfo.java"/>
             <include name="${package}/ConverterInfoMgr.java"/>
--- xmerge/workben/build.xml.javatarget~	2008-04-10 22:23:44.000000000 +0200
+++ xmerge/workben/build.xml	2008-07-07 20:04:44.780096991 +0200
@@ -112,7 +112,9 @@
                destdir="${build.class}"
                debug="${debug}"
                deprecation="${deprecation}"
-               optimize="${optimize}">
+               optimize="${optimize}"
+	       source="${java.source.ver}"
+	       target="${java.target.ver}">
             <classpath refid="classpath"/>
             <include name="XmlDiff.java"/>
         </javac>
