From 8dc61ee03081b016e8b7ae9704bc1160d12f377e Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:01:17 +0200
Subject: [PATCH 453/878] oooXXXXX.vcl.x86_64.impressatk.diff

---
 vcl/unx/gtk/a11y/atkutil.cxx |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

diff --git a/vcl/unx/gtk/a11y/atkutil.cxx b/vcl/unx/gtk/a11y/atkutil.cxx
index f86a8af..b06d75e 100644
--- a/vcl/unx/gtk/a11y/atkutil.cxx
+++ b/vcl/unx/gtk/a11y/atkutil.cxx
@@ -615,6 +615,7 @@ static void handle_menu_highlighted(::VclMenuEvent const * pEvent)
 
 long WindowEventHandler(void *, ::VclSimpleEvent const * pEvent)
 {
+    try {
     switch (pEvent->GetId())
     {
     case VCLEVENT_WINDOW_SHOW:
@@ -695,6 +696,10 @@ long WindowEventHandler(void *, ::VclSimpleEvent const * pEvent)
 //        OSL_TRACE("got event %d \n", pEvent->GetId());
         break;
     }
+    } catch(lang::IndexOutOfBoundsException e)
+    {
+    g_warning("Focused object has invalid index in parent");
+    }
     return 0;
 }
 
-- 
1.7.0.1

