From 0f2aee2cc1e6ed6ab982811851ed5f06bf694eeb Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:04:33 +0200
Subject: [PATCH 551/768] sd-slideshow-slideshowview-transformation-fix.diff

---
 sd/source/ui/slideshow/slideshowviewimpl.cxx |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

diff --git sd/source/ui/slideshow/slideshowviewimpl.cxx sd/source/ui/slideshow/slideshowviewimpl.cxx
index adb0dc8..4e16512 100644
--- sd/source/ui/slideshow/slideshowviewimpl.cxx
+++ sd/source/ui/slideshow/slideshowviewimpl.cxx
@@ -352,11 +352,7 @@ geometry::AffineMatrix2D SAL_CALL SlideShowView::getTransformation(  ) throw (Ru
         return geometry::AffineMatrix2D (1,0,0,0,1,0);
     }
     
-    // Reduce available width by one, as the slides might actually
-    // render one pixel wider and higher as aPageSize below specifies
-    // (when shapes of page size have visible border lines)
-    const Size  aWindowSize( rTmpSize.Width()-1, 
-                             rTmpSize.Height()-1 );
+    const Size aWindowSize( mrOutputWindow.GetSizePixel() );
     Size aOutputSize( aWindowSize );
 
     if( meAnimationMode != ANIMATIONMODE_SHOW )
@@ -383,6 +379,12 @@ geometry::AffineMatrix2D SAL_CALL SlideShowView::getTransformation(  ) throw (Ru
     Point aOutputOffset( ( aWindowSize.Width() - aOutputSize.Width() ) >> 1,
                             ( aWindowSize.Height() - aOutputSize.Height() ) >> 1 );
 
+    // Reduce available width by one, as the slides might actually
+    // render one pixel wider and higher as aPageSize below specifies
+    // (when shapes of page size have visible border lines)
+    aOutputSize.Width() --;
+    aOutputSize.Height() --;
+
     maPresentationArea = Rectangle( aOutputOffset, aOutputSize );
     mrOutputWindow.SetPresentationArea( maPresentationArea );
 
-- 
1.7.0.1

