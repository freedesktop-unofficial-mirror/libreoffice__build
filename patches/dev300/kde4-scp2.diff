diff --git scp2/source/ooo/file_library_ooo.scp scp2/source/ooo/file_library_ooo.scp
index 184e8f1..571378e 100644
--- scp2/source/ooo/file_library_ooo.scp
+++ scp2/source/ooo/file_library_ooo.scp
@@ -612,6 +612,18 @@ File gid_File_Lib_Fps_Gnome
 End
 #endif
 #endif
+#ifdef ENABLE_KDE4
+#ifndef MACOSX
+File gid_File_Lib_Fps_Kde4
+    TXT_FILE_BODY;
+    Styles = (PACKED,UNO_COMPONENT);
+    RegistryID = gid_Starregistry_Services_Rdb;
+    Dir = gid_Dir_Program;
+    Name = SPECIAL_COMPONENT_LIB_NAME(fps_kde4.uno);
+    Regmergefile = "fps-kde-ucd.txt";
+End
+#endif
+#endif
 #endif
 
 #ifdef MACOSX
@@ -1202,6 +1214,16 @@ File gid_File_Lib_Vclplug_Kde
 End
 #endif
 #endif
+#ifdef ENABLE_KDE4
+#ifndef MACOSX
+File gid_File_Lib_Vclplug_Kde4
+    Name = LIBNAME(vclplug_kde4);
+    TXT_FILE_BODY;
+    Styles = (PACKED);
+    Dir = gid_Dir_Program;
+End
+#endif
+#endif
 #endif
 
 #if defined(QUARTZ)
diff --git scp2/source/ooo/module_hidden_ooo.scp scp2/source/ooo/module_hidden_ooo.scp
index a365910..c0e29bb 100644
--- scp2/source/ooo/module_hidden_ooo.scp
+++ scp2/source/ooo/module_hidden_ooo.scp
@@ -240,6 +241,7 @@ Module gid_Module_Root_Files_4
 	gid_File_Lib_Vclplug_Gen,
 	gid_File_Lib_Vclplug_Gtk,
 	gid_File_Lib_Vclplug_Kde,
+	gid_File_Lib_Vclplug_Kde4,
 	gid_File_Lib_Vclplug_Svp,
 	gid_File_Lib_Basctl,
 	gid_File_Lib_CanvasTools,
--- scp2/source/kde/file_kde.scp	2009-06-10 18:17:35.016187781 -0400
+++ scp2/source/kde/file_kde.scp	2009-06-10 18:17:59.143438694 -0400
@@ -38,3 +38,12 @@
     Regmergefile = "kdebe1-ucd.txt";
 End
 
+File gid_File_Lib_Kde4be
+    TXT_FILE_BODY;
+    Styles = (PACKED);
+    Dir = gid_Dir_Program;
+    Name = STRING(CONCAT2(kde4be1.uno,UNXSUFFIX));
+    RegistryID = gid_Starregistry_Services_Rdb;
+    Regmergefile = "kde4be1-ucd.txt";
+End
+
--- scp2/source/kde/module_kde.scp	2008-04-10 05:26:32.000000000 -0400
+++ scp2/source/kde/module_kde.scp	2009-06-10 18:18:49.028067947 -0400
@@ -30,6 +30,16 @@
 
 #include "macros.inc"
 
+#ifdef ENABLE_KDE4
+Module gid_Module_Optional_Kde
+    ParentID = gid_Module_Optional;
+    Default = YES;
+    PackageInfo = "packinfo_office.txt";
+    MOD_NAME_DESC(MODULE_OPTIONAL_KDE);
+    Styles = (DONTSHOWINUSERINSTALL);
+    Files = (gid_File_Lib_Kde4be);
+End
+#else
 Module gid_Module_Optional_Kde
     ParentID = gid_Module_Optional;
     Default = YES;
@@ -38,4 +48,5 @@
     Styles = (DONTSHOWINUSERINSTALL);
     Files = (gid_File_Lib_Kdebe);
 End
+#endif
 
