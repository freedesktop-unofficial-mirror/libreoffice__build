fix a nasty clipboard crasher in slidesorter

From: Thorsten Behrens <thb@openoffice.org>


---

 svx/inc/svx/svdoashp.hxx       |    2 ++
 svx/source/svdraw/svdoashp.cxx |    6 ++++++
 2 files changed, 8 insertions(+), 0 deletions(-)


diff --git svx/inc/svx/svdoashp.hxx svx/inc/svx/svdoashp.hxx
index 10b5103..39fcf90 100644
--- svx/inc/svx/svdoashp.hxx
+++ svx/inc/svx/svdoashp.hxx
@@ -179,6 +179,8 @@ public:
 	virtual UINT16 GetObjIdentifier() const;
 	virtual void TakeObjInfo(SdrObjTransformInfoRec& rInfo) const;
 
+	virtual void SetModel(SdrModel* pNewModel);
+
 	virtual void RecalcSnapRect();
 
 	virtual const Rectangle& GetSnapRect()  const;
diff --git svx/source/svdraw/svdoashp.cxx svx/source/svdraw/svdoashp.cxx
index 73cdbd8..483859a 100644
--- svx/source/svdraw/svdoashp.cxx
+++ svx/source/svdraw/svdoashp.cxx
@@ -1678,6 +1678,12 @@ void SdrObjCustomShape::TakeObjInfo(SdrObjTransformInfoRec& rInfo) const
 	}
 }
 
+void SdrObjCustomShape::SetModel(SdrModel* pNewModel)
+{
+	SdrTextObj::SetModel(pNewModel);
+    mXRenderedCustomShape.clear();
+}
+
 UINT16 SdrObjCustomShape::GetObjIdentifier() const
 {
 	return UINT16(OBJ_CUSTOMSHAPE);
