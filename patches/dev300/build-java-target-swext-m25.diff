--- apache-commons/java/codec/makefile.mk.javatarget~	2008-04-11 13:13:47.000000000 +0200
+++ apache-commons/java/codec/makefile.mk	2008-07-07 20:04:44.670095301 +0200
@@ -61,7 +61,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) $(ANT_JAVA_VER_FLAGS) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
--- apache-commons/java/httpclient/makefile.mk.javatarget~	2008-04-11 13:14:05.000000000 +0200
+++ apache-commons/java/httpclient/makefile.mk	2008-07-07 20:04:44.671097733 +0200
@@ -50,7 +50,7 @@ TARFILE_NAME=commons-httpclient-3.1-src
 
 TARFILE_ROOTDIR=commons-httpclient-3.1
 
-#PATCH_FILE_NAME=patches$/httpclient.patch
+PATCH_FILE_NAME=patches$/httpclient.patch
 
 #CONVERTFILES=build.xml
 				
@@ -64,7 +64,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
 .ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)"  -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
+BUILD_ACTION=$(ANT) $(ANT_JAVA_VER_FLAGS) -Dbuild.label="build-$(RSCREVISION)"  -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
--- apache-commons/patches/httpclient.patch.javatarget~	2008-07-07 20:04:44.672095625 +0200
+++ apache-commons/patches/httpclient.patch	2008-07-07 20:04:44.672095625 +0200
@@ -0,0 +1,29 @@
+--- misc/build/commons-httpclient-3.1/build.xml.old	2007-08-18 11:02:14.000000000 +0200
++++ misc/build/commons-httpclient-3.1/build.xml	2008-07-02 15:51:48.000000000 +0200
+@@ -181,6 +181,8 @@
+            destdir     ="${build.home}/classes"
+            debug       ="${compile.debug}"
+            deprecation ="${compile.deprecation}"
++	   source      ="${java.source.ver}" 
++	   target      ="${java.target.ver}" 
+            optimize    ="${compile.optimize}">
+       <classpath refid="compile.classpath"/>
+     </javac>
+@@ -188,6 +190,8 @@
+            destdir     ="${build.home}/examples"
+            debug       ="${compile.debug}"
+            deprecation ="${compile.deprecation}"
++	   source      ="${java.source.ver}" 
++	   target      ="${java.target.ver}" 
+            optimize    ="${compile.optimize}">
+       <classpath refid="compile.classpath"/>
+     </javac>
+@@ -199,6 +203,8 @@
+            destdir     ="${build.home}/tests"
+            debug       ="${compile.debug}"
+            deprecation ="${compile.deprecation}"
++	   source      ="${java.source.ver}" 
++	   target      ="${java.target.ver}" 
+            optimize    ="${compile.optimize}">
+       <classpath refid="test.classpath"/>
+     </javac>
--- tomcat/makefile.mk.javatarget~	2008-06-24 12:13:43.000000000 +0200
+++ tomcat/makefile.mk	2008-07-07 20:04:44.688096262 +0200
@@ -52,7 +52,7 @@ ADDITIONAL_FILES = jakarta-servletapi-5/
 PATCH_FILE_NAME=tomcat.patch
 
 BUILD_DIR=jakarta-servletapi-5
-BUILD_ACTION=$(ANT)
+BUILD_ACTION=$(ANT) $(ANT_JAVA_VER_FLAGS)
 
 # --- Targets ------------------------------------------------------
 
--- tomcat/tomcat.patch.javatarget~	2008-06-24 12:14:12.000000000 +0200
+++ tomcat/tomcat.patch	2008-07-07 20:06:21.247846314 +0200
@@ -33,3 +33,55 @@
 +  </target>
 +
 +</project>
+--- misc/build/jakarta-tomcat-5.0.30-src/jakarta-servletapi-5/jsr152/build.xml.old	2004-11-24 17:54:57.000000000 +0100
++++ misc/build/jakarta-tomcat-5.0.30-src/jakarta-servletapi-5/jsr152/build.xml	2008-07-02 16:03:57.000000000 +0200
+@@ -69,6 +69,7 @@
+     <!-- Java classes -->
+     <javac srcdir="src/share" destdir="${jsp-api.build}/classes"
+            debug="${compile.debug}" deprecation="${compile.deprecation}"
++	   source="${java.source.ver}" target="${java.target.ver}"
+         optimize="${compile.optimize}"
+        classpath="${servlet-api.jar}" />
+ 
+@@ -112,6 +113,7 @@
+     <javac  srcdir="src/ant" destdir="${jsp-api.build}/ant"
+             debug="${compile.debug}" deprecation="${compile.deprecation}"
+             optimize="${compile.optimize}" 
++	    source="${java.source.ver}" target="${java.target.ver}"
+             classpath="${ant.home}/lib/ant.jar" />
+     <taskdef    name="txt2html" classname="task.Txt2Html"
+                 classpath="${jsp-api.build}/ant" />
+@@ -202,6 +204,7 @@
+     <javac   srcdir="examples/WEB-INF/classes" 
+              destdir="${jsp-api.build}/examples/WEB-INF/classes"
+              debug="${compile.debug}" deprecation="${compile.deprecation}"
++	     source="${java.source.ver}" target="${java.target.ver}"
+              optimize="${compile.optimize}"
+              excludes="**/CVS/**">
+       <classpath refid="examples.classpath" />
+@@ -210,6 +213,7 @@
+     <javac   srcdir="examples/plugin/applet" 
+              destdir="${jsp-api.build}/examples/plugin/applet"
+              debug="${compile.debug}" deprecation="${compile.deprecation}"
++	     source="${java.source.ver}" target="${java.target.ver}"
+              optimize="${compile.optimize}"
+              excludes="**/CVS/**">
+       <classpath refid="examples.classpath" />
+--- misc/build/jakarta-tomcat-5.0.30-src/jakarta-servletapi-5/jsr154/build.xml.old	2004-11-24 17:55:01.000000000 +0100
++++ misc/build/jakarta-tomcat-5.0.30-src/jakarta-servletapi-5/jsr154/build.xml	2008-07-02 16:10:05.000000000 +0200
+@@ -64,6 +64,7 @@
+     <!-- Java classes -->
+     <javac srcdir="src/share" destdir="${servlet-api.build}/classes"
+            debug="${compile.debug}" deprecation="${compile.deprecation}"
++	   source="${java.source.ver}" target="${java.target.ver}"
+         optimize="${compile.optimize}"/>
+ 
+     <!-- Associated property files -->
+@@ -110,6 +111,7 @@
+     <javac   srcdir="examples/WEB-INF/classes" 
+              destdir="${servlet-api.build}/examples/WEB-INF/classes"
+              debug="${compile.debug}" deprecation="${compile.deprecation}"
++	     source="${java.source.ver}" target="${java.target.ver}"
+              optimize="${compile.optimize}"
+              excludes="**/CVS/**">
+       <classpath refid="examples.classpath" />
