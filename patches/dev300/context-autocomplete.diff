From a89e9ed15b1fe1d44f014e725dc66980fcf35323 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 16:57:13 +0200
Subject: [PATCH 221/768] context-autocomplete.diff

---
 sw/source/ui/docvw/edtwin.cxx |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

diff --git sw/source/ui/docvw/edtwin.cxx sw/source/ui/docvw/edtwin.cxx
index f299146..7c10b18 100644
--- sw/source/ui/docvw/edtwin.cxx
+++ sw/source/ui/docvw/edtwin.cxx
@@ -5637,7 +5637,13 @@ void QuickHelpData::FillStrArr( SwWrtShell& rSh, const String& rWord )
             if( rS.Len() > rWord.Len() )
             {
                 String* pNew = new String( rS );
-                if( !aArr.Insert( pNew ) )
+                ByteString bStr(::rtl::OUStringToOString (rWord, RTL_TEXTENCODING_UTF8));
+                if (bStr.IsLowerAscii())
+                    pNew->ToLowerAscii();
+                else if (bStr.IsUpperAscii())
+                    pNew->ToUpperAscii();
+
+                if( !aArr.Insert(pNew  ) )
                     delete pNew;
             }
             ++nStt;
-- 
1.7.0.1

