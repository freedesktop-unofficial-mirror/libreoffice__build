From 9bee6a81d40996b2e07863d15804de286267c64d Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 16:57:13 +0200
Subject: [PATCH 250/878] context-autocomplete.diff

---
 sw/source/ui/docvw/edtwin.cxx |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

diff --git a/sw/source/ui/docvw/edtwin.cxx b/sw/source/ui/docvw/edtwin.cxx
index 4199b2e..72805d7 100644
--- a/sw/source/ui/docvw/edtwin.cxx
+++ b/sw/source/ui/docvw/edtwin.cxx
@@ -5608,7 +5608,13 @@ void QuickHelpData::FillStrArr( SwWrtShell& rSh, const String& rWord )
             if( rS.Len() > rWord.Len() )
             {
                 String* pNew = new String( rS );
-                if( !aArr.Insert( pNew ) )
+                ByteString bStr(::rtl::OUStringToOString (rWord, RTL_TEXTENCODING_UTF8));
+                if (bStr.IsLowerAscii())
+                    pNew->ToLowerAscii();
+                else if (bStr.IsUpperAscii())
+                    pNew->ToUpperAscii();
+
+                if( !aArr.Insert(pNew  ) )
                     delete pNew;
             }
             ++nStt;
-- 
1.7.0.1

