---
 apache-commons/java/codec/makefile.mk      |    2 +-
 apache-commons/java/httpclient/makefile.mk |    2 +-
 jfreereport/java/flute/makefile.mk         |    2 +-
 jfreereport/java/jfreereport/makefile.mk   |    2 +-
 jfreereport/java/libbase/makefile.mk       |    2 +-
 jfreereport/java/libfonts/makefile.mk      |    2 +-
 jfreereport/java/libformula/makefile.mk    |    2 +-
 jfreereport/java/liblayout/makefile.mk     |    2 +-
 jfreereport/java/libloader/makefile.mk     |    2 +-
 jfreereport/java/librepository/makefile.mk |    2 +-
 jfreereport/java/libserializer/makefile.mk |    2 +-
 jfreereport/java/libxml/makefile.mk        |    2 +-
 jfreereport/java/sac/makefile.mk           |    2 +-
 tomcat/makefile.mk                         |    5 +++++
 14 files changed, 18 insertions(+), 13 deletions(-)

diff --git apache-commons/java/codec/makefile.mk apache-commons/java/codec/makefile.mk
index 6976731..be96f87 100644
--- apache-commons/java/codec/makefile.mk
+++ apache-commons/java/codec/makefile.mk
@@ -58,7 +58,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git apache-commons/java/httpclient/makefile.mk apache-commons/java/httpclient/makefile.mk
index 8e4f2ca..900fb08 100644
--- apache-commons/java/httpclient/makefile.mk
+++ apache-commons/java/httpclient/makefile.mk
@@ -66,7 +66,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
 .ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)"  -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
+BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)"  -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) dist
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/flute/makefile.mk jfreereport/java/flute/makefile.mk
index 9444d75..ffe668c 100644
--- jfreereport/java/flute/makefile.mk
+++ jfreereport/java/flute/makefile.mk
@@ -51,7 +51,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/jfreereport/makefile.mk jfreereport/java/jfreereport/makefile.mk
index b527d28..cd815d2 100644
--- jfreereport/java/jfreereport/makefile.mk
+++ jfreereport/java/jfreereport/makefile.mk
@@ -51,7 +51,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/libbase/makefile.mk jfreereport/java/libbase/makefile.mk
index 1cbfc11..15197e0 100644
--- jfreereport/java/libbase/makefile.mk
+++ jfreereport/java/libbase/makefile.mk
@@ -50,7 +50,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/libfonts/makefile.mk jfreereport/java/libfonts/makefile.mk
index f59b3cc..cd2ff34 100644
--- jfreereport/java/libfonts/makefile.mk
+++ jfreereport/java/libfonts/makefile.mk
@@ -50,7 +50,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/libformula/makefile.mk jfreereport/java/libformula/makefile.mk
index 4372ce2..28fcf99 100644
--- jfreereport/java/libformula/makefile.mk
+++ jfreereport/java/libformula/makefile.mk
@@ -52,7 +52,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 
diff --git jfreereport/java/liblayout/makefile.mk jfreereport/java/liblayout/makefile.mk
index 0340e43..ba70d79 100644
--- jfreereport/java/liblayout/makefile.mk
+++ jfreereport/java/liblayout/makefile.mk
@@ -50,7 +50,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/libloader/makefile.mk jfreereport/java/libloader/makefile.mk
index ce97b40..cfb5955 100644
--- jfreereport/java/libloader/makefile.mk
+++ jfreereport/java/libloader/makefile.mk
@@ -50,7 +50,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/librepository/makefile.mk jfreereport/java/librepository/makefile.mk
index e11639c..d39daa1 100644
--- jfreereport/java/librepository/makefile.mk
+++ jfreereport/java/librepository/makefile.mk
@@ -50,7 +50,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/libserializer/makefile.mk jfreereport/java/libserializer/makefile.mk
index 12a301e..05cf850 100644
--- jfreereport/java/libserializer/makefile.mk
+++ jfreereport/java/libserializer/makefile.mk
@@ -50,7 +50,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/libxml/makefile.mk jfreereport/java/libxml/makefile.mk
index d0c8bb4..17109ee 100644
--- jfreereport/java/libxml/makefile.mk
+++ jfreereport/java/libxml/makefile.mk
@@ -50,7 +50,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dlib="../../../class" -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git jfreereport/java/sac/makefile.mk jfreereport/java/sac/makefile.mk
index 44cb284..a0dafe9 100644
--- jfreereport/java/sac/makefile.mk
+++ jfreereport/java/sac/makefile.mk
@@ -60,7 +60,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) all
 .ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) all
+BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) all
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
diff --git tomcat/makefile.mk tomcat/makefile.mk
index a4d8236..b440e84 100755
--- tomcat/makefile.mk
+++ tomcat/makefile.mk
@@ -49,7 +49,12 @@ ADDITIONAL_FILES = jakarta-servletapi-5/build.xml
 PATCH_FILES=tomcat.patch
 
 BUILD_DIR=jakarta-servletapi-5
+
+.IF "$(JAVACISGCJ)"=="yes"
 BUILD_ACTION=$(ANT)
+.ELSE
+BUILD_ACTION=$(ANT) -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER)
+.ENDIF
 
 # --- Targets ------------------------------------------------------
 
-- 
1.7.0.1

