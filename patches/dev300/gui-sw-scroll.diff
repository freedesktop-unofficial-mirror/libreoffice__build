From d596bd795a8a9d8b2d0ea99fa892e7ceeb2820f4 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 16:53:49 +0200
Subject: [PATCH 072/878] gui-sw-scroll.diff

---
 sw/source/ui/uiview/viewport.cxx |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/sw/source/ui/uiview/viewport.cxx b/sw/source/ui/uiview/viewport.cxx
index 942723d..5522e75 100644
--- a/sw/source/ui/uiview/viewport.cxx
+++ b/sw/source/ui/uiview/viewport.cxx
@@ -719,6 +719,7 @@ IMPL_LINK( SwView, ScrollHdl, SwScrollbar *, pScrollbar )
         //Hier wieder auskommentieren wenn das mitscrollen nicht gewuenscht ist.
         // JP 21.07.00: the end scrollhandler invalidate the FN_STAT_PAGE,
         // 				so we dont must do it agin.
+        long nOldPge = nPgNum;
         EndScrollHdl(pScrollbar);
 
         Point aPos( aVisArea.TopLeft() );
@@ -738,7 +739,7 @@ IMPL_LINK( SwView, ScrollHdl, SwScrollbar *, pScrollbar )
             //QuickHelp:
             if( pWrtShell->GetPageCnt() > 1 && Help::IsQuickHelpEnabled() )
             {
-                if( !nPgNum || nPgNum != nPhNum )
+                if( !nOldPge || nOldPge != nPhNum )
                 {
                     Rectangle aRect;
                     aRect.Left() = pScrollbar->GetParent()->OutputToScreenPixel(
-- 
1.7.0.1

