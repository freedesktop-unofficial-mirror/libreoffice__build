From 1541a46c9c6df6d6cf2c1666dedcd1b4653ff952 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 16:57:47 +0200
Subject: [PATCH 250/768] ucb-neon-0.24.diff

---
 ucb/source/ucp/webdav/NeonSession.cxx |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

diff --git ucb/source/ucp/webdav/NeonSession.cxx ucb/source/ucp/webdav/NeonSession.cxx
index 6ab782b..b385ddc 100644
--- ucb/source/ucp/webdav/NeonSession.cxx
+++ ucb/source/ucp/webdav/NeonSession.cxx
@@ -838,10 +838,13 @@ void NeonSession::Init()
         ne_redirect_register( m_pHttpSession );
 
         // authentication callbacks.
-        ne_add_server_auth(
-            m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
-        ne_add_proxy_auth(
-            m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
+#if NEON_VERSION >= 0x0260
+        ne_add_server_auth( m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this ); 
+        ne_add_proxy_auth ( m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
+#else
+        ne_set_server_auth( m_pHttpSession, NeonSession_NeonAuth, this );
+        ne_set_proxy_auth ( m_pHttpSession, NeonSession_NeonAuth, this );
+#endif
     }
 }
 
-- 
1.7.0.1

