---
 ucb/source/ucp/webdav/NeonSession.cxx |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

diff --git ucb/source/ucp/webdav/NeonSession.cxx ucb/source/ucp/webdav/NeonSession.cxx
index 254fae5..77d12ec 100644
--- ucb/source/ucp/webdav/NeonSession.cxx
+++ ucb/source/ucp/webdav/NeonSession.cxx
@@ -817,10 +817,13 @@ void NeonSession::Init()
         ne_redirect_register( m_pHttpSession );
 
         // authentication callbacks.
-        ne_add_server_auth(
-            m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
-        ne_add_proxy_auth(
-            m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
+#if NEON_VERSION >= 0x0260
+        ne_add_server_auth( m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this ); 
+        ne_add_proxy_auth ( m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
+#else
+        ne_set_server_auth( m_pHttpSession, NeonSession_NeonAuth, this );
+        ne_set_proxy_auth ( m_pHttpSession, NeonSession_NeonAuth, this );
+#endif
     }
 }
 
-- 
1.7.0.1

