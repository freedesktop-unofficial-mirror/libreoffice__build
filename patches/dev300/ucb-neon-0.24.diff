--- ucb/source/ucp/webdav/NeonSession.cxx
+++ ucb/source/ucp/webdav/NeonSession.cxx
@@ -38,7 +38,16 @@
 #include <ne_auth.h>
 #include <ne_redirect.h>
 #include <ne_ssl.h>
+
+#if NEON_VERSION < 0x0260
+// old neon versions forgot to set this
+extern "C" {
+#endif
 #include <ne_compress.h>
+#if NEON_VERSION < 0x0260
+}
+#endif
+
 #include "libxml/parser.h"
 #include "rtl/ustrbuf.hxx"
 #include "comphelper/sequence.hxx"
@@ -817,10 +817,13 @@ void NeonSession::Init()
         ne_redirect_register( m_pHttpSession );
 
         // authentication callbacks.
-        ne_add_server_auth(
-            m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
-        ne_add_proxy_auth(
-            m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
+#if NEON_VERSION >= 0x0260
+        ne_add_server_auth( m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this ); 
+        ne_add_proxy_auth ( m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
+#else
+        ne_set_server_auth( m_pHttpSession, NeonSession_NeonAuth, this );
+        ne_set_proxy_auth ( m_pHttpSession, NeonSession_NeonAuth, this );
+#endif
     }
 }
 
