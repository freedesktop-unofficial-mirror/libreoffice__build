--- ucb/source/ucp/webdav/NeonSession.cxx.old	2009-02-26 09:39:43.000000000 +0100
+++ ucb/source/ucp/webdav/NeonSession.cxx	2009-03-09 13:25:15.000000000 +0100
@@ -841,8 +841,13 @@ void NeonSession::Init()
         ne_redirect_register( m_pHttpSession );
 
         // authentication callbacks.
+#if NEON_VERSION >= 0x0260
 		ne_add_server_auth( m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this ); 
 		ne_add_proxy_auth ( m_pHttpSession, NE_AUTH_ALL, NeonSession_NeonAuth, this );
+#else
+        ne_set_server_auth( m_pHttpSession, NeonSession_NeonAuth, this );
+        ne_set_proxy_auth ( m_pHttpSession, NeonSession_NeonAuth, this );
+#endif
     }
 }
 
