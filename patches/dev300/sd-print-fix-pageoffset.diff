From 6b54b3640611d7ee288b5549abca6c11eebe070b Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:06:52 +0200
Subject: [PATCH 733/878] sd-print-fix-pageoffset.diff

---
 sd/source/ui/view/PrintManager.cxx |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

diff --git a/sd/source/ui/view/PrintManager.cxx b/sd/source/ui/view/PrintManager.cxx
index 2041edf..39413fb 100644
--- a/sd/source/ui/view/PrintManager.cxx
+++ b/sd/source/ui/view/PrintManager.cxx
@@ -1614,15 +1614,18 @@ void PrintManager::PrintStdOrNotes (
                             }
                             else
                             {
+                Point aOrigin;
+
+                // if the printable area is bigger than page size, center the page
+                if( aPageSize.Width() < aPrintWidth )
+                    aOrigin.X() = ( aPrintWidth - aPageSize.Width() )/2;
+                if( aPageSize.Height() < aPrintHeight )
+                    aOrigin.Y() = ( aPrintHeight - aPageSize.Height() )/2;
+
                                 // Handle 3.  Print parts of the page in the
                                 // size of the printable area until the
                                 // whole page is covered.
 
-                                // keep the page content at its
-                                // position if it fits, otherwise move
-                                // it to the printable area
-                                Point aOrigin (aPageWidth < aPrintWidth ? -aPageOfs.X() : 0, aPageHeight < aPrintHeight ? -aPageOfs.Y() : 0);
-
                                 for (aPageOrigin = aOrigin;
                                      -aPageOrigin.Y()<aPageHeight;
                                          aPageOrigin.Y() -= aPrintHeight)
-- 
1.7.0.1

