From 51fd578cf676a2be835deaeeaadd650b50841199 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:01:12 +0200
Subject: [PATCH 448/878] transogl-transitions-sd.diff

---
 sd/prj/build.lst   |    5 +++--
 sd/xml/makefile.mk |   13 +++++++++++++
 2 files changed, 16 insertions(+), 2 deletions(-)
 create mode 100644 sd/xml/makefile.mk

diff --git a/sd/prj/build.lst b/sd/prj/build.lst
index ace6165..62bc4d4 100644
--- a/sd/prj/build.lst
+++ b/sd/prj/build.lst
@@ -33,7 +33,7 @@ sd	sd\source\filter						nmake	-	all	sd_filt sd_sdi sd_ppt sd_inc NULL
 sd	sd\source\filter\cgm					nmake	-	all	sd_cgm sd_inc NULL
 sd	sd\source\filter\eppt					nmake	-	all	sd_eppt sd_inc NULL
 sd	sd\source\filter\grf					nmake	-	all	sd_grf sd_inc NULL
-sd	sd\source\filter\xml					nmake	-	all	sd_xml sd_inc NULL
+sd	sd\source\filter\xml					nmake	-	all	sd_filter_xml sd_inc NULL
 sd	sd\source\filter\html					nmake	-	all	sd_html sd_inc NULL
 sd	sd\source\ui\animations					nmake	-	all sd_animations sd_inc NULL
 sd	sd\source\ui\slideshow					nmake	-	all sd_slideshow sd_sdi sd_inc NULL
@@ -43,4 +43,5 @@ sd	sd\source\ui\framework\module       	nmake	-	all sd_framework_module sd_inc N
 sd	sd\source\ui\framework\factories       	nmake	-	all sd_framework_factories sd_inc NULL
 sd	sd\source\ui\framework\tools           	nmake	-	all sd_framework_tools sd_inc NULL
 sd	sd\source\ui\annotations				nmake	-	all sd_uiannotations sd_inc NULL
-sd	sd\util									nmake	-	all	sd_util sd_app sd_cgm sd_core sd_dlg sd_docsh sd_eppt sd_filt sd_func sd_grf sd_unid sd_view sd_xml sd_html sd_ppt sd_accessibility sd_animations sd_toolpanel sd_toolpanel_controls sd_tools sd_slsshell sd_slsmodel sd_slsview sd_slscontroller sd_slscache sd_notes sd_table sd_slideshow sd_presenter sd_undo sd_helper sd_framework_configuration sd_framework_module sd_framework_tools sd_framework_factories sd_text sd_annotations sd_uiannotations NULL
+sd	sd\util									nmake	-	all	sd_util sd_app sd_cgm sd_core sd_dlg sd_docsh sd_eppt sd_filt sd_func sd_grf sd_unid sd_view sd_filter_xml sd_html sd_ppt sd_accessibility sd_animations sd_toolpanel sd_toolpanel_controls sd_tools sd_slsshell sd_slsmodel sd_slsview sd_slscontroller sd_slscache sd_notes sd_table sd_slideshow sd_presenter sd_undo sd_helper sd_framework_configuration sd_framework_module sd_framework_tools sd_framework_factories sd_text sd_annotations sd_uiannotations NULL
+sd	sd\xml									nmake	-	all	sd_xml NULL
diff --git a/sd/xml/makefile.mk b/sd/xml/makefile.mk
new file mode 100644
index 0000000..7fe266b
--- /dev/null
+++ b/sd/xml/makefile.mk
@@ -0,0 +1,13 @@
+PRJ=..
+PRJNAME=sd
+
+.INCLUDE :  settings.mk
+
+.IF "$(ENABLE_OPENGL)" != "TRUE"
+@all:
+    @echo "Building without OpenGL Transitions..."
+    @test -f transitions-ogl.xml && mv transitions-ogl.xml transitions-ogl || true
+.ELSE
+@all:
+    @test ! -f transitions-ogl.xml && mv transitions-ogl transitions-ogl.xml || true
+.ENDIF
-- 
1.7.0.1

