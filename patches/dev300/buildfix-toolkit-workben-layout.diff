From d4219bb86f1484b9c8dbafb221a03433f8d6d913 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:02:15 +0200
Subject: [PATCH 505/878] buildfix-toolkit-workben-layout.diff

---
 toolkit/workben/layout/TEST       |    2 +-
 toolkit/workben/layout/test.cxx   |    5 +++++
 toolkit/workben/layout/tpsort.cxx |    2 +-
 3 files changed, 7 insertions(+), 2 deletions(-)

diff --git a/toolkit/workben/layout/TEST b/toolkit/workben/layout/TEST
index 8a04a66..0eb0a94 100755
--- a/toolkit/workben/layout/TEST
+++ b/toolkit/workben/layout/TEST
@@ -1,5 +1,5 @@
 #! /bin/sh
-for d in $(cd ../../../../.. && pwd)/ooo-svn /usr/lib/ooo3/; do
+for d in $(cd ../../../../.. && pwd)/ooo-git /usr/lib/ooo3/; do
     if test -d $d; then
         export OOO_INSTALL_PREFIX=$d
 	break
diff --git a/toolkit/workben/layout/test.cxx b/toolkit/workben/layout/test.cxx
index 8567c4d..942933a 100644
--- a/toolkit/workben/layout/test.cxx
+++ b/toolkit/workben/layout/test.cxx
@@ -199,6 +199,11 @@ void LayoutTest::ParseCommandLine()
         OUString aParam = OUString( GetCommandLineParam( i ) );
         if ( aParam.equalsAscii( "-h" ) || aParam.equalsAscii( "--help" ) )
             usage();
+        if ( aParam.equalsAscii( "--oustring-cstr"))
+            exit (printf ("%s: The strings: %s and %s.\n",
+                          __PRETTY_FUNCTION__,
+                          OUSTRING_CSTR (OUString::createFromAscii ("foo")),
+                          OUSTRING_CSTR (OUString::createFromAscii ("bar"))));
         if ( aParam.equalsAscii( "--inst" ) )
         {
             if ( i >= GetCommandLineParamCount() - 1)
diff --git a/toolkit/workben/layout/tpsort.cxx b/toolkit/workben/layout/tpsort.cxx
index d862f07..acfde5e 100644
--- a/toolkit/workben/layout/tpsort.cxx
+++ b/toolkit/workben/layout/tpsort.cxx
@@ -442,7 +442,7 @@ void ScTabPageSortFields::FillFieldLists()
                     {
                         aFieldName	= aStrColumn;
                         aFieldName += ' ';
-                        aFieldName += ColToAlpha( col );
+                        aFieldName += ScColToAlpha( col );
                     }
                     nFieldArr[i] = col;
                     aLbSort1.InsertEntry( aFieldName, i );
-- 
1.7.0.1

