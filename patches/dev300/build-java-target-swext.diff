--- apache-commons/java/codec/makefile.mk.old	2008-07-17 15:39:27.000000000 +0200
+++ apache-commons/java/codec/makefile.mk	2008-08-25 16:28:13.000000000 +0200
@@ -61,7 +61,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -f $(ANT_BUILDFILE) jar
 .ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -f $(ANT_BUILDFILE) jar
+BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) jar
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
--- apache-commons/java/httpclient/makefile.mk.old	2008-07-17 15:39:42.000000000 +0200
+++ apache-commons/java/httpclient/makefile.mk	2008-08-25 16:30:51.000000000 +0200
@@ -64,7 +64,7 @@ JAVA_HOME=
 .EXPORT : JAVA_HOME
 BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)" -Dbuild.compiler=gcj -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
 .ELSE
-BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)"  -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -f $(ANT_BUILDFILE) dist
+BUILD_ACTION=$(ANT) -Dbuild.label="build-$(RSCREVISION)"  -Dcommons-logging.jar=$(COMMONS_LOGGING_JAR) -Dcommons-codec.jar=$(COMMONS_CODEC_JAR) -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER) -f $(ANT_BUILDFILE) dist
 .ENDIF
 
 .ENDIF # $(SOLAR_JAVA)!= ""
--- tomcat/makefile.mk.old	2008-06-24 12:13:43.000000000 +0200
+++ tomcat/makefile.mk	2008-08-25 16:21:06.000000000 +0200
@@ -52,7 +52,12 @@ ADDITIONAL_FILES = jakarta-servletapi-5/
 PATCH_FILE_NAME=tomcat.patch
 
 BUILD_DIR=jakarta-servletapi-5
+
+.IF "$(JAVACISGCJ)"=="yes"
 BUILD_ACTION=$(ANT)
+.ELSE
+BUILD_ACTION=$(ANT) -Dant.build.javac.source=$(JAVA_SOURCE_VER) -Dant.build.javac.target=$(JAVA_TARGET_VER)
+.ENDIF
 
 # --- Targets ------------------------------------------------------
 
