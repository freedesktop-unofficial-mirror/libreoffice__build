From c1073d991cb674e344cdf5b62dd70f200e611d43 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 16:57:15 +0200
Subject: [PATCH 252/878] desktop-cmdhelp-stdout.diff

---
 desktop/source/app/cmdlinehelp.cxx |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/desktop/source/app/cmdlinehelp.cxx b/desktop/source/app/cmdlinehelp.cxx
index cbc67eb..0e5acdd 100644
--- a/desktop/source/app/cmdlinehelp.cxx
+++ b/desktop/source/app/cmdlinehelp.cxx
@@ -135,7 +135,8 @@ namespace desktop
         aHelpMessage_head.SearchAndReplaceAscii( "%CMDNAME", String( "soffice", RTL_TEXTENCODING_ASCII_US) );
 #ifdef UNX
         // on unix use console for output
-        fprintf(stderr, "%s\n", ByteString(aHelpMessage_head,
+        FILE* fs = stdout;
+        fprintf(fs, "%s\n", ByteString(aHelpMessage_head,
                     RTL_TEXTENCODING_ASCII_US).GetBuffer());
         // merge left and right column
         int n = aHelpMessage_left.GetTokenCount ('\n');
@@ -143,10 +144,10 @@ namespace desktop
         ByteString bsRight(aHelpMessage_right, RTL_TEXTENCODING_ASCII_US);
         for ( int i = 0; i < n; i++ )
         {
-            fprintf(stderr, "%s", bsLeft.GetToken(i, '\n').GetBuffer());
-            fprintf(stderr, "%s\n", bsRight.GetToken(i, '\n').GetBuffer());
+            fprintf(fs, "%s", bsLeft.GetToken(i, '\n').GetBuffer());
+            fprintf(fs, "%s\n", bsRight.GetToken(i, '\n').GetBuffer());
         }
-        fprintf(stderr, "%s", ByteString(aHelpMessage_bottom,
+        fprintf(fs, "%s", ByteString(aHelpMessage_bottom,
                     RTL_TEXTENCODING_ASCII_US).GetBuffer());
 #else
         // rest gets a dialog box
-- 
1.7.0.1

