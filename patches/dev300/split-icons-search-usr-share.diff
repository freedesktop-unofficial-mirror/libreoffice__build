--- xmlhelp/source/cxxhelp/provider/provider.cxx.old	2008-07-02 11:35:38.000000000 +0200
+++ xmlhelp/source/cxxhelp/provider/provider.cxx	2008-08-14 18:27:47.000000000 +0200
@@ -348,7 +348,7 @@ void ContentProvider::init()
         setupextension );
 	rtl::OUString vendorshort = vendorname;
 	
-    uno::Sequence< rtl::OUString > aImagesZipPaths( 2 );
+    uno::Sequence< rtl::OUString > aImagesZipPaths( 3 );
     xHierAccess = getHierAccess( sProvider,	 "org.openoffice.Office.Common" );
 	
     rtl::OUString aPath( getKey( xHierAccess, "Path/Current/UserConfig" ) );
@@ -357,6 +357,19 @@ void ContentProvider::init()
 
 	aPath = rtl::OUString(RTL_CONSTASCII_USTRINGPARAM("$OOO_BASE_DIR/share/config"));
 	rtl::Bootstrap::expandMacros(aPath);
+    aImagesZipPaths[ 2 ] = aPath;
+
+    // try also /usr/share and even before /usr/lib
+    ::rtl::OUString aDataDir = ::rtl::OUString::createFromAscii ( "/usr/share/" ); 
+#ifdef X86_64 
+    ::rtl::OUString aLibDir = ::rtl::OUString::createFromAscii ( "/usr/lib64/" ); 
+#else 
+    ::rtl::OUString aLibDir = ::rtl::OUString::createFromAscii ( "/usr/lib/" ); 
+#endif 
+    sal_Int32 nLibDirPos = aPath.indexOf( aLibDir ); 
+ 
+    if ( nLibDirPos >= 0 ) 
+	aPath = aPath.replaceAt( nLibDirPos, aLibDir.getLength(), aDataDir ); 
     aImagesZipPaths[ 1 ] = aPath;
 
 	uno::Reference< uno::XComponentContext > xContext;
