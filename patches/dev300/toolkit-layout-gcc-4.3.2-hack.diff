From fb51981172b21592c0ab3d513510f7071885d3e3 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:02:10 +0200
Subject: [PATCH 431/768] toolkit-layout-gcc-4.3.2-hack.diff

---
 toolkit/source/layout/core/makefile.mk |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git toolkit/source/layout/core/makefile.mk toolkit/source/layout/core/makefile.mk
index 2c90921..36d7f13 100644
--- toolkit/source/layout/core/makefile.mk
+++ toolkit/source/layout/core/makefile.mk
@@ -40,6 +40,10 @@ ENABLE_EXCEPTIONS=true
 # FIXME: This is bad, hmkay
 CFLAGS+= -I$(PRJ)/source
 
+.IF "$(CCNUMVER)" >= "000400030000" && "$(CCNUMVER)" < "000400040000"
+CFLAGS+= -O1
+.ENDIF
+
 SLOFILES= \
     $(SLO)$/bin.obj \
     $(SLO)$/box-base.obj \
-- 
1.7.0.1

