From c5b86cec0b78d7cb00ae5014441defda24ce2b92 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:05:54 +0200
Subject: [PATCH 610/768] xlsx-filter-as-a-separate-lib-guards.diff

---
 sc/source/filter/inc/XclExpChangeTrack.hxx |    4 ++++
 sc/source/filter/inc/excdoc.hxx            |    4 ++++
 sc/source/filter/inc/excrecds.hxx          |    4 ++++
 sc/source/filter/inc/exp_op.hxx            |    4 ++++
 sc/source/filter/inc/imp_op.hxx            |    4 ++++
 sc/source/filter/inc/xcl97esc.hxx          |    4 ++++
 sc/source/filter/inc/xcl97rec.hxx          |    4 ++++
 sc/source/filter/inc/xechart.hxx           |    4 ++++
 sc/source/filter/inc/xecontent.hxx         |    4 ++++
 sc/source/filter/inc/xeescher.hxx          |    4 ++++
 sc/source/filter/inc/xehelper.hxx          |    4 ++++
 sc/source/filter/inc/xelink.hxx            |    4 ++++
 sc/source/filter/inc/xename.hxx            |    4 ++++
 sc/source/filter/inc/xepage.hxx            |    4 ++++
 sc/source/filter/inc/xepivot.hxx           |    4 ++++
 sc/source/filter/inc/xerecord.hxx          |    4 ++++
 sc/source/filter/inc/xeroot.hxx            |    4 ++++
 sc/source/filter/inc/xestream.hxx          |    4 ++++
 sc/source/filter/inc/xestyle.hxx           |    4 ++++
 sc/source/filter/inc/xetable.hxx           |    4 ++++
 sc/source/filter/inc/xeview.hxx            |    4 ++++
 sc/source/filter/inc/xistyle.hxx           |    4 ++++
 sc/source/filter/inc/xladdress.hxx         |    4 ++++
 sc/source/filter/inc/xlescher.hxx          |    4 ++++
 sc/source/filter/inc/xlpivot.hxx           |    4 ++++
 sc/source/filter/inc/xlview.hxx            |    4 ++++
 sc/source/filter/xlsx/makefile.mk          |    2 ++
 27 files changed, 106 insertions(+), 0 deletions(-)

diff --git sc/source/filter/inc/XclExpChangeTrack.hxx sc/source/filter/inc/XclExpChangeTrack.hxx
index 24b723e..c19031a 100644
--- sc/source/filter/inc/XclExpChangeTrack.hxx
+++ sc/source/filter/inc/XclExpChangeTrack.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XCLEXPCHANGETRACK_HXX
 #define SC_XCLEXPCHANGETRACK_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <tools/debug.hxx>
 #include <tools/datetime.hxx>
 #include <rtl/uuid.h>
diff --git sc/source/filter/inc/excdoc.hxx sc/source/filter/inc/excdoc.hxx
index a94c7ff..ce9c0c1 100644
--- sc/source/filter/inc/excdoc.hxx
+++ sc/source/filter/inc/excdoc.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_EXCDOC_HXX
 #define SC_EXCDOC_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <tools/solar.h>
 #include "excrecds.hxx"
 #include "xeroot.hxx"
diff --git sc/source/filter/inc/excrecds.hxx sc/source/filter/inc/excrecds.hxx
index 1f7acfd..92992a8 100644
--- sc/source/filter/inc/excrecds.hxx
+++ sc/source/filter/inc/excrecds.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_EXCRECDS_HXX
 #define SC_EXCRECDS_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <tools/solar.h>
 #include <svl/zforlist.hxx>
 #include <tools/string.hxx>
diff --git sc/source/filter/inc/exp_op.hxx sc/source/filter/inc/exp_op.hxx
index a115c7b..de39c26 100644
--- sc/source/filter/inc/exp_op.hxx
+++ sc/source/filter/inc/exp_op.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_EXP_OP_HXX
 #define SC_EXP_OP_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "filter.hxx"
 #include "root.hxx"
 #include "xeroot.hxx"
diff --git sc/source/filter/inc/imp_op.hxx sc/source/filter/inc/imp_op.hxx
index 93724f6..8603cc6 100644
--- sc/source/filter/inc/imp_op.hxx
+++ sc/source/filter/inc/imp_op.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_IMP_OP_HXX
 #define SC_IMP_OP_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <tools/gen.hxx>
 #include "xiroot.hxx"
 #include "xistream.hxx"
diff --git sc/source/filter/inc/xcl97esc.hxx sc/source/filter/inc/xcl97esc.hxx
index e40e3f1..6c57fb8 100644
--- sc/source/filter/inc/xcl97esc.hxx
+++ sc/source/filter/inc/xcl97esc.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XCL97ESC_HXX
 #define SC_XCL97ESC_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <memory>
 #include <tools/table.hxx>
 #include <tools/stack.hxx>
diff --git sc/source/filter/inc/xcl97rec.hxx sc/source/filter/inc/xcl97rec.hxx
index 299b80d..9c5ec1e 100644
--- sc/source/filter/inc/xcl97rec.hxx
+++ sc/source/filter/inc/xcl97rec.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XCL97REC_HXX
 #define SC_XCL97REC_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "excrecds.hxx"
 #include "xcl97esc.hxx"
 #include "xlstyle.hxx"
diff --git sc/source/filter/inc/xechart.hxx sc/source/filter/inc/xechart.hxx
index 67f5f69..296645d 100644
--- sc/source/filter/inc/xechart.hxx
+++ sc/source/filter/inc/xechart.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XECHART_HXX
 #define SC_XECHART_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <tools/gen.hxx>
 #include "xerecord.hxx"
 #include "xlchart.hxx"
diff --git sc/source/filter/inc/xecontent.hxx sc/source/filter/inc/xecontent.hxx
index 4783814..026b64e 100644
--- sc/source/filter/inc/xecontent.hxx
+++ sc/source/filter/inc/xecontent.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XECONTENT_HXX
 #define SC_XECONTENT_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "rangelst.hxx"
 #include "xlcontent.hxx"
 #include "xladdress.hxx"
diff --git sc/source/filter/inc/xeescher.hxx sc/source/filter/inc/xeescher.hxx
index 259ab97..05a6576 100644
--- sc/source/filter/inc/xeescher.hxx
+++ sc/source/filter/inc/xeescher.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XEESCHER_HXX
 #define SC_XEESCHER_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <vcl/graph.hxx>
 #include <filter/msfilter/escherex.hxx>
 #include "xcl97rec.hxx"
diff --git sc/source/filter/inc/xehelper.hxx sc/source/filter/inc/xehelper.hxx
index 8e4094a..4a1552f 100644
--- sc/source/filter/inc/xehelper.hxx
+++ sc/source/filter/inc/xehelper.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XEHELPER_HXX
 #define SC_XEHELPER_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "xladdress.hxx"
 #include "xeroot.hxx"
 #include "xestring.hxx"
diff --git sc/source/filter/inc/xelink.hxx sc/source/filter/inc/xelink.hxx
index c70e496..84cf2ec 100644
--- sc/source/filter/inc/xelink.hxx
+++ sc/source/filter/inc/xelink.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XELINK_HXX
 #define SC_XELINK_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "markdata.hxx"
 #include "xllink.hxx"
 #include "xerecord.hxx"
diff --git sc/source/filter/inc/xename.hxx sc/source/filter/inc/xename.hxx
index d80b51f..92e330a 100644
--- sc/source/filter/inc/xename.hxx
+++ sc/source/filter/inc/xename.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XENAME_HXX
 #define SC_XENAME_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "xerecord.hxx"
 #include "xlname.hxx"
 #include "xlformula.hxx"
diff --git sc/source/filter/inc/xepage.hxx sc/source/filter/inc/xepage.hxx
index 1e96c98..b7c9e95 100644
--- sc/source/filter/inc/xepage.hxx
+++ sc/source/filter/inc/xepage.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XEPAGE_HXX
 #define SC_XEPAGE_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "xerecord.hxx"
 #include "xlpage.hxx"
 #include "xeroot.hxx"
diff --git sc/source/filter/inc/xepivot.hxx sc/source/filter/inc/xepivot.hxx
index 8841a71..6489813 100644
--- sc/source/filter/inc/xepivot.hxx
+++ sc/source/filter/inc/xepivot.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XEPIVOT_HXX
 #define SC_XEPIVOT_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <map>
 #include "xerecord.hxx"
 #include "xlpivot.hxx"
diff --git sc/source/filter/inc/xerecord.hxx sc/source/filter/inc/xerecord.hxx
index 6e1f7e7..e8c7c63 100644
--- sc/source/filter/inc/xerecord.hxx
+++ sc/source/filter/inc/xerecord.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XERECORD_HXX
 #define SC_XERECORD_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "xlconst.hxx"
 #include "xestream.hxx"
 
diff --git sc/source/filter/inc/xeroot.hxx sc/source/filter/inc/xeroot.hxx
index f9d3a6a..e3717e1 100644
--- sc/source/filter/inc/xeroot.hxx
+++ sc/source/filter/inc/xeroot.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XEROOT_HXX
 #define SC_XEROOT_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "xlroot.hxx"
 
 // Forward declarations of objects in public use ==============================
diff --git sc/source/filter/inc/xestream.hxx sc/source/filter/inc/xestream.hxx
index a8fae8f..a0ae4b0 100644
--- sc/source/filter/inc/xestream.hxx
+++ sc/source/filter/inc/xestream.hxx
@@ -30,6 +30,10 @@
 #ifndef SC_XESTREAM_HXX
 #define SC_XESTREAM_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <map>
 #include <stack>
 #include <string>
diff --git sc/source/filter/inc/xestyle.hxx sc/source/filter/inc/xestyle.hxx
index 81caa30..972edda 100644
--- sc/source/filter/inc/xestyle.hxx
+++ sc/source/filter/inc/xestyle.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XESTYLE_HXX
 #define SC_XESTYLE_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <map>
 #include <tools/mempool.hxx>
 #include <tools/string.hxx>
diff --git sc/source/filter/inc/xetable.hxx sc/source/filter/inc/xetable.hxx
index dcb7823..b8ea13c 100644
--- sc/source/filter/inc/xetable.hxx
+++ sc/source/filter/inc/xetable.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XETABLE_HXX
 #define SC_XETABLE_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "xltable.hxx"
 
 #include <deque>
diff --git sc/source/filter/inc/xeview.hxx sc/source/filter/inc/xeview.hxx
index 8373f8f..a9ae55d 100644
--- sc/source/filter/inc/xeview.hxx
+++ sc/source/filter/inc/xeview.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XEVIEW_HXX
 #define SC_XEVIEW_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include "xerecord.hxx"
 #include "xlview.hxx"
 #include "xeroot.hxx"
diff --git sc/source/filter/inc/xistyle.hxx sc/source/filter/inc/xistyle.hxx
index 1d3047e..3cd7b89 100644
--- sc/source/filter/inc/xistyle.hxx
+++ sc/source/filter/inc/xistyle.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XISTYLE_HXX
 #define SC_XISTYLE_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <list>
 #include <tools/mempool.hxx>
 #include "rangelst.hxx"
diff --git sc/source/filter/inc/xladdress.hxx sc/source/filter/inc/xladdress.hxx
index b8705ae..e3b3c41 100644
--- sc/source/filter/inc/xladdress.hxx
+++ sc/source/filter/inc/xladdress.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XLADDRESS_HXX
 #define SC_XLADDRESS_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <vector>
 #include "address.hxx"
 
diff --git sc/source/filter/inc/xlescher.hxx sc/source/filter/inc/xlescher.hxx
index d2b551d..92eebd2 100644
--- sc/source/filter/inc/xlescher.hxx
+++ sc/source/filter/inc/xlescher.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XLESCHER_HXX
 #define SC_XLESCHER_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <vcl/mapunit.hxx>
 #include "fapihelper.hxx"
 #include "xladdress.hxx"
diff --git sc/source/filter/inc/xlpivot.hxx sc/source/filter/inc/xlpivot.hxx
index b79218c..9698f95 100644
--- sc/source/filter/inc/xlpivot.hxx
+++ sc/source/filter/inc/xlpivot.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XLPIVOT_HXX
 #define SC_XLPIVOT_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <com/sun/star/sheet/GeneralFunction.hpp>
 #include <com/sun/star/sheet/DataPilotFieldOrientation.hpp>
 #include <com/sun/star/sheet/DataPilotFieldSortMode.hpp>
diff --git sc/source/filter/inc/xlview.hxx sc/source/filter/inc/xlview.hxx
index 8961bb4..b165402 100644
--- sc/source/filter/inc/xlview.hxx
+++ sc/source/filter/inc/xlview.hxx
@@ -28,6 +28,10 @@
 #ifndef SC_XLVIEW_HXX
 #define SC_XLVIEW_HXX
 
+#ifdef XLSX_GUARD
+#error Should not include this from sc/source/filter/xlsx code
+#endif
+
 #include <map>
 #include <tools/color.hxx>
 #include "ftools.hxx"
diff --git sc/source/filter/xlsx/makefile.mk sc/source/filter/xlsx/makefile.mk
index c59deea..68f1ddd 100644
--- sc/source/filter/xlsx/makefile.mk
+++ sc/source/filter/xlsx/makefile.mk
@@ -48,6 +48,8 @@ PROJECTPCHSOURCE=..\pch\filt_pch
 
 # --- Files --------------------------------------------------------
 
+CDEFS+=-DXLSX_GUARD
+
 SLOFILES =	\
         $(SLO)$/xlsx-excdoc.obj					\
         $(SLO)$/xlsx-excrecds.obj				\
-- 
1.7.0.1

