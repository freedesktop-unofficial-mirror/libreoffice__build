From c9f14c59ccefbe493c47f14e4def71ae93da304d Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:09:03 +0200
Subject: [PATCH 745/768] vcl-gtk-process-events-on-exit.diff

---
 vcl/unx/gtk/app/gtkdata.cxx |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git vcl/unx/gtk/app/gtkdata.cxx vcl/unx/gtk/app/gtkdata.cxx
index cf8f08a..fd23556 100644
--- vcl/unx/gtk/app/gtkdata.cxx
+++ vcl/unx/gtk/app/gtkdata.cxx
@@ -529,6 +529,7 @@ GtkXLib::~GtkXLib()
 #if OSL_DEBUG_LEVEL > 1
     fprintf( stderr, "GtkXLib::~GtkXLib()\n" );
 #endif
+    Yield( true, true );
     StopTimer();
      // sanity check: at this point nobody should be yielding, but wake them
      // up anyway before the condition they're waiting on gets destroyed.
-- 
1.7.0.1

