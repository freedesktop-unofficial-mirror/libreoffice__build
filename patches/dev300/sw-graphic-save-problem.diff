From 6fae41ec877c6dd6cc222fcadfe0957b2f9ef76f Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 16:53:12 +0200
Subject: [PATCH 026/768] sw-graphic-save-problem.diff

---
 sw/source/core/graphic/ndgrf.cxx |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git sw/source/core/graphic/ndgrf.cxx sw/source/core/graphic/ndgrf.cxx
index 3c2f958..cc62d29 100644
--- sw/source/core/graphic/ndgrf.cxx
+++ sw/source/core/graphic/ndgrf.cxx
@@ -858,6 +858,10 @@ void SwGrfNode::_GetStreamStorageNames( String& rStrmName,
     if( !aUserData.Len() )
         return;
 
+    if (aNewStrmName.Len()>0) {
+        aUserData=aNewStrmName;
+    }
+
     String aProt( RTL_CONSTASCII_STRINGPARAM( "vnd.sun.star.Package:" ) );
     if( 0 == aUserData.CompareTo( aProt, aProt.Len() ) )
     {
-- 
1.7.0.1

