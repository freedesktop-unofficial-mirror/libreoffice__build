From e945bec0636a15de86fa1cecfa0798439d2d2489 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:08:46 +0200
Subject: [PATCH 735/768] framework-netbook-use-small-screen-mode.diff

---
 framework/source/layoutmanager/layoutmanager.cxx |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

diff --git framework/source/layoutmanager/layoutmanager.cxx framework/source/layoutmanager/layoutmanager.cxx
index f5047d3..4130f56 100644
--- framework/source/layoutmanager/layoutmanager.cxx
+++ framework/source/layoutmanager/layoutmanager.cxx
@@ -6133,8 +6133,7 @@ void LayoutManager::implts_updateMenuBarClose()
             if ( pMenuBar )
             {
                 // TODO remove link on FALSE ?!
-          // TODO: override only when we are in small screen mode to not modify old behaviour
-          if ( TRUE /*bShowCloser*/ )
+            if ( pWindow->GetSmallScreenMode() || bShowCloser )
                 {
                     pMenuBar->ShowCloser( TRUE );
                     pMenuBar->SetCloserHdl( LINK( this, LayoutManager, MenuBarClose ));
-- 
1.7.0.1

