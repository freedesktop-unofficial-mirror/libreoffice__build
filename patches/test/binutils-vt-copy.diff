Only in binutils-2.16.91.0.5/bfd: aout32.lo
Only in binutils-2.16.91.0.5/bfd: aout32.o
Only in binutils-2.16.91.0.5/bfd: archive64.lo
Only in binutils-2.16.91.0.5/bfd: archive64.o
Only in binutils-2.16.91.0.5/bfd: archive.lo
Only in binutils-2.16.91.0.5/bfd: archive.o
Only in binutils-2.16.91.0.5/bfd: archures.lo
Only in binutils-2.16.91.0.5/bfd: archures.o
Only in binutils-2.16.91.0.5/bfd: bfd.h
Only in binutils-2.16.91.0.5/bfd: bfd-in3.h
Only in binutils-2.16.91.0.5/bfd: bfdio.lo
Only in binutils-2.16.91.0.5/bfd: bfdio.o
Only in binutils-2.16.91.0.5/bfd: bfd.lo
Only in binutils-2.16.91.0.5/bfd: bfd.o
Only in binutils-2.16.91.0.5/bfd: bfdsort.lo
Only in binutils-2.16.91.0.5/bfd: bfdsort.o
Only in binutils-2.16.91.0.5/bfd: bfdver.h
Only in binutils-2.16.91.0.5/bfd: bfdwin.lo
Only in binutils-2.16.91.0.5/bfd: bfdwin.o
Only in binutils-2.16.91.0.5/bfd: binary.lo
Only in binutils-2.16.91.0.5/bfd: binary.o
Only in binutils-2.16.91.0.5/bfd: cache.lo
Only in binutils-2.16.91.0.5/bfd: cache.o
Only in binutils-2.16.91.0.5/bfd: coffgen.lo
Only in binutils-2.16.91.0.5/bfd: coffgen.o
Only in binutils-2.16.91.0.5/bfd: cofflink.lo
Only in binutils-2.16.91.0.5/bfd: cofflink.o
Only in binutils-2.16.91.0.5/bfd: config.cache
Only in binutils-2.16.91.0.5/bfd: config.h
Only in binutils-2.16.91.0.5/bfd: config.log
Only in binutils-2.16.91.0.5/bfd: config.status
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/configure binutils-2.16.91.0.5/bfd/configure
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/configure	2005-12-20 22:43:55.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/configure	2007-03-12 11:10:17.000000000 +0000
@@ -12936,7 +12936,7 @@
 # Target backend .o files.
 tb=
 
-elf="elf.lo elflink.lo elf-strtab.lo elf-eh-frame.lo dwarf1.lo"
+elf="elf.lo elflink.lo elf-vtreloc.lo elf-strtab.lo elf-eh-frame.lo dwarf1.lo"
 
 for vec in $selvecs
 do
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/configure.in binutils-2.16.91.0.5/bfd/configure.in
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/configure.in	2005-12-20 22:43:55.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/configure.in	2007-03-12 11:10:17.000000000 +0000
@@ -551,7 +551,7 @@
 # Target backend .o files.
 tb=
 
-elf="elf.lo elflink.lo elf-strtab.lo elf-eh-frame.lo dwarf1.lo"
+elf="elf.lo elflink.lo elf-vtreloc.lo elf-strtab.lo elf-eh-frame.lo dwarf1.lo"
 
 for vec in $selvecs
 do
Only in binutils-2.16.91.0.5/bfd: corefile.lo
Only in binutils-2.16.91.0.5/bfd: corefile.o
Only in binutils-2.16.91.0.5/bfd: cpu-i386.lo
Only in binutils-2.16.91.0.5/bfd: cpu-i386.o
Only in binutils-2.16.91.0.5/bfd/doc: aoutx.texi
Only in binutils-2.16.91.0.5/bfd/doc: archive.texi
Only in binutils-2.16.91.0.5/bfd/doc: archures.texi
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/doc/bfd.info binutils-2.16.91.0.5/bfd/doc/bfd.info
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/doc/bfd.info	2007-02-16 17:15:57.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/doc/bfd.info	2007-03-12 11:06:28.000000000 +0000
@@ -1,5 +1,5 @@
-This is ../../../bfd/doc/bfd.info, produced by makeinfo version 4.8
-from ../../../bfd/doc/bfd.texinfo.
+This is ../.././bfd/doc/bfd.info, produced by makeinfo version 4.8 from
+../.././bfd/doc/bfd.texinfo.
 
 START-INFO-DIR-ENTRY
 * Bfd: (bfd).                   The Binary File Descriptor library.
@@ -10137,67 +10137,67 @@
 
 
 Tag Table:
-Node: Top726
-Node: Overview1058
-Node: History2109
-Node: How It Works3055
-Node: What BFD Version 2 Can Do4597
-Node: BFD information loss5912
-Node: Canonical format8444
-Node: BFD front end12816
-Node: Memory Usage38430
-Node: Initialization39658
-Node: Sections40117
-Node: Section Input40600
-Node: Section Output41965
-Node: typedef asection44451
-Node: section prototypes69408
-Node: Symbols79088
-Node: Reading Symbols80683
-Node: Writing Symbols81790
-Node: Mini Symbols83499
-Node: typedef asymbol84473
-Node: symbol handling functions89391
-Node: Archives94733
-Node: Formats98459
-Node: Relocations101407
-Node: typedef arelent102134
-Node: howto manager117945
-Node: Core Files178844
-Node: Targets179978
-Node: bfd_target181948
-Node: Architectures202028
-Node: Opening and Closing222958
-Node: Internal233960
-Node: File Caching240293
-Node: Linker Functions242207
-Node: Creating a Linker Hash Table243880
-Node: Adding Symbols to the Hash Table245618
-Node: Differing file formats246518
-Node: Adding symbols from an object file248266
-Node: Adding symbols from an archive250417
-Node: Performing the Final Link252831
-Node: Information provided by the linker254073
-Node: Relocating the section contents255227
-Node: Writing the symbol table256978
-Node: Hash Tables259971
-Node: Creating and Freeing a Hash Table261169
-Node: Looking Up or Entering a String262419
-Node: Traversing a Hash Table263672
-Node: Deriving a New Hash Table Type264461
-Node: Define the Derived Structures265527
-Node: Write the Derived Creation Routine266608
-Node: Write Other Derived Routines269232
-Node: BFD back ends270547
-Node: What to Put Where270817
-Node: aout270955
-Node: coff277273
-Node: elf301750
-Node: mmo302613
-Node: File layout303541
-Node: Symbol-table309188
-Node: mmo section mapping312957
-Node: GNU Free Documentation License316609
-Node: Index336334
+Node: Top724
+Node: Overview1056
+Node: History2107
+Node: How It Works3053
+Node: What BFD Version 2 Can Do4595
+Node: BFD information loss5910
+Node: Canonical format8442
+Node: BFD front end12814
+Node: Memory Usage38428
+Node: Initialization39656
+Node: Sections40115
+Node: Section Input40598
+Node: Section Output41963
+Node: typedef asection44449
+Node: section prototypes69406
+Node: Symbols79086
+Node: Reading Symbols80681
+Node: Writing Symbols81788
+Node: Mini Symbols83497
+Node: typedef asymbol84471
+Node: symbol handling functions89389
+Node: Archives94731
+Node: Formats98457
+Node: Relocations101405
+Node: typedef arelent102132
+Node: howto manager117943
+Node: Core Files178842
+Node: Targets179976
+Node: bfd_target181946
+Node: Architectures202026
+Node: Opening and Closing222956
+Node: Internal233958
+Node: File Caching240291
+Node: Linker Functions242205
+Node: Creating a Linker Hash Table243878
+Node: Adding Symbols to the Hash Table245616
+Node: Differing file formats246516
+Node: Adding symbols from an object file248264
+Node: Adding symbols from an archive250415
+Node: Performing the Final Link252829
+Node: Information provided by the linker254071
+Node: Relocating the section contents255225
+Node: Writing the symbol table256976
+Node: Hash Tables259969
+Node: Creating and Freeing a Hash Table261167
+Node: Looking Up or Entering a String262417
+Node: Traversing a Hash Table263670
+Node: Deriving a New Hash Table Type264459
+Node: Define the Derived Structures265525
+Node: Write the Derived Creation Routine266606
+Node: Write Other Derived Routines269230
+Node: BFD back ends270545
+Node: What to Put Where270815
+Node: aout270953
+Node: coff277271
+Node: elf301748
+Node: mmo302611
+Node: File layout303539
+Node: Symbol-table309186
+Node: mmo section mapping312955
+Node: GNU Free Documentation License316607
+Node: Index336332
 
 End Tag Table
Only in binutils-2.16.91.0.5/bfd/doc: bfdio.texi
Only in binutils-2.16.91.0.5/bfd/doc: bfdt.texi
Only in binutils-2.16.91.0.5/bfd/doc: bfdwin.texi
Only in binutils-2.16.91.0.5/bfd/doc: cache.texi
Only in binutils-2.16.91.0.5/bfd/doc: chew
Only in binutils-2.16.91.0.5/bfd/doc: coffcode.texi
Only in binutils-2.16.91.0.5/bfd/doc: core.texi
Only in binutils-2.16.91.0.5/bfd/doc: elfcode.texi
Only in binutils-2.16.91.0.5/bfd/doc: elf.texi
Only in binutils-2.16.91.0.5/bfd/doc: format.texi
Only in binutils-2.16.91.0.5/bfd/doc: hash.texi
Only in binutils-2.16.91.0.5/bfd/doc: init.texi
Only in binutils-2.16.91.0.5/bfd/doc: libbfd.texi
Only in binutils-2.16.91.0.5/bfd/doc: linker.texi
Only in binutils-2.16.91.0.5/bfd/doc: Makefile
Only in binutils-2.16.91.0.5/bfd/doc: mmo.texi
Only in binutils-2.16.91.0.5/bfd/doc: opncls.texi
Only in binutils-2.16.91.0.5/bfd/doc: reloc.texi
Only in binutils-2.16.91.0.5/bfd/doc: section.texi
Only in binutils-2.16.91.0.5/bfd/doc: syms.texi
Only in binutils-2.16.91.0.5/bfd/doc: targets.texi
Only in binutils-2.16.91.0.5/bfd: dwarf1.lo
Only in binutils-2.16.91.0.5/bfd: dwarf1.o
Only in binutils-2.16.91.0.5/bfd: dwarf2.lo
Only in binutils-2.16.91.0.5/bfd: dwarf2.o
Only in binutils-2.16.91.0.5/bfd: efi-app-ia32.lo
Only in binutils-2.16.91.0.5/bfd: efi-app-ia32.o
Only in binutils-2.16.91.0.5/bfd: elf32-gen.lo
Only in binutils-2.16.91.0.5/bfd: elf32-gen.o
Only in binutils-2.16.91.0.5/bfd: elf32-i386.lo
Only in binutils-2.16.91.0.5/bfd: elf32-i386.o
Only in binutils-2.16.91.0.5/bfd: elf32.lo
Only in binutils-2.16.91.0.5/bfd: elf32.o
Only in binutils-2.16.91.0.5/bfd: elf32-target.h
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elf-bfd.h binutils-2.16.91.0.5/bfd/elf-bfd.h
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elf-bfd.h	2007-02-16 17:15:13.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/elf-bfd.h	2007-03-12 11:10:17.000000000 +0000
@@ -1685,6 +1685,12 @@
 extern struct elf_link_hash_entry *_bfd_elf_define_linkage_sym
   (bfd *, struct bfd_link_info *, asection *, const char *);
 
+/* elf-vtreloc */
+extern bfd_boolean _bfd_elf_vtreloc_accumulate
+  (bfd *, struct bfd_link_info *);
+extern bfd_boolean _bfd_elf_vtreloc_fill
+  (bfd *, struct bfd_link_info *);
+
 extern bfd_boolean _bfd_elfcore_make_pseudosection
   (bfd *, char *, size_t, ufile_ptr);
 extern char *_bfd_elfcore_strndup
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elf-bfd.h.orig binutils-2.16.91.0.5/bfd/elf-bfd.h.orig
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elf-bfd.h.orig	2007-02-16 17:15:13.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/elf-bfd.h.orig	2007-02-16 17:15:13.000000000 +0000
@@ -1177,6 +1177,10 @@
      the linker.  */
   asection *next_in_group;
 
+  /* The pointer to the real kept section. It is computed from the
+     kept_section field in asection due to section group.  */ 
+  asection *kept_section;
+
   /* A pointer used for various section optimizations.  */
   void *sec_info;
 };
@@ -1189,6 +1193,7 @@
 #define elf_group_id(sec)      (elf_section_data(sec)->group.id)
 #define elf_next_in_group(sec) (elf_section_data(sec)->next_in_group)
 #define elf_sec_group(sec)	(elf_section_data(sec)->sec_group)
+#define elf_kept_section(sec) (elf_section_data(sec)->kept_section)
 
 /* Return TRUE if section has been discarded.  */
 #define elf_discarded_section(sec)				\
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elf.c binutils-2.16.91.0.5/bfd/elf.c
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elf.c	2007-02-16 17:15:13.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/elf.c	2007-03-12 11:10:17.000000000 +0000
@@ -1229,6 +1229,7 @@
 	    case DT_USED: name = "USED"; break;
 	    case DT_FILTER: name = "FILTER"; stringp = TRUE; break;
 	    case DT_SUSE_HASHVALS: name = "SUSE_HASHVALS"; break;
+        case DT_SUSE_VTRELOC: name = "SUSE_VTRELOC"; break;
 	    }
 
 	  fprintf (f, "  %-11s ", name);
Only in binutils-2.16.91.0.5/bfd: elf-eh-frame.lo
Only in binutils-2.16.91.0.5/bfd: elf-eh-frame.o
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elflink.c binutils-2.16.91.0.5/bfd/elflink.c
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elflink.c	2007-02-16 17:15:13.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/elflink.c	2007-03-12 12:28:39.000000000 +0000
@@ -193,6 +193,22 @@
 	return FALSE;
     }
 
+  if (1) // info->vtreloc)
+    {
+      s = bfd_make_section (abfd, ".suse.vtrelocs");
+      if (s == NULL
+          || ! bfd_set_section_flags (abfd, s, flags | SEC_READONLY)
+          || ! bfd_set_section_alignment (abfd, s, 2))
+        return FALSE;
+      s = bfd_make_section (abfd, ".rel.suse.vtrelocs");
+      if (s == NULL
+          || ! bfd_set_section_flags (abfd, s, flags | SEC_READONLY
+				| SEC_HAS_CONTENTS
+				| SEC_IN_MEMORY | SEC_LINKER_CREATED)
+          || ! bfd_set_section_alignment (abfd, s, 2))
+        return FALSE;
+    }
+
   if (! info->traditional_format)
     {
       s = bfd_make_section_with_flags (abfd, ".eh_frame_hdr",
@@ -2148,6 +2164,7 @@
 	return FALSE;
 
       elf_section_data (o)->rel_hashes = p;
+      fprintf (stderr, "allocated rel_hashes for asec %p\n", o);
     }
 
   return TRUE;
@@ -3193,7 +3210,19 @@
   direct_data = NULL;
 
   if ((abfd->flags & DYNAMIC) == 0)
+  {
+    asection *vtrel_sec;
+
     dynamic = FALSE;
+
+    vtrel_sec = bfd_get_section_by_name (abfd, ".vtrelocs");
+    if (vtrel_sec)
+    {
+        fprintf (stderr, "Has vtrelocs ! %d\n", (int)vtrel_sec->size);
+        info->vtreloc = 1;
+//        vtrel_sec->flags |= SEC_EXCLUDE;
+    }
+  }
   else
     {
       dynamic = TRUE;
@@ -3520,6 +3549,7 @@
   else
     hdr = &elf_tdata (abfd)->dynsymtab_hdr;
 
+/* FIXME: cut/paste this ! ....*/
   symcount = hdr->sh_size / bed->s->sizeof_sym;
 
   /* The sh_info field of the symtab header tells us where the
@@ -4771,8 +4801,14 @@
   switch (bfd_get_format (abfd))
     {
     case bfd_object:
+      fprintf (stderr, "add_symbols from %s object '%s'\n",
+               abfd->flags & DYNAMIC ? "dynamic" : "static",
+               abfd->filename);
+      // from an .o or .so file ...
       return elf_link_add_object_symbols (abfd, info);
     case bfd_archive:
+      fprintf (stderr, "add_symbols from archive '%s'\n", abfd->filename);
+      // from a .a file ...
       return elf_link_add_archive_symbols (abfd, info);
     default:
       bfd_set_error (bfd_error_wrong_format);
@@ -5180,6 +5216,8 @@
 	}
     }
 
+  _bfd_elf_vtreloc_accumulate (output_bfd, info);
+
   /* Any syms created from now on start with -1 in
      got.refcount/offset and plt.refcount/offset.  */
   elf_hash_table (info)->init_got_refcount
@@ -6056,6 +6094,8 @@
   size_t symbuf_size;
   /* And same for symshndxbuf.  */
   size_t shndxbuf_size;
+  /* .suse.vtreloc section.  */
+  asection *vtreloc_sec;
 };
 
 /* This struct is used to pass information to elf_link_output_extsym.  */
@@ -6086,6 +6126,8 @@
   bfd_vma r_type_mask;
   int r_sym_shift;
 
+  fprintf (stderr, "elf_link_adjust_relocs ... %p\n", rel_hash);
+
   if (rel_hdr->sh_entsize == bed->s->sizeof_rel)
     {
       swap_in = bed->s->swap_reloc_in;
@@ -8138,6 +8180,7 @@
       finfo.hash_sec = NULL;
       finfo.symver_sec = NULL;
       finfo.hashvals_sec = NULL;
+      finfo.vtreloc_sec = NULL;
     }
   else
     {
@@ -8148,6 +8191,7 @@
       finfo.symver_sec = bfd_get_section_by_name (dynobj, ".gnu.version");
       /* Note that it is OK if symver_sec is NULL.  */
       finfo.hashvals_sec = bfd_get_section_by_name (dynobj, ".suse.hashvals");
+      finfo.vtreloc_sec = bfd_get_section_by_name (dynobj, ".suse.vtrelocs");
     }
 
   finfo.contents = NULL;
@@ -8162,7 +8206,7 @@
   finfo.symshndxbuf = NULL;
   finfo.symbuf_count = 0;
   finfo.shndxbuf_size = 0;
-
+  
   /* Count up the number of relocations we will output for each output
      section, so that we know the sizes of the reloc sections.  We
      also figure out some maximum sizes.  */
@@ -8172,6 +8216,10 @@
   max_sym_count = 0;
   max_sym_shndx_count = 0;
   merged = FALSE;
+
+  if (dynobj && !info->relocatable)
+    _bfd_elf_vtreloc_fill (finfo.output_bfd, info);
+
   for (o = abfd->sections; o != NULL; o = o->next)
     {
       struct bfd_elf_section_data *esdo = elf_section_data (o);
@@ -8765,6 +8813,10 @@
       if ((o->flags & SEC_RELOC) == 0)
 	continue;
 
+      fprintf (stderr, "rel_hashes for asec %p is %d, %p\n", o,
+               (int)elf_section_data (o)->rel_count,
+               elf_section_data (o)->rel_hashes);
+
       elf_link_adjust_relocs (abfd, &elf_section_data (o)->rel_hdr,
 			      elf_section_data (o)->rel_count,
 			      elf_section_data (o)->rel_hashes);
@@ -8905,6 +8957,9 @@
 	    case DT_SUSE_DIRECT:
 	      name = ".suse.direct";
 	      goto get_vma;
+	    case DT_SUSE_VTRELOC:
+	      name = ".suse.vtreloc";
+	      goto get_vma;
 	    case DT_VERSYM:
 	      name = ".gnu.version";
 	    get_vma:
@@ -9103,6 +9158,8 @@
   bfd_boolean is_eh;
   asection *group_sec;
 
+/* #warning "Do we want to ignore relocs inside .suse.vtreloc ?" */
+
   sec->gc_mark = 1;
 
   /* Mark all the sections in the group.  */
Only in binutils-2.16.91.0.5/bfd: elflink.c~
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elflink.c.orig binutils-2.16.91.0.5/bfd/elflink.c.orig
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/elflink.c.orig	2007-02-16 17:15:13.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/elflink.c.orig	2007-02-16 17:15:13.000000000 +0000
@@ -8005,7 +8005,7 @@
   struct bfd_link_order *p;
   bfd *sub;
   const struct elf_backend_data *bed = get_elf_backend_data (abfd);
-  int elfsec;
+  unsigned elfsec;
   struct bfd_link_order **sections;
   asection *s, *other_sec, *linkorder_sec;
   bfd_vma offset;
@@ -8022,7 +8022,8 @@
 	  sub = s->owner;
 	  if (bfd_get_flavour (sub) == bfd_target_elf_flavour
 	      && elf_elfheader (sub)->e_ident[EI_CLASS] == bed->s->elfclass
-	      && (elfsec = _bfd_elf_section_from_bfd_section (sub, s)) != -1
+	      && (elfsec = _bfd_elf_section_from_bfd_section (sub, s))
+	      && elfsec < elf_numsections (sub)
 	      && elf_elfsections (sub)[elfsec]->sh_flags & SHF_LINK_ORDER)
 	    {
 	      seen_linkorder++;
Only in binutils-2.16.91.0.5/bfd: elflink.lo
Only in binutils-2.16.91.0.5/bfd: elflink.o
Only in binutils-2.16.91.0.5/bfd: elf.lo
Only in binutils-2.16.91.0.5/bfd: elf.o
Only in binutils-2.16.91.0.5/bfd: elf-strtab.lo
Only in binutils-2.16.91.0.5/bfd: elf-strtab.o
Only in binutils-2.16.91.0.5/bfd: elf-vtreloc.c
Only in binutils-2.16.91.0.5/bfd: elf-vtreloc.c~
Only in binutils-2.16.91.0.5/bfd: elf-vtreloc.lo
Only in binutils-2.16.91.0.5/bfd: elf-vtreloc.o
Only in binutils-2.16.91.0.5/bfd: elf-vxworks.lo
Only in binutils-2.16.91.0.5/bfd: elf-vxworks.o
Only in binutils-2.16.91.0.5/bfd: format.lo
Only in binutils-2.16.91.0.5/bfd: format.o
Only in binutils-2.16.91.0.5/bfd: hash.lo
Only in binutils-2.16.91.0.5/bfd: hash.o
Only in binutils-2.16.91.0.5/bfd: i386linux.lo
Only in binutils-2.16.91.0.5/bfd: i386linux.o
Only in binutils-2.16.91.0.5/bfd: ihex.lo
Only in binutils-2.16.91.0.5/bfd: ihex.o
Only in binutils-2.16.91.0.5/bfd: init.lo
Only in binutils-2.16.91.0.5/bfd: init.o
Only in binutils-2.16.91.0.5/bfd: libbfd.a
Only in binutils-2.16.91.0.5/bfd: libbfd.la
Only in binutils-2.16.91.0.5/bfd: libbfd.lo
Only in binutils-2.16.91.0.5/bfd: libbfd.o
Only in binutils-2.16.91.0.5/bfd: .libs
Only in binutils-2.16.91.0.5/bfd: libtool
Only in binutils-2.16.91.0.5/bfd: linker.lo
Only in binutils-2.16.91.0.5/bfd: linker.o
Only in binutils-2.16.91.0.5/bfd: Makefile
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/Makefile.am binutils-2.16.91.0.5/bfd/Makefile.am
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/Makefile.am	2007-02-16 17:15:13.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/Makefile.am	2007-03-12 11:10:17.000000000 +0000
@@ -277,6 +277,7 @@
 	elf32-xtensa.lo \
 	elf32.lo \
 	elflink.lo \
+	elf-vtreloc.lo \
 	elf-strtab.lo \
 	elf-eh-frame.lo \
 	elf-vxworks.lo \
@@ -448,6 +449,7 @@
 	elf32-xtensa.c \
 	elf32.c \
 	elflink.c \
+	elf-vtreloc.c \
 	elf-strtab.c \
 	elf-eh-frame.c \
 	elf-vxworks.c \
@@ -1441,6 +1443,10 @@
   $(INCDIR)/hashtab.h elf-bfd.h $(INCDIR)/elf/common.h \
   $(INCDIR)/elf/internal.h $(INCDIR)/elf/external.h $(INCDIR)/safe-ctype.h \
   $(INCDIR)/libiberty.h
+elf-vtreloc.lo: elf-vtreloc.c $(INCDIR)/filenames.h $(INCDIR)/bfdlink.h \
+  $(INCDIR)/hashtab.h elf-bfd.h $(INCDIR)/elf/common.h \
+  $(INCDIR)/elf/internal.h $(INCDIR)/elf/external.h $(INCDIR)/safe-ctype.h \
+  $(INCDIR)/libiberty.h
 elf-strtab.lo: elf-strtab.c $(INCDIR)/filenames.h $(INCDIR)/hashtab.h \
   elf-bfd.h $(INCDIR)/elf/common.h $(INCDIR)/elf/internal.h \
   $(INCDIR)/elf/external.h $(INCDIR)/bfdlink.h $(INCDIR)/libiberty.h
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/Makefile.in binutils-2.16.91.0.5/bfd/Makefile.in
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/bfd/Makefile.in	2007-02-16 17:15:13.000000000 +0000
+++ binutils-2.16.91.0.5/bfd/Makefile.in	2007-03-12 11:10:17.000000000 +0000
@@ -515,6 +515,7 @@
 	elf32-xtensa.lo \
 	elf32.lo \
 	elflink.lo \
+	elf-vtreloc.lo \
 	elf-strtab.lo \
 	elf-eh-frame.lo \
 	elf-vxworks.lo \
@@ -686,6 +687,7 @@
 	elf32-xtensa.c \
 	elf32.c \
 	elflink.c \
+	elf-vtreloc.c \
 	elf-strtab.c \
 	elf-eh-frame.c \
 	elf-vxworks.c \
@@ -2010,6 +2012,10 @@
   $(INCDIR)/hashtab.h elf-bfd.h $(INCDIR)/elf/common.h \
   $(INCDIR)/elf/internal.h $(INCDIR)/elf/external.h $(INCDIR)/safe-ctype.h \
   $(INCDIR)/libiberty.h
+elf-vtreloc.lo: elf-vtreloc.c $(INCDIR)/filenames.h $(INCDIR)/bfdlink.h \
+  $(INCDIR)/hashtab.h elf-bfd.h $(INCDIR)/elf/common.h \
+  $(INCDIR)/elf/internal.h $(INCDIR)/elf/external.h $(INCDIR)/safe-ctype.h \
+  $(INCDIR)/libiberty.h
 elf-strtab.lo: elf-strtab.c $(INCDIR)/filenames.h $(INCDIR)/hashtab.h \
   elf-bfd.h $(INCDIR)/elf/common.h $(INCDIR)/elf/internal.h \
   $(INCDIR)/elf/external.h $(INCDIR)/bfdlink.h $(INCDIR)/libiberty.h
Only in binutils-2.16.91.0.5/bfd: merge.lo
Only in binutils-2.16.91.0.5/bfd: merge.o
Only in binutils-2.16.91.0.5/bfd: ofiles
Only in binutils-2.16.91.0.5/bfd: opncls.lo
Only in binutils-2.16.91.0.5/bfd: opncls.o
Only in binutils-2.16.91.0.5/bfd: peigen.c
Only in binutils-2.16.91.0.5/bfd: peigen.lo
Only in binutils-2.16.91.0.5/bfd: peigen.o
Only in binutils-2.16.91.0.5/bfd/po: BLD-POTFILES
Only in binutils-2.16.91.0.5/bfd/po: Makefile
Only in binutils-2.16.91.0.5/bfd/po: Makefile.in
Only in binutils-2.16.91.0.5/bfd/po: SRC-POTFILES
Only in binutils-2.16.91.0.5/bfd: reloc.lo
Only in binutils-2.16.91.0.5/bfd: reloc.o
Only in binutils-2.16.91.0.5/bfd: section.lo
Only in binutils-2.16.91.0.5/bfd: section.o
Only in binutils-2.16.91.0.5/bfd: simple.lo
Only in binutils-2.16.91.0.5/bfd: simple.o
Only in binutils-2.16.91.0.5/bfd: srec.lo
Only in binutils-2.16.91.0.5/bfd: srec.o
Only in binutils-2.16.91.0.5/bfd: stabs.lo
Only in binutils-2.16.91.0.5/bfd: stabs.o
Only in binutils-2.16.91.0.5/bfd: stab-syms.lo
Only in binutils-2.16.91.0.5/bfd: stab-syms.o
Only in binutils-2.16.91.0.5/bfd: stamp-h1
Only in binutils-2.16.91.0.5/bfd: stamp-lib
Only in binutils-2.16.91.0.5/bfd: stamp-ofiles
Only in binutils-2.16.91.0.5/bfd: stmp-bfd-h
Only in binutils-2.16.91.0.5/bfd: syms.lo
Only in binutils-2.16.91.0.5/bfd: syms.o
Only in binutils-2.16.91.0.5/bfd: targets.lo
Only in binutils-2.16.91.0.5/bfd: targets.o
Only in binutils-2.16.91.0.5/bfd: targmatch.h
Only in binutils-2.16.91.0.5/bfd: tekhex.lo
Only in binutils-2.16.91.0.5/bfd: tekhex.o
Only in binutils-2.16.91.0.5/bfd: trad-core.lo
Only in binutils-2.16.91.0.5/bfd: trad-core.o
Only in binutils-2.16.91.0.5/ld: config.cache
Only in binutils-2.16.91.0.5/ld: configdoc.texi
Only in binutils-2.16.91.0.5/ld: config.h
Only in binutils-2.16.91.0.5/ld: config.log
Only in binutils-2.16.91.0.5/ld: config.status
Only in binutils-2.16.91.0.5/ld: eelf_i386.c
Only in binutils-2.16.91.0.5/ld: eelf_i386.c~
Only in binutils-2.16.91.0.5/ld: eelf_i386.o
Only in binutils-2.16.91.0.5/ld: ei386linux.c
Only in binutils-2.16.91.0.5/ld: ei386linux.o
Only in binutils-2.16.91.0.5/ld: ld.1
Only in binutils-2.16.91.0.5/ld: ldcref.o
Only in binutils-2.16.91.0.5/ld: ldctor.o
Only in binutils-2.16.91.0.5/ld: ldemul-list.h
Only in binutils-2.16.91.0.5/ld: ldemul.o
Only in binutils-2.16.91.0.5/ld: ldexp.o
Only in binutils-2.16.91.0.5/ld: ldfile.o
Only in binutils-2.16.91.0.5/ld: ldgram.c
Only in binutils-2.16.91.0.5/ld: ldgram.h
Only in binutils-2.16.91.0.5/ld: ldgram.o
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/ld/ld.info binutils-2.16.91.0.5/ld/ld.info
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/ld/ld.info	2007-02-16 17:19:28.000000000 +0000
+++ binutils-2.16.91.0.5/ld/ld.info	2007-03-12 11:11:31.000000000 +0000
@@ -1,5 +1,5 @@
-This is ../../ld/ld.info, produced by makeinfo version 4.8 from
-../../ld/ld.texinfo.
+This is .././ld/ld.info, produced by makeinfo version 4.8 from
+.././ld/ld.texinfo.
 
 START-INFO-DIR-ENTRY
 * Ld: (ld).                       The GNU linker.
@@ -6392,79 +6392,79 @@
 
 
 Tag Table:
-Node: Top356
-Node: Overview1125
-Node: Invocation2239
-Node: Options2647
-Node: Environment77495
-Node: Scripts79255
-Node: Basic Script Concepts80989
-Node: Script Format83696
-Node: Simple Example84559
-Node: Simple Commands87655
-Node: Entry Point88106
-Node: File Commands88865
-Node: Format Commands92731
-Node: Miscellaneous Commands94697
-Node: Assignments96927
-Node: Simple Assignments97418
-Node: PROVIDE99154
-Node: PROVIDE_HIDDEN100359
-Node: Source Code Reference100603
-Node: SECTIONS104183
-Node: Output Section Description106074
-Node: Output Section Name107127
-Node: Output Section Address108003
-Node: Input Section109652
-Node: Input Section Basics110453
-Node: Input Section Wildcards112805
-Node: Input Section Common117538
-Node: Input Section Keep119020
-Node: Input Section Example119510
-Node: Output Section Data120478
-Node: Output Section Keywords123255
-Node: Output Section Discarding126824
-Node: Output Section Attributes127780
-Node: Output Section Type128784
-Node: Output Section LMA129938
-Node: Forced Output Alignment132209
-Node: Forced Input Alignment132477
-Node: Output Section Region132862
-Node: Output Section Phdr133292
-Node: Output Section Fill133956
-Node: Overlay Description135098
-Node: MEMORY139346
-Node: PHDRS143546
-Node: VERSION148585
-Node: Expressions157029
-Node: Constants157907
-Node: Symbols158468
-Node: Orphan Sections159206
-Node: Location Counter159969
-Node: Operators164273
-Node: Evaluation165195
-Node: Expression Section166559
-Node: Builtin Functions168048
-Node: Implicit Linker Scripts175540
-Node: Machine Dependent176315
-Node: H8/300177060
-Node: i960178685
-Node: ARM180370
-Node: HPPA ELF32183286
-Node: MMIX184909
-Node: MSP430186126
-Node: TI COFF187168
-Node: WIN32187691
-Node: Xtensa202281
-Node: BFD205401
-Node: BFD outline206856
-Node: BFD information loss208142
-Node: Canonical format210659
-Node: Reporting Bugs215016
-Node: Bug Criteria215710
-Node: Bug Reporting216409
-Node: MRI223434
-Node: GNU Free Documentation License228077
-Node: Index247791
+Node: Top354
+Node: Overview1123
+Node: Invocation2237
+Node: Options2645
+Node: Environment77493
+Node: Scripts79253
+Node: Basic Script Concepts80987
+Node: Script Format83694
+Node: Simple Example84557
+Node: Simple Commands87653
+Node: Entry Point88104
+Node: File Commands88863
+Node: Format Commands92729
+Node: Miscellaneous Commands94695
+Node: Assignments96925
+Node: Simple Assignments97416
+Node: PROVIDE99152
+Node: PROVIDE_HIDDEN100357
+Node: Source Code Reference100601
+Node: SECTIONS104181
+Node: Output Section Description106072
+Node: Output Section Name107125
+Node: Output Section Address108001
+Node: Input Section109650
+Node: Input Section Basics110451
+Node: Input Section Wildcards112803
+Node: Input Section Common117536
+Node: Input Section Keep119018
+Node: Input Section Example119508
+Node: Output Section Data120476
+Node: Output Section Keywords123253
+Node: Output Section Discarding126822
+Node: Output Section Attributes127778
+Node: Output Section Type128782
+Node: Output Section LMA129936
+Node: Forced Output Alignment132207
+Node: Forced Input Alignment132475
+Node: Output Section Region132860
+Node: Output Section Phdr133290
+Node: Output Section Fill133954
+Node: Overlay Description135096
+Node: MEMORY139344
+Node: PHDRS143544
+Node: VERSION148583
+Node: Expressions157027
+Node: Constants157905
+Node: Symbols158466
+Node: Orphan Sections159204
+Node: Location Counter159967
+Node: Operators164271
+Node: Evaluation165193
+Node: Expression Section166557
+Node: Builtin Functions168046
+Node: Implicit Linker Scripts175538
+Node: Machine Dependent176313
+Node: H8/300177058
+Node: i960178683
+Node: ARM180368
+Node: HPPA ELF32183284
+Node: MMIX184907
+Node: MSP430186124
+Node: TI COFF187166
+Node: WIN32187689
+Node: Xtensa202279
+Node: BFD205399
+Node: BFD outline206854
+Node: BFD information loss208140
+Node: Canonical format210657
+Node: Reporting Bugs215014
+Node: Bug Criteria215708
+Node: Bug Reporting216407
+Node: MRI223432
+Node: GNU Free Documentation License228075
+Node: Index247789
 
 End Tag Table
Only in binutils-2.16.91.0.5/ld: ldlang.o
Only in binutils-2.16.91.0.5/ld: ldlex.c
Only in binutils-2.16.91.0.5/ld: ldlex.o
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/ld/ldmain.c binutils-2.16.91.0.5/ld/ldmain.c
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/ld/ldmain.c	2007-02-16 17:15:13.000000000 +0000
+++ binutils-2.16.91.0.5/ld/ldmain.c	2007-03-12 11:10:17.000000000 +0000
@@ -1101,6 +1101,7 @@
 	    asection *section,
 	    bfd_vma value)
 {
+  fprintf (stderr, "add_to_set '%s'\n", h->root.string);
   if (config.warn_constructors)
     einfo (_("%P: warning: global constructor %s used\n"),
 	   h->root.string);
Only in binutils-2.16.91.0.5/ld: ldmain.o
Only in binutils-2.16.91.0.5/ld: ldmisc.o
Only in binutils-2.16.91.0.5/ld: ld-new
Only in binutils-2.16.91.0.5/ld: ldscripts
Only in binutils-2.16.91.0.5/ld: ldver.o
Only in binutils-2.16.91.0.5/ld: ldver.texi
Only in binutils-2.16.91.0.5/ld: ldwrite.o
diff -u -r /usr/src/packages/BUILD/binutils-2.16.91.0.5/ld/lexsup.c binutils-2.16.91.0.5/ld/lexsup.c
--- /usr/src/packages/BUILD/binutils-2.16.91.0.5/ld/lexsup.c	2007-02-16 17:15:13.000000000 +0000
+++ binutils-2.16.91.0.5/ld/lexsup.c	2007-03-12 11:10:17.000000000 +0000
@@ -152,6 +152,7 @@
   OPTION_ACCEPT_UNKNOWN_INPUT_ARCH,
   OPTION_NO_ACCEPT_UNKNOWN_INPUT_ARCH,
   OPTION_PIE,
+  OPTION_VTRELOC,
   OPTION_UNRESOLVED_SYMBOLS,
   OPTION_WARN_UNRESOLVED_SYMBOLS,
   OPTION_ERROR_UNRESOLVED_SYMBOLS,
@@ -398,6 +399,8 @@
   { {"no-undefined", no_argument, NULL, OPTION_NO_UNDEFINED},
     '\0', NULL, N_("Do not allow unresolved references in object files"),
     TWO_DASHES },
+  { {"vtreloc", no_argument, NULL, OPTION_VTRELOC},
+    '\0', NULL, N_("Build vtable copy reloc data"), TWO_DASHES },
   { {"allow-shlib-undefined", no_argument, NULL, OPTION_ALLOW_SHLIB_UNDEFINED},
     '\0', NULL, N_("Allow unresolved references in shared libaries"),
     TWO_DASHES },
@@ -1131,6 +1134,9 @@
 	  parser_input = input_script;
 	  yyparse ();
 	  break;
+	case OPTION_VTRELOC:
+	  link_info.vtreloc = TRUE;
+	  break;
 	case OPTION_SECTION_START:
 	  {
 	    char *optarg2;
Only in binutils-2.16.91.0.5/ld: lexsup.o
Only in binutils-2.16.91.0.5/ld: .libs
Only in binutils-2.16.91.0.5/ld: libtool
Only in binutils-2.16.91.0.5/ld: Makefile
Only in binutils-2.16.91.0.5/ld: mri.o
Only in binutils-2.16.91.0.5/ld/po: Makefile
Only in binutils-2.16.91.0.5/ld/po: Makefile.in
Only in binutils-2.16.91.0.5/ld/po: POTFILES
Only in binutils-2.16.91.0.5/ld: stamp-h1
Only in binutils-2.16.91.0.5/ld: stringify.sed
Only in binutils-2.16.91.0.5/ld: tdirs
Only in binutils-2.16.91.0.5/ld: tmpdir
