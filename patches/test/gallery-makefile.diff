Index: svx/workben/makefile.mk
===================================================================
RCS file: /cvs/graphics/svx/workben/makefile.mk,v
retrieving revision 1.4
diff -u -p -u -r1.4 makefile.mk
--- svx/workben/makefile.mk	7 May 2004 15:51:49 -0000	1.4
+++ svx/workben/makefile.mk	21 Feb 2005 14:56:51 -0000
@@ -63,7 +63,7 @@
 PRJ=..
 
 PRJNAME=SVX
-TARGET=edittest
+TARGET=gal
 TARGETTYPE=GUI
 LIBTARGET=NO
 
@@ -78,13 +78,12 @@ ENABLE_EXCEPTIONS=TRUE
 
 # --- Files --------------------------------------------------------
 
-CXXFILES=	edittest.cxx
+CXXFILES=	gal.cxx
 
-OBJFILES=	$(OBJ)$/edittest.obj
+OBJFILES=	$(OBJ)$/gal.obj
 
 APP1TARGET= $(TARGET)
 APP1OBJS=	$(OBJFILES)
-APP1LIBS=	$(LB)/svx.lib $(LB)/dl.lib
 APP1STDLIBS=$(TOOLSLIB) 		\
 			$(OSLLIB)			\
 			$(ONELIB)			\
@@ -100,7 +99,8 @@ APP1STDLIBS=$(TOOLSLIB) 		\
 			$(SFXLIB)			\
 			$(SOTLIB)			\
 			$(DLLIB)			\
-			$(SVLIB)
+			$(SVLIB)			\
+			$(SVXLIB)
 
 .IF "$(GUI)"!="UNX"
 APP1DEF=	$(MISC)$/$(TARGET).def
@@ -108,65 +108,30 @@ APP1DEF=	$(MISC)$/$(TARGET).def
 
 
 .IF "$(COM)"=="GCC"
-ADDOPTFILES=$(OBJ)$/edittest.obj
+ADDOPTFILES=$(OBJ)$/gal.obj
 add_cflagscxx="-frtti -fexceptions"
 .ENDIF
 
 
 # --- Targets ------------------------------------------------------
 
-.INCLUDE :	target.mk
-
-
-# ------------------------------------------------------------------
-# MAC
-# ------------------------------------------------------------------
-
-.IF "$(GUI)" == "MAC"
-
-$(MISC)$/$(TARGET).def: makefile
-	echo Kein Def-File fuer Applikationen auf Mac
-.ENDIF
-
+ALL : \
+	ALLTAR \
+	$(BIN)$/gal.rdb 
 
-# ------------------------------------------------------------------
-# Windows
-# ------------------------------------------------------------------
-
-.IF "$(GUI)" == "WIN"
-
-$(MISC)$/$(TARGET).def: makefile
-	echo  NAME			$(TARGET)							>$@
-	echo  DESCRIPTION	'StarView - Testprogramm'          >>$@
-	echo  EXETYPE		WINDOWS 						   >>$@
-	echo  STUB			'winSTUB.EXE'                      >>$@
-	echo  PROTMODE										   >>$@
-	echo  CODE			PRELOAD MOVEABLE DISCARDABLE	   >>$@
-	echo  DATA			PRELOAD MOVEABLE MULTIPLE		   >>$@
-	echo  HEAPSIZE		8192							   >>$@
-	echo  STACKSIZE 	32768							   >>$@
-
-.ENDIF
+.INCLUDE :	target.mk
 
-# ------------------------------------------------------------------
-# OS2
-# ------------------------------------------------------------------
-
-.IF "$(GUI)" == "OS2"
-
-$(MISC)$/$(TARGET).def: makefile
-	echo  NAME			$(TARGET) WINDOWAPI 				>$@
-	echo  DESCRIPTION	'StarView - Testprogramm'          >>$@
-.IF "$(COM)" != "BLC"
-	echo  STUB			'os2STUB.EXE'                      >>$@
-.ENDIF
-.IF "$(COM)"!="MTW"
-	echo  EXETYPE		OS2 							   >>$@
-.ENDIF
-	echo  PROTMODE										   >>$@
-	echo  CODE			LOADONCALL						   >>$@
-	echo  DATA			PRELOAD MULTIPLE				   >>$@
-	echo  HEAPSIZE		16384							   >>$@
-	echo  STACKSIZE 	32768							   >>$@
+$(BIN)$/gal.rdb : makefile.mk $(UNOUCRRDB)
+	rm -f $@
+	$(GNUCOPY) $(UNOUCRRDB) $@
+	+cd $(BIN) && \
+		regcomp -register -r gal.rdb \
+			-c i18nsearch.uno$(DLLPOST) \
+			-c i18npool.uno$(DLLPOST) \
+			-c configmgr2.uno$(DLLPOST) \
+			-c servicemgr.uno$(DLLPOST) \
+			-c libfwl$(UPD)$(DLLSUFFIX)$(DLLPOST) \
+			-c libucpfile1$(DLLPOST) \
+			-c libfileacc$(DLLPOST) \
+			-c libucb1$(DLLPOST)
 
-.ENDIF
