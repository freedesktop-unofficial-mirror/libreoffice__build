--- psprint.good/source/printer/cupsmgr.cxx	2004-09-27 04:24:33.000000000 +0100
+++ psprint/source/printer/cupsmgr.cxx	2004-09-29 17:19:32.578417056 +0100
@@ -495,11 +495,14 @@
 
             rInfo.m_pParser = pNewParser;
             rInfo.m_aContext.setParser( pNewParser );
-            for( int i = 0; i < pPPD->num_groups; i++ )
-                updatePrinterContextInfo( pPPD->groups + i, rInfo );
-
-            // clean up the mess
-            m_pCUPSWrapper->ppdClose( pPPD );
+			if (pPPD)
+			{
+				for( int i = 0; i < pPPD->num_groups; i++ )
+					updatePrinterContextInfo( pPPD->groups + i, rInfo );
+
+				// clean up the mess
+				m_pCUPSWrapper->ppdClose( pPPD );
+			}
 
             // remove temporary PPD file
             unlink( pPPDFile );
