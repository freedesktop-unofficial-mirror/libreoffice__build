From 313a1e6783fc4b1af9b784eea91795fccbbe36f6 Mon Sep 17 00:00:00 2001
From: Jan Holesovsky <kendy@suse.cz>
Date: Fri, 14 May 2010 17:03:37 +0200
Subject: [PATCH 577/878] unittesting-stoc.diff

---
 stoc/prj/tests.lst           |   10 ++++++++++
 stoc/test/excomp/excomp1.cxx |    6 +++---
 stoc/test/excomp/excomp2.cxx |    6 +++---
 3 files changed, 16 insertions(+), 6 deletions(-)
 create mode 100644 stoc/prj/tests.lst

diff --git a/stoc/prj/tests.lst b/stoc/prj/tests.lst
new file mode 100644
index 0000000..158022a
--- /dev/null
+++ b/stoc/prj/tests.lst
@@ -0,0 +1,10 @@
+#does not link: tc   stoc\test                                          nmake - all tc_test NULL
+#depends on tc_test_tdmanager: tc   stoc\test\excomp                                   nmake - all tc_test_excomp tc_test_tdmanager NULL
+tc   stoc\test\javavm                                   nmake - all tc_test_javavm NULL
+tc   stoc\test\javavm\jvm_interaction                   nmake - all tc_test_javavm_jvm_interaction NULL
+tc   stoc\test\javavm\testapplet                        nmake - all tc_test_javavm_testapplet NULL
+tc   stoc\test\javavm\testcomponent                     nmake - all tc_test_javavm_testcomponent NULL
+#does not link: tc   stoc\test\registry_tdprovider                      nmake - all tc_test_registry_tdprovider NULL
+tc   stoc\test\security                                 nmake - all tc_test_security NULL
+#does not link: tc   stoc\test\tdmanager                                nmake - all tc_test_tdmanager NULL
+#does not link: tc   stoc\test\uriproc                                  nmake - all tc_test_uriproc NULL
diff --git a/stoc/test/excomp/excomp1.cxx b/stoc/test/excomp/excomp1.cxx
index 3fa7bf1..05f09d2 100644
--- a/stoc/test/excomp/excomp1.cxx
+++ b/stoc/test/excomp/excomp1.cxx
@@ -171,10 +171,10 @@ sal_Bool SAL_CALL component_writeInfo(
                 reinterpret_cast< XRegistryKey * >( pRegistryKey )->createKey(
                     OUString( RTL_CONSTASCII_USTRINGPARAM("/" IMPLNAME1 "/UNO/SERVICES") ) ) );
             
-            const Sequence< OUString > & rSNL =
+            Sequence< OUString > aSNL =
                 ::excomp_impl::ExampleComponent1Impl::getSupportedServiceNames_Static();
-            const OUString * pArray = rSNL.getConstArray();
-            for ( sal_Int32 nPos = rSNL.getLength(); nPos--; )
+            const OUString * pArray = aSNL.getConstArray();
+            for ( sal_Int32 nPos = aSNL.getLength(); nPos--; )
                 xNewKey->createKey( pArray[nPos] );
 
             return sal_True;
diff --git a/stoc/test/excomp/excomp2.cxx b/stoc/test/excomp/excomp2.cxx
index 871ca1c..be4677d 100644
--- a/stoc/test/excomp/excomp2.cxx
+++ b/stoc/test/excomp/excomp2.cxx
@@ -242,10 +242,10 @@ sal_Bool SAL_CALL component_writeInfo(
                 reinterpret_cast< XRegistryKey * >( pRegistryKey )->createKey(
                     OUString( RTL_CONSTASCII_USTRINGPARAM("/" IMPLNAME2 "/UNO/SERVICES") ) ) );
             
-            const Sequence< OUString > & rSNL =
+            Sequence< OUString > aSNL =
                 ::excomp2_impl::ExampleComponent2Impl::getSupportedServiceNames_Static();
-            const OUString * pArray = rSNL.getConstArray();
-            for ( sal_Int32 nPos = rSNL.getLength(); nPos--; )
+            const OUString * pArray = aSNL.getConstArray();
+            for ( sal_Int32 nPos = aSNL.getLength(); nPos--; )
                 xNewKey->createKey( pArray[nPos] );
 
             return sal_True;
-- 
1.7.0.1

