--- writerfilter/inc/dmapper/DomainMapper.hxx	14 Nov 2007 12:50:13 -0000	1.19.12.4
+++ writerfilter/inc/dmapper/DomainMapper.hxx	15 Jan 2008 14:43:43 -0000
@@ -43,7 +43,13 @@
 #include <com/sun/star/text/FontEmphasis.hpp>
 #include <com/sun/star/style/TabAlign.hpp>
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace com{ namespace sun {namespace star{
     namespace uno{
--- writerfilter/inc/doctok/WW8Document.hxx	3 Dec 2007 09:29:49 -0000	1.6.12.3
+++ writerfilter/inc/doctok/WW8Document.hxx	15 Jan 2008 14:43:43 -0000
@@ -36,7 +36,14 @@
 #ifndef INCLUDED_WW8_DOCUMENT_HXX
 #define INCLUDED_WW8_DOCUMENT_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #ifndef _SAL_TYPES_H_
 #include <sal/types.h>
 #endif // _SAL_TYPES_H_
--- writerfilter/inc/odiapi/core/Node.hxx	1 Nov 2006 09:14:27 -0000	1.2
+++ writerfilter/inc/odiapi/core/Node.hxx	15 Jan 2008 14:43:44 -0000
@@ -46,9 +46,15 @@
 #include <odiapi/props/Properties.hxx>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <memory>
 #include <string>
 #include <boost/shared_ptr.hpp>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace odiapi { namespace core {
 
--- writerfilter/inc/odiapi/props/Iterator.hxx	1 Nov 2006 09:14:27 -0000	1.2
+++ writerfilter/inc/odiapi/props/Iterator.hxx	15 Jan 2008 14:43:44 -0000
@@ -38,7 +38,13 @@
 #ifndef INCLUDED_ITERATOR_HXX
 #define INCLUDED_ITERATOR_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace odiapi { namespace props {
 
--- writerfilter/inc/odiapi/props/Logger.hxx	1 Nov 2006 09:14:27 -0000	1.2
+++ writerfilter/inc/odiapi/props/Logger.hxx	15 Jan 2008 14:43:44 -0000
@@ -38,7 +38,13 @@
 #ifndef INCLUDED_LOGGER_HXX
 #define INCLUDED_LOGGER_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace util {
 
--- writerfilter/inc/odiapi/props/Properties.hxx	1 Nov 2006 09:14:27 -0000	1.2
+++ writerfilter/inc/odiapi/props/Properties.hxx	15 Jan 2008 14:43:44 -0000
@@ -46,8 +46,14 @@
 
 #include "Iterator.hxx"
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
 #include <string>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace util { class Logger; }
 
--- writerfilter/inc/odiapi/qname/QName.hxx	1 Nov 2006 09:14:27 -0000	1.2
+++ writerfilter/inc/odiapi/qname/QName.hxx	15 Jan 2008 14:43:50 -0000
@@ -39,7 +39,14 @@
 
 #include <sal/types.h>
 #include <WriterFilterDllApi.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <memory>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 
 namespace writerfilter
--- writerfilter/inc/odiapi/sl/od_sl.hxx	18 May 2007 15:44:42 -0000	1.3
+++ writerfilter/inc/odiapi/sl/od_sl.hxx	15 Jan 2008 14:43:50 -0000
@@ -36,12 +36,26 @@
 #ifndef INCLUDED_OD_SL_CXX
 #define INCLUDED_OD_SL_CXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <memory>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <odiapi/qname/QName.hxx>
 #include <odiapi/xxml/XXmlReader.hxx>
 #include <odiapi/props/Properties.hxx>
 #include <WriterFilterDllApi.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 class WRITERFILTER_DLLPUBLIC ODSLHandler : public writerfilter::xxml::ContentHandler
 {
--- writerfilter/inc/odiapi/xxml/ContentHandler.hxx	1 Nov 2006 09:14:28 -0000	1.2
+++ writerfilter/inc/odiapi/xxml/ContentHandler.hxx	15 Jan 2008 14:43:50 -0000
@@ -40,7 +40,14 @@
 #include <odiapi/qname/QName.hxx>
 #include <WriterFilterDllApi.hxx>
 #include <rtl/ustring.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 
 namespace writerfilter { namespace xxml {
--- writerfilter/inc/odiapi/xxml/XXmlReader.hxx	1 Nov 2006 09:14:29 -0000	1.2
+++ writerfilter/inc/odiapi/xxml/XXmlReader.hxx	15 Jan 2008 14:43:50 -0000
@@ -38,7 +38,14 @@
 #define INCLUDED_XXMLREADER_HXX
 
 #include <odiapi/xxml/ContentHandler.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <memory>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include <com/sun/star/io/XInputStream.hpp>
 #include <com/sun/star/embed/XStorage.hpp>
--- writerfilter/inc/resourcemodel/OutputWithDepth.hxx	14 Nov 2007 12:51:05 -0000	1.1.2.1
+++ writerfilter/inc/resourcemodel/OutputWithDepth.hxx	15 Jan 2008 14:43:50 -0000
@@ -36,8 +36,14 @@
 #ifndef INCLUDED_OUTPUT_WITH_DEPTH
 #define INCLUDED_OUTPUT_WITH_DEPTH
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <vector>
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter
 {
--- writerfilter/inc/resourcemodel/QNameToString.hxx	12 Dec 2007 07:53:42 -0000	1.3.12.5
+++ writerfilter/inc/resourcemodel/QNameToString.hxx	15 Jan 2008 14:43:50 -0000
@@ -35,10 +35,17 @@
 #ifndef INCLUDED_QNAME_TO_STRING_HXX
 #define INCLUDED_QNAME_TO_STRING_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
 #include <map>
 #include <string>
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <resourcemodel/WW8ResourceModel.hxx>
 #include <com/sun/star/beans/XPropertySet.hpp>
 
--- writerfilter/inc/resourcemodel/SubSequence.hxx	3 Dec 2007 09:30:28 -0000	1.1.2.1
+++ writerfilter/inc/resourcemodel/SubSequence.hxx	15 Jan 2008 14:43:50 -0000
@@ -40,8 +40,15 @@
 #include <com/sun/star/uno/Sequence.hxx>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <ctype.h>
 #include "exceptions.hxx"
 #include <WriterFilterDllApi.hxx>
--- writerfilter/inc/resourcemodel/WW8ResourceModel.hxx	12 Dec 2007 08:04:17 -0000	1.1.2.7
+++ writerfilter/inc/resourcemodel/WW8ResourceModel.hxx	15 Jan 2008 14:43:51 -0000
@@ -36,9 +36,15 @@
 #ifndef INCLUDED_WW8_EVENT_HANDLER_HXX
 #define INCLUDED_WW8_EVENT_HANDLER_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
-#include <memory>
 #include <boost/shared_ptr.hpp>
+#include <memory>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #ifndef _SAL_TYPES_H_
 #include <sal/types.h>
--- writerfilter/inc/resourcemodel/exceptions.hxx	3 Dec 2007 09:30:39 -0000	1.1.2.1
+++ writerfilter/inc/resourcemodel/exceptions.hxx	15 Jan 2008 14:43:51 -0000
@@ -36,7 +36,14 @@
 #ifndef _DOCTOK_EXCEPTIONS_HXX
 #define _DOCTOK_EXCEPTIONS_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <WriterFilterDllApi.hxx>
 
 namespace writerfilter {
--- writerfilter/inc/rtftok/RTFScanner.hxx	24 Oct 2006 09:27:12 -0000	1.1
+++ writerfilter/inc/rtftok/RTFScanner.hxx	15 Jan 2008 14:43:51 -0000
@@ -6,7 +6,15 @@
 #define INCLUDED_RTFSCANNER_HXX
 
 #include <WriterFilterDllApi.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <vector>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <rtftok/RTFInputSource.hxx>
 #include <rtftok/RTFScannerHandler.hxx>
 
--- writerfilter/qa/cppunittests/odiapi/ExternalViewLogger.cxx	24 Oct 2006 09:36:56 -0000	1.1
+++ writerfilter/qa/cppunittests/odiapi/ExternalViewLogger.cxx	15 Jan 2008 14:43:51 -0000
@@ -1,7 +1,15 @@
 /*  Copyright 2005 Sun Microsystems, Inc. */
 
 #include "ExternalViewLogger.hxx"
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <boost/assert.hpp>
 #include <stdio.h>
 
--- writerfilter/qa/cppunittests/odiapi/FileLoggerImpl.cxx	24 Oct 2006 09:36:57 -0000	1.1
+++ writerfilter/qa/cppunittests/odiapi/FileLoggerImpl.cxx	15 Jan 2008 14:43:51 -0000
@@ -1,7 +1,14 @@
 /*  Copyright 2005 Sun Microsystems, Inc. */
 
 #include "FileLoggerImpl.hxx"
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 using namespace std;
 
--- writerfilter/qa/cppunittests/qname/testQName.cxx	24 Oct 2006 09:37:55 -0000	1.1
+++ writerfilter/qa/cppunittests/qname/testQName.cxx	15 Jan 2008 14:44:04 -0000
@@ -6,9 +6,15 @@
 #include <rtl/string.hxx>
 #include <rtl/random.h>
 #include <osl/time.h>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
 #include <stdexcept>
-
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 
 using namespace writerfilter;
 
--- writerfilter/source/dmapper/DomainMapper_Impl.cxx	12 Dec 2007 08:00:29 -0000	1.19.12.10
+++ writerfilter/source/dmapper/DomainMapper_Impl.cxx	15 Jan 2008 14:44:08 -0000
@@ -64,8 +64,13 @@
 #include <rtl/string.h>
 #include <resourcemodel/QNameToString.hxx>
 
-
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 using namespace ::com::sun::star;
 using namespace ::rtl;
--- writerfilter/source/dmapper/DomainMapper_Impl.hxx	22 Nov 2007 14:53:43 -0000	1.18.12.4
+++ writerfilter/source/dmapper/DomainMapper_Impl.hxx	15 Jan 2008 14:44:08 -0000
@@ -44,8 +44,15 @@
 #ifndef _COM_SUN_STAR_CONTAINER_XNAMECONTAINER_HPP_
 #include <com/sun/star/container/XNameContainer.hpp>
 #endif
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <vector>
 #include <stack>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #ifndef INCLUDED_RESOURCESIDS
 #include <doctok/resourceids.hxx>
@@ -76,7 +83,14 @@
 #ifndef INCLUDED_GRAPHICIMPORT_HXX
 #include <GraphicImport.hxx>
 #endif
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace com{ namespace sun{ namespace star{
         namespace lang{
--- writerfilter/source/dmapper/PropertyIds.cxx	12 Dec 2007 08:05:16 -0000	1.26.12.7
+++ writerfilter/source/dmapper/PropertyIds.cxx	15 Jan 2008 14:44:09 -0000
@@ -36,7 +36,14 @@
 #include <PropertyIds.hxx>
 #endif
 #include <rtl/ustring.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace dmapper{
--- writerfilter/source/dmapper/PropertyMap.hxx	26 Nov 2007 14:11:52 -0000	1.13.12.2
+++ writerfilter/source/dmapper/PropertyMap.hxx	15 Jan 2008 14:44:10 -0000
@@ -53,9 +53,17 @@
 #ifndef INCLUDED_DMAPPER_PROPERTYIDS_HXX
 #include <PropertyIds.hxx>
 #endif
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
 #include <map>
 #include <vector>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 namespace com{namespace sun{namespace star{
     namespace beans{
     struct PropertyValue;
--- writerfilter/source/dmapper/StyleSheetTable.cxx	29 Nov 2007 16:36:31 -0000	1.27.12.12
+++ writerfilter/source/dmapper/StyleSheetTable.cxx	15 Jan 2008 14:44:11 -0000
@@ -38,7 +38,15 @@
 #include <BorderHandler.hxx>
 #include <doctok/resourceids.hxx>
 #include <ooxml/resourceids.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <vector>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <com/sun/star/beans/XMultiPropertySet.hpp>
 #include <com/sun/star/beans/XPropertyState.hpp>
 #include <com/sun/star/beans/PropertyValue.hpp>
@@ -48,7 +56,15 @@
 #include <com/sun/star/style/XStyle.hpp>
 #include <com/sun/star/text/WritingMode.hpp>
 #include <com/sun/star/lang/XMultiServiceFactory.hpp>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <stdio.h>
 #include <rtl/ustrbuf.hxx>
 
--- writerfilter/source/dmapper/ThemeTable.hxx	14 Nov 2007 12:57:07 -0000	1.1.6.4
+++ writerfilter/source/dmapper/ThemeTable.hxx	15 Jan 2008 14:44:11 -0000
@@ -41,7 +41,14 @@
 #endif
 #include <resourcemodel/WW8ResourceModel.hxx>
 #include <com/sun/star/lang/XComponent.hpp>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace dmapper
--- writerfilter/source/doctok/Dff.hxx	14 Nov 2007 12:57:45 -0000	1.6.12.1
+++ writerfilter/source/doctok/Dff.hxx	15 Jan 2008 14:44:11 -0000
@@ -46,7 +46,14 @@
 #ifndef INCLUDED_DFF_HXX
 #define INCLUDED_DFF_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <vector>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <WW8StructBase.hxx>
 #include <WW8ResourceModelImpl.hxx>
 
--- writerfilter/source/doctok/PLCF.hxx	14 Nov 2007 12:57:45 -0000	1.3.12.1
+++ writerfilter/source/doctok/PLCF.hxx	15 Jan 2008 14:44:12 -0000
@@ -36,7 +36,14 @@
 #ifndef INCLUDED_PLCF_HXX
 #define INCLUDED_PLCF_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #ifndef INCLUDED_WW8_STRUCT_BASE_HXX
 #include <WW8StructBase.hxx>
 #endif
--- writerfilter/source/doctok/WW8BinTable.hxx	14 Nov 2007 12:57:46 -0000	1.2.12.1
+++ writerfilter/source/doctok/WW8BinTable.hxx	15 Jan 2008 14:44:12 -0000
@@ -36,8 +36,14 @@
 #ifndef INCLUDED_WW8_BIN_TABLE_HXX
 #define INCLUDED_WW8_BIN_TABLE_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
 #include <string>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #ifndef INCLUDED_WW8_FKP_HXX
 #include <WW8FKP.hxx>
--- writerfilter/source/doctok/WW8BinTableImpl.hxx	14 Nov 2007 12:57:46 -0000	1.2.12.1
+++ writerfilter/source/doctok/WW8BinTableImpl.hxx	15 Jan 2008 14:44:12 -0000
@@ -36,7 +36,14 @@
 #ifndef INCLUDED_WW8_BIN_TABLE_IMPL_HXX
 #define INCLUDED_WW8_BIN_TABLE_IMPL_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <istream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #ifndef INCLUDED_WW8_BIN_TABLE_HXX
 #include <WW8BinTable.hxx>
 #endif
@@ -44,7 +51,13 @@
 #include <PLCF.hxx>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace doctok 
--- writerfilter/source/doctok/WW8CpAndFc.cxx	14 Nov 2007 12:57:46 -0000	1.3.12.1
+++ writerfilter/source/doctok/WW8CpAndFc.cxx	15 Jan 2008 14:44:12 -0000
@@ -35,10 +35,16 @@
 
 #include <WW8CpAndFc.hxx>
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iterator>
 #include <algorithm>
 #include <string>
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace doctok
--- writerfilter/source/doctok/WW8CpAndFc.hxx	14 Nov 2007 12:57:46 -0000	1.3.12.1
+++ writerfilter/source/doctok/WW8CpAndFc.hxx	15 Jan 2008 14:44:12 -0000
@@ -42,9 +42,16 @@
 #ifndef INCLUDED_DOCUMENT_HXX
 #include <doctok/WW8Document.hxx>
 #endif
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <set>
 #include <hash_map>
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace doctok 
--- writerfilter/source/doctok/WW8DocumentImpl.hxx	14 Nov 2007 12:57:46 -0000	1.7.12.2
+++ writerfilter/source/doctok/WW8DocumentImpl.hxx	15 Jan 2008 14:44:12 -0000
@@ -36,7 +36,14 @@
 #ifndef INCLUDED_WW8_DOCUMENT_IMPL_HXX
 #define INCLUDED_WW8_DOCUMENT_IMPL_HXX
     
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #ifndef INCLUDED_WW8_PIECE_TABLE_HXX
 #include <WW8PieceTable.hxx>
 #endif
--- writerfilter/source/doctok/WW8FKPImpl.hxx	14 Nov 2007 12:57:46 -0000	1.3.12.1
+++ writerfilter/source/doctok/WW8FKPImpl.hxx	15 Jan 2008 14:44:12 -0000
@@ -36,8 +36,15 @@
 #ifndef INCLUDED_WW8_FKP_IMPL_HXX
 #define INCLUDED_WW8_FKP_IMPL_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <set>
 #include <deque>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #ifndef INCLUDED_WW8_FKP_HXX
 #include <WW8FKP.hxx>
 #endif
--- writerfilter/source/doctok/WW8OutputWithDepth.cxx	14 Nov 2007 12:57:46 -0000	1.3.12.1
+++ writerfilter/source/doctok/WW8OutputWithDepth.cxx	15 Jan 2008 14:44:12 -0000
@@ -33,7 +33,14 @@
  *
  ************************************************************************/
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include "WW8OutputWithDepth.hxx"
 
 namespace writerfilter {
--- writerfilter/source/doctok/WW8OutputWithDepth.hxx	14 Nov 2007 12:57:46 -0000	1.3.12.1
+++ writerfilter/source/doctok/WW8OutputWithDepth.hxx	15 Jan 2008 14:44:12 -0000
@@ -40,7 +40,13 @@
 #include <resourcemodel/OutputWithDepth.hxx>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 using namespace ::std;
 
--- writerfilter/source/doctok/WW8PieceTable.hxx	14 Nov 2007 12:57:47 -0000	1.3.12.1
+++ writerfilter/source/doctok/WW8PieceTable.hxx	15 Jan 2008 14:44:12 -0000
@@ -44,8 +44,14 @@
 #include <doctok/WW8Document.hxx>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace doctok {
--- writerfilter/source/doctok/WW8PieceTableImpl.cxx	3 Dec 2007 09:34:58 -0000	1.3.12.2
+++ writerfilter/source/doctok/WW8PieceTableImpl.cxx	15 Jan 2008 14:44:12 -0000
@@ -33,8 +33,14 @@
  *
  ************************************************************************/
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <algorithm>
 #include <iterator>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #ifndef INCLUDED_DOCTOK_EXCEPTIONS
 #include <resourcemodel/exceptions.hxx>
--- writerfilter/source/doctok/WW8PieceTableImpl.hxx	14 Nov 2007 12:57:47 -0000	1.3.12.1
+++ writerfilter/source/doctok/WW8PieceTableImpl.hxx	15 Jan 2008 14:44:13 -0000
@@ -36,7 +36,14 @@
 #ifndef INCLUDED_WW8_PIECE_TABLE_IMPL_HXX
 #define INCLUDED_WW8_PIECE_TABLE_IMPL_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <vector>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #ifndef INCLUDED_WW8_CP_AND_FC_HXX
 #include <WW8CpAndFc.hxx>
 #endif
--- writerfilter/source/doctok/WW8PropertySetImpl.hxx	14 Nov 2007 12:57:47 -0000	1.4.12.2
+++ writerfilter/source/doctok/WW8PropertySetImpl.hxx	15 Jan 2008 14:44:13 -0000
@@ -52,7 +52,13 @@
 #include <WW8OutputWithDepth.hxx>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace doctok 
--- writerfilter/source/doctok/WW8ResourceModelImpl.hxx	3 Dec 2007 09:35:54 -0000	1.10.12.4
+++ writerfilter/source/doctok/WW8ResourceModelImpl.hxx	15 Jan 2008 14:44:14 -0000
@@ -52,7 +52,13 @@
 #include <resourcemodel/OutputWithDepth.hxx>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace doctok
--- writerfilter/source/doctok/WW8StructBase.hxx	14 Nov 2007 12:57:47 -0000	1.3.12.1
+++ writerfilter/source/doctok/WW8StructBase.hxx	15 Jan 2008 14:44:14 -0000
@@ -36,7 +36,13 @@
 #ifndef INCLUDED_WW8_STRUCT_BASE_HXX
 #define INCLUDED_WW8_STRUCT_BASE_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #ifndef INCLUDED_WW8_DOCUMENT_HXX
 #include <doctok/WW8Document.hxx>
--- writerfilter/source/doctok/WW8Sttbf.hxx	14 Nov 2007 12:57:47 -0000	1.2.12.1
+++ writerfilter/source/doctok/WW8Sttbf.hxx	15 Jan 2008 14:44:14 -0000
@@ -40,8 +40,14 @@
 #include <WW8StructBase.hxx>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/shared_ptr.hpp>
 #include <vector>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace doctok
--- writerfilter/source/doctok/resources.xsl	14 Nov 2007 12:57:49 -0000	1.7.12.2
+++ writerfilter/source/doctok/resources.xsl	15 Jan 2008 14:44:15 -0000
@@ -84,8 +84,14 @@
 #ifndef INCLUDED_RESOURCES_HXX
 #define INCLUDED_RESOURCES_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #ifndef INCLUDED_OUTPUT_WITH_DEPTH_HXX
 #include &lt;resourcemodel/OutputWithDepth.hxx&gt;
--- writerfilter/source/doctok/util.hxx	14 Nov 2007 12:57:49 -0000	1.2.12.1
+++ writerfilter/source/doctok/util.hxx	15 Jan 2008 14:44:15 -0000
@@ -36,8 +36,14 @@
 #ifndef INCLUDED_UTIL_HXX
 #define INCLUDED_UTIL_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter {
 namespace doctok {
--- writerfilter/source/odiapi/core/NodeImpl.hxx	1 Nov 2006 09:14:35 -0000	1.2
+++ writerfilter/source/odiapi/core/NodeImpl.hxx	15 Jan 2008 14:44:15 -0000
@@ -40,8 +40,14 @@
 
 #include <odiapi/core/Node.hxx>
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
 #include <boost/shared_ptr.hpp>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace odiapi { namespace core {
 
--- writerfilter/source/odiapi/props/PropertiesImpl.cxx	26 Apr 2007 21:34:43 -0000	1.3
+++ writerfilter/source/odiapi/props/PropertiesImpl.cxx	15 Jan 2008 14:44:16 -0000
@@ -37,13 +37,29 @@
 
 #include "PropertiesImpl.hxx"
 #include <odiapi/props/Logger.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <boost/assert.hpp>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <stdlib.h>
 #include <stdio.h>
 #include <stdexcept>
 #include <utility>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <memory>
 #include <algorithm>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <errno.h>
 
 using namespace boost;
--- writerfilter/source/odiapi/props/PropertiesImpl.hxx	1 Nov 2006 09:14:35 -0000	1.2
+++ writerfilter/source/odiapi/props/PropertiesImpl.hxx	15 Jan 2008 14:44:16 -0000
@@ -42,9 +42,15 @@
 #include <odiapi/props/Properties.hxx>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <set>
 #include <map>
 #include <list>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 
 namespace odiapi { namespace props {
 
--- writerfilter/source/odiapi/qname/QName.cxx	1 Nov 2006 09:14:35 -0000	1.2
+++ writerfilter/source/odiapi/qname/QName.cxx	15 Jan 2008 14:44:29 -0000
@@ -37,12 +37,28 @@
 
 #include <odiapi/qname/QName.hxx>
 #include <rtl/string.h>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
 #include <hash_map>
 #include <stack>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <stdexcept>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <stdio.h>
 
 namespace writerfilter
--- writerfilter/source/odiapi/sl/od_sl.cxx	18 May 2007 15:44:43 -0000	1.3
+++ writerfilter/source/odiapi/sl/od_sl.cxx	15 Jan 2008 14:44:29 -0000
@@ -35,8 +35,15 @@
 
 
 #include <odiapi/sl/od_sl.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <stack>
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include <stdio.h>
 
--- writerfilter/source/ooxml/OOXMLFastContextHandler.cxx	12 Dec 2007 07:54:43 -0000	1.1.6.19
+++ writerfilter/source/ooxml/OOXMLFastContextHandler.cxx	15 Jan 2008 14:44:30 -0000
@@ -33,8 +33,15 @@
  *
  ************************************************************************/
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iostream>
 #include <set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <rtl/uuid.h>
 #include <com/sun/star/drawing/XShapes.hpp>
 #include <resourcemodel/QNameToString.hxx>
--- writerfilter/source/ooxml/OOXMLFastContextHandler.hxx	27 Nov 2007 10:52:05 -0000	1.1.6.11
+++ writerfilter/source/ooxml/OOXMLFastContextHandler.hxx	15 Jan 2008 14:44:30 -0000
@@ -40,7 +40,14 @@
 #include <com/sun/star/xml/sax/XFastShapeContextHandler.hpp>
 #endif
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include "sal/config.h"
 #include "com/sun/star/uno/XComponentContext.hpp"
 #include "cppuhelper/implbase1.hxx"
--- writerfilter/source/ooxml/OOXMLFastDocumentHandler.cxx	21 Nov 2007 11:49:51 -0000	1.1.6.5
+++ writerfilter/source/ooxml/OOXMLFastDocumentHandler.cxx	15 Jan 2008 14:44:30 -0000
@@ -33,8 +33,15 @@
  *
  ************************************************************************/
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iostream>
 #include <boost/shared_ptr.hpp>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include "OOXMLFastDocumentHandler.hxx"
 #include "OOXMLFastContextHandler.hxx"
 #include "OOXMLFastTokens.hxx"
--- writerfilter/source/ooxml/OOXMLFastHelper.hxx	3 Dec 2007 09:39:06 -0000	1.1.4.6
+++ writerfilter/source/ooxml/OOXMLFastHelper.hxx	15 Jan 2008 14:44:31 -0000
@@ -35,7 +35,14 @@
 #ifndef INCLUDED_FAST_HELPER_HXX
 #define INCLUDED_FAST_HELPER_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <resourcemodel/QNameToString.hxx>
 #include "OOXMLFastContextHandler.hxx"
 
--- writerfilter/source/ooxml/OOXMLParserState.cxx	14 Nov 2007 12:58:59 -0000	1.1.6.3
+++ writerfilter/source/ooxml/OOXMLParserState.cxx	15 Jan 2008 14:44:31 -0000
@@ -34,7 +34,15 @@
  ************************************************************************/
 
 #include <stdio.h>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include "OOXMLParserState.hxx"
 
 namespace writerfilter {
--- writerfilter/source/ooxml/OOXMLPropertySetImpl.cxx	7 Dec 2007 09:38:27 -0000	1.18.12.8
+++ writerfilter/source/ooxml/OOXMLPropertySetImpl.cxx	15 Jan 2008 14:44:31 -0000
@@ -34,7 +34,15 @@
  ************************************************************************/
 
 #include "OOXMLPropertySetImpl.hxx"
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <resourcemodel/QNameToString.hxx>
 
 #ifndef _COM_SUN_STAR_DRAWING_XSHAPE_HPP_
--- writerfilter/source/ooxml/OOXMLPropertySetImpl.hxx	15 Nov 2007 14:26:29 -0000	1.17.12.3
+++ writerfilter/source/ooxml/OOXMLPropertySetImpl.hxx	15 Jan 2008 14:44:33 -0000
@@ -35,7 +35,14 @@
 #ifndef INCLUDED_OOXML_PROPERTY_SET_IMPL_HXX
 #define INCLUDED_OOXML_PROPERTY_SET_IMPL_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <vector>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include "OOXMLPropertySet.hxx"
 #include "OOXMLBinaryObjectReference.hxx"
 
--- writerfilter/source/ooxml/fastresources.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.5
+++ writerfilter/source/ooxml/fastresources.xsl	15 Jan 2008 14:44:33 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_RESOURCES_HXX
 #define INCLUDED_OOXML_RESOURCES_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include &lt;doctok/resourceids.hxx&gt;
--- writerfilter/source/ooxml/fastresources_.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_.xsl	15 Jan 2008 14:44:33 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_WML_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_WML_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-baseStylesheet.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-baseStylesheet.xsl	15 Jan 2008 14:44:33 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_BASESTYLESHEET_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_BASESTYLESHEET_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-baseTypes.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-baseTypes.xsl	15 Jan 2008 14:44:33 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_BASETYPES_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_BASETYPES_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-chartDrawing.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-chartDrawing.xsl	15 Jan 2008 14:44:33 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_CHARTDRAWING_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_CHARTDRAWING_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-documentProperties.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-documentProperties.xsl	15 Jan 2008 14:44:33 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_DOCUMENTPROPERTIES_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_DOCUMENTPROPERTIES_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-graphicalObject.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-graphicalObject.xsl	15 Jan 2008 14:44:34 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_GRAPHICALOBJECT_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_GRAPHICALOBJECT_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-shape3DCamera.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-shape3DCamera.xsl	15 Jan 2008 14:44:34 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_SHAPE3DCAMERA_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_SHAPE3DCAMERA_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-shape3DLighting.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-shape3DLighting.xsl	15 Jan 2008 14:44:34 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_SHAPE3DLIGHTING_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_SHAPE3DLIGHTING_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-shape3DScene.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-shape3DScene.xsl	15 Jan 2008 14:44:34 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_SHAPE3DSCENE_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_SHAPE3DSCENE_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-shape3DStyles.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-shape3DStyles.xsl	15 Jan 2008 14:44:34 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_SHAPE3DSTYLES_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_SHAPE3DSTYLES_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-shapeEffects.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-shapeEffects.xsl	15 Jan 2008 14:44:34 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_SHAPEEFFECTS_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_SHAPEEFFECTS_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-shapeGeometry.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-shapeGeometry.xsl	15 Jan 2008 14:44:34 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_SHAPEGEOMETRY_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_SHAPEGEOMETRY_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-shapeLineProperties.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-shapeLineProperties.xsl	15 Jan 2008 14:44:34 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_SHAPELINEPROPERTIES_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_SHAPELINEPROPERTIES_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-shapeProperties.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-shapeProperties.xsl	15 Jan 2008 14:44:35 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_SHAPEPROPERTIES_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_SHAPEPROPERTIES_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-styleDefaults.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-styleDefaults.xsl	15 Jan 2008 14:44:35 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_STYLEDEFAULTS_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_STYLEDEFAULTS_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-stylesheet.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-stylesheet.xsl	15 Jan 2008 14:44:35 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_STYLESHEET_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_STYLESHEET_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-textCharacter.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-textCharacter.xsl	15 Jan 2008 14:44:35 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_TEXTCHARACTER_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_TEXTCHARACTER_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_dml-wordprocessingDrawing.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_dml-wordprocessingDrawing.xsl	15 Jan 2008 14:44:35 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_DML_WORDPROCESSINGDRAWING_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_DML_WORDPROCESSINGDRAWING_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_shared-math.xsl	14 Nov 2007 12:58:59 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_shared-math.xsl	15 Jan 2008 14:44:35 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_SHARED_MATH_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_SHARED_MATH_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_shared-relationshipReference.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_shared-relationshipReference.xsl	15 Jan 2008 14:44:35 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_SHARED_RELATIONSHIPREFERENCE_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_SHARED_RELATIONSHIPREFERENCE_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_sml-customXmlMappings.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_sml-customXmlMappings.xsl	15 Jan 2008 14:44:35 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_SML_CUSTOMXMLMAPPINGS_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_SML_CUSTOMXMLMAPPINGS_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresources_wml.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresources_wml.xsl	15 Jan 2008 14:44:35 -0000
@@ -77,9 +77,15 @@
 #ifndef INCLUDED_OOXML_FASTRESOURCES_WML_HXX
 #define INCLUDED_OOXML_FASTRESOURCES_WML_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 #include "OOXMLFastContextHandler.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.6
+++ writerfilter/source/ooxml/fastresourcesimpl.xsl	15 Jan 2008 14:44:35 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/sprmids.hxx&gt;
 #include "OOXMLFastHelper.hxx"
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-baseStylesheet.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-baseStylesheet.xsl	15 Jan 2008 14:44:35 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-baseTypes.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-baseTypes.xsl	15 Jan 2008 14:44:35 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-chartDrawing.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-chartDrawing.xsl	15 Jan 2008 14:44:35 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
diff -u -r1.1.4.4 fastresourcesimpl_dml-documentProperties.xsl
--- writerfilter/source/ooxml/fastresourcesimpl_dml-documentProperties.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-documentProperties.xsl	15 Jan 2008 14:44:35 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-graphicalObject.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-graphicalObject.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
diff -u -r1.1.4.4 fastresourcesimpl_dml-shape3DCamera.xsl
--- writerfilter/source/ooxml/fastresourcesimpl_dml-shape3DCamera.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-shape3DCamera.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-shape3DLighting.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-shape3DLighting.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-shape3DScene.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-shape3DScene.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-shape3DStyles.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-shape3DStyles.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-shapeEffects.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-shapeEffects.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-shapeGeometry.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-shapeGeometry.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-shapeLineProperties.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-shapeLineProperties.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-shapeProperties.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-shapeProperties.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-styleDefaults.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-styleDefaults.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-stylesheet.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-stylesheet.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-textCharacter.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-textCharacter.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_dml-wordprocessingDrawing.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_dml-wordprocessingDrawing.xsl	15 Jan 2008 14:44:36 -0000
@@ -76,7 +76,14 @@
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_shared-math.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_shared-math.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_shared-relationshipReference.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_shared-relationshipReference.xsl	15 Jan 2008 14:44:36 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_sml-customXmlMappings.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.4
+++ writerfilter/source/ooxml/fastresourcesimpl_sml-customXmlMappings.xsl	15 Jan 2008 14:44:37 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include "OOXMLfastresources.hxx"
--- writerfilter/source/ooxml/fastresourcesimpl_wml.xsl	14 Nov 2007 12:59:00 -0000	1.1.4.5
+++ writerfilter/source/ooxml/fastresourcesimpl_wml.xsl	15 Jan 2008 14:44:37 -0000
@@ -75,7 +75,14 @@
     <out xml:space="preserve">
       <xsl:call-template name="licenseheader"/>
       <xsl:text>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;iostream&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include &lt;doctok/resourceids.hxx&gt;
 #include &lt;ooxml/resourceids.hxx&gt;
 #include &lt;doctok/sprmids.hxx&gt;
--- writerfilter/source/ooxml/fasttokens.xsl	21 Nov 2007 11:42:09 -0000	1.1.6.5
+++ writerfilter/source/ooxml/fasttokens.xsl	15 Jan 2008 14:44:37 -0000
@@ -78,10 +78,16 @@
 #ifndef INCLUDED_OOXML_FAST_TOKENS_HXX
 #define INCLUDED_OOXML_FAST_TOKENS_HXX
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include &lt;map&gt;
 #include &lt;vector&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 #include &lt;string&gt;
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 #include &lt;resourcemodel/WW8ResourceModel.hxx&gt;
 
--- writerfilter/source/resourcemodel/WW8Analyzer.cxx	12 Dec 2007 07:53:29 -0000	1.1.2.6
+++ writerfilter/source/resourcemodel/WW8Analyzer.cxx	15 Jan 2008 14:44:37 -0000
@@ -34,7 +34,15 @@
  ************************************************************************/
 
 #include <stdlib.h>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <fstream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <WW8Analyzer.hxx>
 #include <doctok/resourceids.hxx>
 #include <resourcemodel/QNameToString.hxx>
--- writerfilter/source/resourcemodel/WW8Analyzer.hxx	14 Nov 2007 13:00:50 -0000	1.1.2.2
+++ writerfilter/source/resourcemodel/WW8Analyzer.hxx	15 Jan 2008 14:44:37 -0000
@@ -38,8 +38,14 @@
 
 #include <resourcemodel/WW8ResourceModel.hxx>
 
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
 #include <map>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 namespace writerfilter
 {
--- writerfilter/unocomponent/debugservices/doctok/DocTokAnalyzeService.cxx	3 Dec 2007 09:41:42 -0000	1.10.12.4
+++ writerfilter/unocomponent/debugservices/doctok/DocTokAnalyzeService.cxx	15 Jan 2008 14:44:37 -0000
@@ -50,7 +50,15 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <cppuhelper/implbase2.hxx>
 #include <com/sun/star/embed/XTransactedObject.hpp>
--- writerfilter/unocomponent/debugservices/doctok/DocTokTestService.cxx	3 Dec 2007 09:41:41 -0000	1.7.12.3
+++ writerfilter/unocomponent/debugservices/doctok/DocTokTestService.cxx	15 Jan 2008 14:44:37 -0000
@@ -50,7 +50,15 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <cppuhelper/implbase2.hxx>
 #include <com/sun/star/embed/XTransactedObject.hpp>
--- writerfilter/unocomponent/debugservices/odsl/ODSLParser.cxx	19 Jun 2007 05:34:19 -0000	1.6
+++ writerfilter/unocomponent/debugservices/odsl/ODSLParser.cxx	15 Jan 2008 14:44:38 -0000
@@ -61,7 +61,15 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <cppuhelper/implbase2.hxx>
 #include <com/sun/star/embed/XTransactedObject.hpp>
--- writerfilter/unocomponent/debugservices/ooxml/OOXMLAnalyzeService.cxx	14 Nov 2007 13:01:09 -0000	1.1.2.5
+++ writerfilter/unocomponent/debugservices/ooxml/OOXMLAnalyzeService.cxx	15 Jan 2008 14:44:38 -0000
@@ -54,7 +54,15 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <cppuhelper/implbase2.hxx>
 #include <com/sun/star/embed/XTransactedObject.hpp>
--- writerfilter/unocomponent/debugservices/ooxml/OOXMLTestService.cxx	29 Nov 2007 15:50:13 -0000	1.4.12.2
+++ writerfilter/unocomponent/debugservices/ooxml/OOXMLTestService.cxx	15 Jan 2008 14:44:38 -0000
@@ -66,7 +66,15 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <cppuhelper/implbase2.hxx>
 #include <cppuhelper/bootstrap.hxx>
--- writerfilter/unocomponent/debugservices/rtfsl/RTFSLParser.cxx	19 Jun 2007 05:39:12 -0000	1.5
+++ writerfilter/unocomponent/debugservices/rtfsl/RTFSLParser.cxx	15 Jan 2008 14:44:38 -0000
@@ -52,7 +52,15 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <cppuhelper/implbase2.hxx>
 #include <com/sun/star/embed/XTransactedObject.hpp>
--- writerfilter/unocomponent/debugservices/rtftok/ScannerTestService.cxx	29 Oct 2007 14:04:50 -0000	1.7
+++ writerfilter/unocomponent/debugservices/rtftok/ScannerTestService.cxx	15 Jan 2008 14:44:39 -0000
@@ -52,7 +52,15 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <cppuhelper/implbase2.hxx>
 #include <com/sun/star/embed/XTransactedObject.hpp>
--- writerfilter/unocomponent/debugservices/rtftok/XMLScanner.cxx	19 Jun 2007 05:39:13 -0000	1.6
+++ writerfilter/unocomponent/debugservices/rtftok/XMLScanner.cxx	15 Jan 2008 14:44:40 -0000
@@ -52,9 +52,25 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <string>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <cppuhelper/implbase2.hxx>
 #include <com/sun/star/embed/XTransactedObject.hpp>
 #include <com/sun/star/embed/XStorage.hpp>
@@ -66,7 +82,14 @@
 #include <comphelper/seqstream.hxx>
 
 #include <ctype.h>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <iostream>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
 
 using namespace ::com::sun::star;
 using namespace ::std;
--- writerfilter/unocomponent/debugservices/xxml/FileXXmlReader.cxx	19 Jun 2007 05:39:13 -0000	1.5
+++ writerfilter/unocomponent/debugservices/xxml/FileXXmlReader.cxx	15 Jan 2008 14:44:40 -0000
@@ -59,7 +59,15 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <cppuhelper/implbase2.hxx>
 #include <com/sun/star/embed/XTransactedObject.hpp>
--- writerfilter/unocomponent/debugservices/xxml/StorageXXmlReader.cxx	19 Jun 2007 05:39:13 -0000	1.5
+++ writerfilter/unocomponent/debugservices/xxml/StorageXXmlReader.cxx	15 Jan 2008 14:44:40 -0000
@@ -59,7 +59,15 @@
 #include <com/sun/star/ucb/XSimpleFileAccess.hpp>
 #include <osl/process.h>
 #include <rtl/string.hxx>
+
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility push(default)
+#endif
 #include <hash_set>
+#ifdef GCC_VISIBILITY_BROKEN
+#pragma GCC visibility pop
+#endif
+
 #include <assert.h>
 #include <cppuhelper/implbase2.hxx>
 #include <com/sun/star/embed/XTransactedObject.hpp>
